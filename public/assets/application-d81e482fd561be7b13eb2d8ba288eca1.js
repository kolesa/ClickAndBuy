function imgLoaded(t){$(t).parent().addClass("loaded")}if(function(t,e){function n(t){var e=t.length,n=re.type(t);return re.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t){var e=pe[t]={};return re.each(t.match(ae)||[],function(t,n){e[n]=!0}),e}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=re.expando+Math.random()}function r(t,n,i){var o;if(i===e&&1===t.nodeType)if(o="data-"+n.replace(ye,"-$1").toLowerCase(),i=t.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ve.test(i)?JSON.parse(i):i}catch(r){}me.set(t,n,i)}else i=e;return i}function s(){return!0}function a(){return!1}function l(){try{return q.activeElement}catch(t){}}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t,e,n){if(re.isFunction(e))return re.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return re.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Ne.test(e))return re.filter(e,t,n);e=re.filter(e,t)}return re.grep(t,function(t){return ee.call(e,t)>=0!==n})}function h(t,e){return re.nodeName(t,"table")&&re.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=je.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function p(t,e){for(var n=t.length,i=0;n>i;i++)ge.set(t[i],"globalEval",!e||ge.get(e[i],"globalEval"))}function m(t,e){var n,i,o,r,s,a,l,c;if(1===e.nodeType){if(ge.hasData(t)&&(r=ge.access(t),s=ge.set(e,r),c=r.events)){delete s.handle,s.events={};for(o in c)for(n=0,i=c[o].length;i>n;n++)re.event.add(e,o,c[o][n])}me.hasData(t)&&(a=me.access(t),l=re.extend({},a),me.set(e,l))}}function g(t,n){var i=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&re.nodeName(t,n)?re.merge([t],i):i}function v(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Me.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=Ze.length;o--;)if(e=Ze[o]+n,e in t)return e;return i}function b(t,e){return t=e||t,"none"===re.css(t,"display")||!re.contains(t.ownerDocument,t)}function C(e){return t.getComputedStyle(e,null)}function w(t,e){for(var n,i,o,r=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(r[s]=ge.get(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&b(i)&&(r[s]=ge.access(i,"olddisplay",T(i.nodeName)))):r[s]||(o=b(i),(n&&"none"!==n||!o)&&ge.set(i,"olddisplay",o?n:re.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function S(t,e,n){var i=Ve.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function x(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=re.css(t,n+Je[r],!0,o)),i?("content"===n&&(s-=re.css(t,"padding"+Je[r],!0,o)),"margin"!==n&&(s-=re.css(t,"border"+Je[r]+"Width",!0,o))):(s+=re.css(t,"padding"+Je[r],!0,o),"padding"!==n&&(s+=re.css(t,"border"+Je[r]+"Width",!0,o)));return s}function _(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=C(t),s=re.support.boxSizing&&"border-box"===re.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=Be(t,e,r),(0>o||null==o)&&(o=t.style[e]),Ge.test(o))return o;i=s&&(re.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+x(t,e,n||(s?"border":"content"),i,r)+"px"}function T(t){var e=q,n=Ye[t];return n||(n=D(t,e),"none"!==n&&n||(ze=(ze||re("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ze[0].contentWindow||ze[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=D(t,e),ze.detach()),Ye[t]=n),n}function D(t,e){var n=re(e.createElement(t)).appendTo(e.body),i=re.css(n[0],"display");return n.remove(),i}function E(t,e,n,i){var o;if(re.isArray(e))re.each(e,function(e,o){n||en.test(t)?i(t,o):E(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==re.type(e))i(t,e);else for(o in e)E(t+"["+o+"]",e[o],n,i)}function N(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(ae)||[];if(re.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function I(t,n,i,o){function r(l){var c;return s[l]=!0,re.each(t[l]||[],function(t,l){var u=l(n,i,o);return"string"!=typeof u||a||s[u]?a?!(c=u):e:(n.dataTypes.unshift(u),r(u),!1)}),c}var s={},a=t===bn;return r(n.dataTypes[0])||!s["*"]&&r("*")}function k(t,n){var i,o,r=re.ajaxSettings.flatOptions||{};for(i in n)n[i]!==e&&((r[i]?t:o||(o={}))[i]=n[i]);return o&&re.extend(!0,t,o),t}function P(t,n,i){for(var o,r,s,a,l=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),o===e&&(o=t.mimeType||n.getResponseHeader("Content-Type"));if(o)for(r in l)if(l[r]&&l[r].test(o)){c.unshift(r);break}if(c[0]in i)s=c[0];else{for(r in i){if(!c[0]||t.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):e}function A(t,e,n,i){var o,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(s=c[l+" "+r]||c["* "+r],!s)for(o in c)if(a=o.split(" "),a[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function L(){return setTimeout(function(){Nn=e}),Nn=re.now()}function R(t,e,n){for(var i,o=(Rn[e]||[]).concat(Rn["*"]),r=0,s=o.length;s>r;r++)if(i=o[r].call(n,e,t))return i}function O(t,e,n){var i,o,r=0,s=Ln.length,a=re.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Nn||L(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,r=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(r);return a.notifyWith(t,[c,r,n]),1>r&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:re.extend({},e),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Nn||L(),duration:n.duration,tweens:[],createTween:function(e,n){var i=re.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(M(u,c.opts.specialEasing);s>r;r++)if(i=Ln[r].call(c,t,u,c.opts))return i;return re.map(u,R,c),re.isFunction(c.opts.start)&&c.opts.start.call(t,c),re.fx.timer(re.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function M(t,e){var n,i,o,r,s;for(n in t)if(i=re.camelCase(n),o=e[i],r=t[n],re.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),s=re.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete t[i];for(n in r)n in t||(t[n]=r[n],e[n]=o)}else e[i]=o}function H(t,n,i){var o,r,s,a,l,c,u=this,h={},d=t.style,f=t.nodeType&&b(t),p=ge.get(t,"fxshow");i.queue||(l=re._queueHooks(t,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,u.always(function(){u.always(function(){l.unqueued--,re.queue(t,"fx").length||l.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===re.css(t,"display")&&"none"===re.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(o in n)if(r=n[o],kn.exec(r)){if(delete n[o],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||p[o]===e)continue;f=!0}h[o]=p&&p[o]||re.style(t,o)}if(!re.isEmptyObject(h)){p?"hidden"in p&&(f=p.hidden):p=ge.access(t,"fxshow",{}),s&&(p.hidden=!f),f?re(t).show():u.done(function(){re(t).hide()}),u.done(function(){var e;ge.remove(t,"fxshow");for(e in h)re.style(t,e,h[e])});for(o in h)a=R(f?p[o]:0,o,u),o in p||(p[o]=a.start,f&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}}function F(t,e,n,i,o){return new F.prototype.init(t,e,n,i,o)}function j(t,e){var n,i={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)n=Je[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function $(t){return re.isWindow(t)?t:9===t.nodeType&&t.defaultView}var W,B,z=typeof e,U=t.location,q=t.document,V=q.documentElement,G=t.jQuery,X=t.$,Y={},Q=[],K="2.0.3",J=Q.concat,Z=Q.push,te=Q.slice,ee=Q.indexOf,ne=Y.toString,ie=Y.hasOwnProperty,oe=K.trim,re=function(t,e){return new re.fn.init(t,e,W)},se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ae=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/^-ms-/,he=/-([\da-z])/gi,de=function(t,e){return e.toUpperCase()},fe=function(){q.removeEventListener("DOMContentLoaded",fe,!1),t.removeEventListener("load",fe,!1),re.ready()};re.fn=re.prototype={jquery:K,constructor:re,init:function(t,n,i){var o,r;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:le.exec(t),!o||!o[1]&&n)return!n||n.jquery?(n||i).find(t):this.constructor(n).find(t);if(o[1]){if(n=n instanceof re?n[0]:n,re.merge(this,re.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:q,!0)),ce.test(o[1])&&re.isPlainObject(n))for(o in n)re.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}return r=q.getElementById(o[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):re.isFunction(t)?i.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),re.makeArray(t,this))},selector:"",length:0,toArray:function(){return te.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=re.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return re.each(this,t,e)},ready:function(t){return re.ready.promise().done(t),this},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(re.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},re.fn.init.prototype=re.fn,re.extend=re.fn.extend=function(){var t,n,i,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||re.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(t=arguments[l]))for(n in t)i=a[n],o=t[n],a!==o&&(u&&o&&(re.isPlainObject(o)||(r=re.isArray(o)))?(r?(r=!1,s=i&&re.isArray(i)?i:[]):s=i&&re.isPlainObject(i)?i:{},a[n]=re.extend(u,s,o)):o!==e&&(a[n]=o));return a},re.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===re&&(t.$=X),e&&t.jQuery===re&&(t.jQuery=G),re},isReady:!1,readyWait:1,holdReady:function(t){t?re.readyWait++:re.ready(!0)},ready:function(t){(t===!0?--re.readyWait:re.isReady)||(re.isReady=!0,t!==!0&&--re.readyWait>0||(B.resolveWith(q,[re]),re.fn.trigger&&re(q).trigger("ready").off("ready")))},isFunction:function(t){return"function"===re.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[ne.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==re.type(t)||t.nodeType||re.isWindow(t))return!1;try{if(t.constructor&&!ie.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||q;var i=ce.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=re.buildFragment([t],e,o),o&&re(o).remove(),re.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,n=i.parseFromString(t,"text/xml")}catch(o){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&re.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;t=re.trim(t),t&&(1===t.indexOf("use strict")?(e=q.createElement("script"),e.text=t,q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ue,"ms-").replace(he,de)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,r=0,s=t.length,a=n(t);if(i){if(a)for(;s>r&&(o=e.apply(t[r],i),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],i),o===!1)break}else if(a)for(;s>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":oe.call(t)},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?re.merge(i,"string"==typeof t?[t]:t):Z.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:ee.call(e,t,n)},merge:function(t,n){var i=n.length,o=t.length,r=0;if("number"==typeof i)for(;i>r;r++)t[o++]=n[r];else for(;n[r]!==e;)t[o++]=n[r++];return t.length=o,t},grep:function(t,e,n){var i,o=[],r=0,s=t.length;for(n=!!n;s>r;r++)i=!!e(t[r],r),n!==i&&o.push(t[r]);return o},map:function(t,e,i){var o,r=0,s=t.length,a=n(t),l=[];if(a)for(;s>r;r++)o=e(t[r],r,i),null!=o&&(l[l.length]=o);else for(r in t)o=e(t[r],r,i),null!=o&&(l[l.length]=o);return J.apply([],l)},guid:1,proxy:function(t,n){var i,o,r;return"string"==typeof n&&(i=t[n],n=t,t=i),re.isFunction(t)?(o=te.call(arguments,2),r=function(){return t.apply(n||this,o.concat(te.call(arguments)))},r.guid=t.guid=t.guid||re.guid++,r):e},access:function(t,n,i,o,r,s,a){var l=0,c=t.length,u=null==i;if("object"===re.type(i)){r=!0;for(l in i)re.access(t,n,l,i[l],!0,s,a)}else if(o!==e&&(r=!0,re.isFunction(o)||(a=!0),u&&(a?(n.call(t,o),n=null):(u=n,n=function(t,e,n){return u.call(re(t),n)})),n))for(;c>l;l++)n(t[l],i,a?o:o.call(t[l],l,n(t[l],i)));return r?t:u?n.call(t):c?n(t[0],i):s},now:Date.now,swap:function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=n.apply(t,i||[]);for(r in e)t.style[r]=s[r];return o}}),re.ready.promise=function(e){return B||(B=re.Deferred(),"complete"===q.readyState?setTimeout(re.ready):(q.addEventListener("DOMContentLoaded",fe,!1),t.addEventListener("load",fe,!1))),B.promise(e)},re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),W=re(q),function(t,e){function n(t,e,n,i){var o,r,s,a,l,c,u,h,p,m;if((e?e.ownerDocument||e:$)!==A&&P(e),e=e||A,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(R&&!i){if(o=be.exec(t))if(s=o[1]){if(9===a){if(r=e.getElementById(s),!r||!r.parentNode)return n;if(r.id===s)return n.push(r),n}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&F(e,r)&&r.id===s)return n.push(r),n}else{if(o[2])return te.apply(n,e.getElementsByTagName(t)),n;if((s=o[3])&&x.getElementsByClassName&&e.getElementsByClassName)return te.apply(n,e.getElementsByClassName(s)),n}if(x.qsa&&(!O||!O.test(t))){if(h=u=j,p=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(u=e.getAttribute("id"))?h=u.replace(Se,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+f(c[l]);p=fe.test(t)&&e.parentNode||e,m=c.join(",")}if(m)try{return te.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{u||e.removeAttribute("id")}}}return w(t.replace(ue,"$1"),e,n,i)}function i(){function t(n,i){return e.push(n+=" ")>T.cacheLength&&delete t[e.shift()],t[n]=i}var e=[];return t}function o(t){return t[j]=!0,t}function r(t){var e=A.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=t.length;i--;)T.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return o(function(e){return e=+e,o(function(n,i){for(var o,r=t([],n.length,e),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function h(){}function d(t,e){var i,o,r,s,a,l,c,u=U[t+" "];if(u)return e?0:u.slice(0);for(a=t,l=[],c=T.preFilter;a;){(!i||(o=he.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=de.exec(a))&&(i=o.shift(),r.push({value:i,type:o[0].replace(ue," ")}),a=a.slice(i.length));for(s in T.filter)!(o=ve[s].exec(a))||c[s]&&!(o=c[s](o))||(i=o.shift(),r.push({value:i,type:s,matches:o}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):U(t,l).slice(0)}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=B++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,s){var a,l,c,u=W+" "+r;if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(c=e[j]||(e[j]={}),(l=c[i])&&l[0]===u){if((a=l[1])===!0||a===_)return a===!0}else if(l=c[i]=[u],l[1]=t(e,n,s)||_,l[1]===!0)return!0}}function m(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,c=null!=e;l>a;a++)(r=t[a])&&(!n||n(r,i,o))&&(s.push(r),c&&e.push(a));return s}function v(t,e,n,i,r,s){return i&&!i[j]&&(i=v(i)),r&&!r[j]&&(r=v(r,s)),o(function(o,s,a,l){var c,u,h,d=[],f=[],p=s.length,m=o||C(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?m:g(m,d,t,a,l),y=n?r||(o?t:p||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(c=g(y,f),i(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[f[u]]=!(v[f[u]]=h));if(o){if(r||t){if(r){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(v[u]=h);r(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=r?ne.call(o,h):d[u])>-1&&(o[c]=!(s[c]=h))}}else y=g(y===s?y.splice(p,y.length):y),r?r(null,s,y,l):te.apply(s,y)})}function y(t){for(var e,n,i,o=t.length,r=T.relative[t[0].type],s=r||T.relative[" "],a=r?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return ne.call(e,t)>-1},s,!0),u=[function(t,n,i){return!r&&(i||n!==I)||((e=n).nodeType?l(t,n,i):c(t,n,i))}];o>a;a++)if(n=T.relative[t[a].type])u=[p(m(u),n)];else{if(n=T.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;o>i&&!T.relative[t[i].type];i++);return v(a>1&&m(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ue,"$1"),n,i>a&&y(t.slice(a,i)),o>i&&y(t=t.slice(i)),o>i&&f(t))}u.push(n)}return m(u)}function b(t,e){var i=0,r=e.length>0,s=t.length>0,a=function(o,a,l,c,u){var h,d,f,p=[],m=0,v="0",y=o&&[],b=null!=u,C=I,w=o||s&&T.find.TAG("*",u&&a.parentNode||a),S=W+=null==C?1:Math.random()||.1;for(b&&(I=a!==A&&a,_=i);null!=(h=w[v]);v++){if(s&&h){for(d=0;f=t[d++];)if(f(h,a,l)){c.push(h);break}b&&(W=S,_=++i)}r&&((h=!f&&h)&&m--,o&&y.push(h))}if(m+=v,r&&v!==m){for(d=0;f=e[d++];)f(y,p,a,l);if(o){if(m>0)for(;v--;)y[v]||p[v]||(p[v]=J.call(c));p=g(p)}te.apply(c,p),b&&!o&&p.length>0&&m+e.length>1&&n.uniqueSort(c)}return b&&(W=S,I=C),y};return r?o(a):a}function C(t,e,i){for(var o=0,r=e.length;r>o;o++)n(t,e[o],i);return i}function w(t,e,n,i){var o,r,s,a,l,c=d(t);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===e.nodeType&&R&&T.relative[r[1].type]){if(e=(T.find.ID(s.matches[0].replace(xe,_e),e)||[])[0],!e)return n;t=t.slice(r.shift().value.length)}for(o=ve.needsContext.test(t)?0:r.length;o--&&(s=r[o],!T.relative[a=s.type]);)if((l=T.find[a])&&(i=l(s.matches[0].replace(xe,_e),fe.test(r[0].type)&&e.parentNode||e))){if(r.splice(o,1),t=i.length&&f(r),!t)return te.apply(n,i),n;break}}return N(t,c)(i,e,!R,n,fe.test(t)),n}var S,x,_,T,D,E,N,I,k,P,A,L,R,O,M,H,F,j="sizzle"+-new Date,$=t.document,W=0,B=0,z=i(),U=i(),q=i(),V=!1,G=function(t,e){return t===e?(V=!0,0):0},X=typeof e,Y=1<<31,Q={}.hasOwnProperty,K=[],J=K.pop,Z=K.push,te=K.push,ee=K.slice,ne=K.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=se.replace("w","w#"),le="\\["+oe+"*("+se+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+oe+"*\\]",ce=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ue=RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),he=RegExp("^"+oe+"*,"+oe+"*"),de=RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),fe=RegExp(oe+"*[+~]"),pe=RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),me=RegExp(ce),ge=RegExp("^"+ae+"$"),ve={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+le),PSEUDO:RegExp("^"+ce),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:RegExp("^(?:"+ie+")$","i"),needsContext:RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},ye=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ce=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,Se=/'|\\/g,xe=RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),_e=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{te.apply(K=ee.call($.childNodes),$.childNodes),K[$.childNodes.length].nodeType}catch(Te){te={apply:K.length?function(t,e){Z.apply(t,ee.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}E=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},x=n.support={},P=n.setDocument=function(t){var n=t?t.ownerDocument||t:$,i=n.defaultView;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,L=n.documentElement,R=!E(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){P()}),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=r(function(t){return L.appendChild(t).id=j,!n.getElementsByName||!n.getElementsByName(j).length}),x.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==X&&R){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(t){var e=t.replace(xe,_e);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(xe,_e);return function(t){var n=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return n&&n.value===e}}),T.find.TAG=x.getElementsByTagName?function(t,n){return typeof n.getElementsByTagName!==X?n.getElementsByTagName(t):e}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},T.find.CLASS=x.getElementsByClassName&&function(t,n){return typeof n.getElementsByClassName!==X&&R?n.getElementsByClassName(t):e},M=[],O=[],(x.qsa=ye.test(n.querySelectorAll))&&(r(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||O.push("\\["+oe+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||O.push(":checked")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&O.push("[*^$]="+oe+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=ye.test(H=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){x.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),M.push("!=",ce)}),O=O.length&&RegExp(O.join("|")),M=M.length&&RegExp(M.join("|")),F=ye.test(L.contains)||L.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=L.compareDocumentPosition?function(t,e){if(t===e)return V=!0,0;var i=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return i?1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===n||F($,t)?-1:e===n||F($,e)?1:k?ne.call(k,t)-ne.call(k,e):0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var i,o=0,r=t.parentNode,s=e.parentNode,l=[t],c=[e];if(t===e)return V=!0,0;if(!r||!s)return t===n?-1:e===n?1:r?-1:s?1:k?ne.call(k,t)-ne.call(k,e):0;if(r===s)return a(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===$?-1:c[o]===$?1:0},n):A},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==A&&P(t),e=e.replace(pe,"='$1']"),!(!x.matchesSelector||!R||M&&M.test(e)||O&&O.test(e)))try{var i=H.call(t,e);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return n(e,A,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==A&&P(t),F(t,e)},n.attr=function(t,n){(t.ownerDocument||t)!==A&&P(t);var i=T.attrHandle[n.toLowerCase()],o=i&&Q.call(T.attrHandle,n.toLowerCase())?i(t,n,!R):e;return o===e?x.attributes||!R?t.getAttribute(n):(o=t.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],i=0,o=0;if(V=!x.detectDuplicates,k=!x.sortStable&&t.slice(0),t.sort(G),V){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return t},D=n.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i];i++)n+=D(e);return n},T=n.selectors={cacheLength:50,createPseudo:o,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,_e),t[3]=(t[4]||t[5]||"").replace(xe,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var n,i=!t[5]&&t[2];return ve.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:i&&me.test(i)&&(n=d(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(t[0]=t[0].slice(0,n),t[2]=i.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=RegExp("(^|"+oe+")"+t+"("+oe+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(o){var r=n.attr(o,t);return null==r?"!="===e:e?(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r+" ").indexOf(i)>-1:"|="===e?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,m=r!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(r){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(u=g[j]||(g[j]={}),c=u[t]||[],f=c[0]===W&&c[1],d=c[0]===W&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[W,f,d];break}}else if(y&&(c=(e[j]||(e[j]={}))[t])&&c[0]===W)d=c[1];else for(;(h=++f&&h&&h[m]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[j]||(h[j]={}))[t]=[W,d]),h!==e)););return d-=o,d===i||0===d%i&&d/i>=0}}},PSEUDO:function(t,e){var i,r=T.pseudos[t]||T.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return r[j]?r(e):r.length>1?(i=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)i=ne.call(t,o[s]),t[i]=!(n[i]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:o(function(t){var e=[],n=[],i=N(t.replace(ue,"$1"));return i[j]?o(function(t,e,n,o){for(var r,s=i(t,null,o,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,o,r){return e[0]=t,i(e,null,r,n),!n.pop()}}),has:o(function(t){return function(e){return n(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||D(e)).indexOf(t)>-1}}),lang:o(function(t){return ge.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(xe,_e).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return we.test(t.nodeName)},input:function(t){return Ce.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;e>++i;)t.push(i);return t})}},T.pseudos.nth=T.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[S]=l(S);for(S in{submit:!0,reset:!0})T.pseudos[S]=c(S);h.prototype=T.filters=T.pseudos,T.setFilters=new h,N=n.compile=function(t,e){var n,i=[],o=[],r=q[t+" "];if(!r){for(e||(e=d(t)),n=e.length;n--;)r=y(e[n]),r[j]?i.push(r):o.push(r);r=q(t,b(o,i))}return r},x.sortStable=j.split("").sort(G).join("")===j,x.detectDuplicates=V,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,n,i){return i?e:t.getAttribute(n,"type"===n.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,n,i){return i||"input"!==t.nodeName.toLowerCase()?e:t.defaultValue
}),r(function(t){return null==t.getAttribute("disabled")})||s(ie,function(t,n,i){var o;return i?e:(o=t.getAttributeNode(n))&&o.specified?o.value:t[n]===!0?n.toLowerCase():null}),re.find=n,re.expr=n.selectors,re.expr[":"]=re.expr.pseudos,re.unique=n.uniqueSort,re.text=n.getText,re.isXMLDoc=n.isXML,re.contains=n.contains}(t);var pe={};re.Callbacks=function(t){t="string"==typeof t?pe[t]||i(t):re.extend({},t);var n,o,r,s,a,l,c=[],u=!t.once&&[],h=function(e){for(n=t.memory&&e,o=!0,l=s||0,s=0,a=c.length,r=!0;c&&a>l;l++)if(c[l].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}r=!1,c&&(u?u.length&&h(u.shift()):n?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;!function i(e){re.each(e,function(e,n){var o=re.type(n);"function"===o?t.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!==o&&i(n)})}(arguments),r?a=c.length:n&&(s=e,h(n))}return this},remove:function(){return c&&re.each(arguments,function(t,e){for(var n;(n=re.inArray(e,c,n))>-1;)c.splice(n,1),r&&(a>=n&&a--,l>=n&&l--)}),this},has:function(t){return t?re.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=n=e,this},disabled:function(){return!c},lock:function(){return u=e,n||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||o&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},re.extend({Deferred:function(t){var e=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return re.Deferred(function(n){re.each(e,function(e,r){var s=r[0],a=re.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&re.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?re.extend(t,i):i}},o={};return i.pipe=i.then,re.each(e,function(t,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,r=te.call(arguments),s=r.length,a=1!==s||t&&re.isFunction(t.promise)?s:0,l=1===a?t:re.Deferred(),c=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?te.call(arguments):o,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=Array(s),n=Array(s),i=Array(s);s>o;o++)r[o]&&re.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,e)):--a;return a||l.resolveWith(i,r),l.promise()}}),re.support=function(e){var n=q.createElement("input"),i=q.createDocumentFragment(),o=q.createElement("div"),r=q.createElement("select"),s=r.appendChild(q.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!s.disabled,n=q.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),e.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===o.style.backgroundClip,re(function(){var n,i,r="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=q.getElementsByTagName("body")[0];s&&(n=q.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(o),o.innerHTML="",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",re.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===o.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(o,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(o,null)||{width:"4px"}).width,i=o.appendChild(q.createElement("div")),i.style.cssText=o.style.cssText=r,i.style.marginRight=i.style.width="0",o.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),s.removeChild(n))}),e):e}({});var me,ge,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ye=/([A-Z])/g;o.uid=1,o.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},o.prototype={key:function(t){if(!o.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=o.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,re.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=n;else if(re.isEmptyObject(r))re.extend(this.cache[o],e);else for(i in e)r[i]=e[i];return r},get:function(t,n){var i=this.cache[this.key(t)];return n===e?i:i[n]},access:function(t,n,i){var o;return n===e||n&&"string"==typeof n&&i===e?(o=this.get(t,n),o!==e?o:this.get(t,re.camelCase(n))):(this.set(t,n,i),i!==e?i:n)},remove:function(t,n){var i,o,r,s=this.key(t),a=this.cache[s];if(n===e)this.cache[s]={};else{re.isArray(n)?o=n.concat(n.map(re.camelCase)):(r=re.camelCase(n),n in a?o=[n,r]:(o=r,o=o in a?[o]:o.match(ae)||[])),i=o.length;for(;i--;)delete a[o[i]]}},hasData:function(t){return!re.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},me=new o,ge=new o,re.extend({acceptData:o.accepts,hasData:function(t){return me.hasData(t)||ge.hasData(t)},data:function(t,e,n){return me.access(t,e,n)},removeData:function(t,e){me.remove(t,e)},_data:function(t,e,n){return ge.access(t,e,n)},_removeData:function(t,e){ge.remove(t,e)}}),re.fn.extend({data:function(t,n){var i,o,s=this[0],a=0,l=null;if(t===e){if(this.length&&(l=me.get(s),1===s.nodeType&&!ge.get(s,"hasDataAttrs"))){for(i=s.attributes;i.length>a;a++)o=i[a].name,0===o.indexOf("data-")&&(o=re.camelCase(o.slice(5)),r(s,o,l[o]));ge.set(s,"hasDataAttrs",!0)}return l}return"object"==typeof t?this.each(function(){me.set(this,t)}):re.access(this,function(n){var i,o=re.camelCase(t);if(s&&n===e){if(i=me.get(s,t),i!==e)return i;if(i=me.get(s,o),i!==e)return i;if(i=r(s,o,e),i!==e)return i}else this.each(function(){var i=me.get(this,o);me.set(this,o,n),-1!==t.indexOf("-")&&i!==e&&me.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){me.remove(this,t)})}}),re.extend({queue:function(t,n,i){var o;return t?(n=(n||"fx")+"queue",o=ge.get(t,n),i&&(!o||re.isArray(i)?o=ge.access(t,n,re.makeArray(i)):o.push(i)),o||[]):e},dequeue:function(t,e){e=e||"fx";var n=re.queue(t,e),i=n.length,o=n.shift(),r=re._queueHooks(t,e),s=function(){re.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ge.get(t,n)||ge.access(t,n,{empty:re.Callbacks("once memory").add(function(){ge.remove(t,[e+"queue",n])})})}}),re.fn.extend({queue:function(t,n){var i=2;return"string"!=typeof t&&(n=t,t="fx",i--),i>arguments.length?re.queue(this[0],t):n===e?this:this.each(function(){var e=re.queue(this,t,n);re._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&re.dequeue(this,t)})},dequeue:function(t){return this.each(function(){re.dequeue(this,t)})},delay:function(t,e){return t=re.fx?re.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var i,o=1,r=re.Deferred(),s=this,a=this.length,l=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)i=ge.get(s[a],t+"queueHooks"),i&&i.empty&&(o++,i.empty.add(l));return l(),r.promise(n)}});var be,Ce,we=/[\t\r\n\f]/g,Se=/\r/g,xe=/^(?:input|select|textarea|button)$/i;re.fn.extend({attr:function(t,e){return re.access(this,re.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){re.removeAttr(this,t)})},prop:function(t,e){return re.access(this,re.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[re.propFix[t]||t]})},addClass:function(t){var e,n,i,o,r,s=0,a=this.length,l="string"==typeof t&&t;if(re.isFunction(t))return this.each(function(e){re(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ae)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):" ")){for(r=0;o=e[r++];)0>i.indexOf(" "+o+" ")&&(i+=o+" ");n.className=re.trim(i)}return this},removeClass:function(t){var e,n,i,o,r,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(re.isFunction(t))return this.each(function(e){re(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ae)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(we," "):"")){for(r=0;o=e[r++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=t?re.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):re.isFunction(t)?this.each(function(n){re(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,o=re(this),r=t.match(ae)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===z||"boolean"===n)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ge.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(we," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,i,o,r=this[0];return arguments.length?(o=re.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=o?t.call(this,i,re(this).val()):t,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(t){return null==t?"":t+""})),n=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==e||(this.value=r))})):r?(n=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(r,"value"))!==e?i:(i=r.value,"string"==typeof i?i.replace(Se,""):null==i?"":i)):void 0}}),re.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(re.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&re.nodeName(n.parentNode,"optgroup"))){if(e=re(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=re.makeArray(e),s=o.length;s--;)i=o[s],(i.selected=re.inArray(re(i).val(),r)>=0)&&(n=!0);return n||(t.selectedIndex=-1),r}}},attr:function(t,n,i){var o,r,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?typeof t.getAttribute===z?re.prop(t,n,i):(1===s&&re.isXMLDoc(t)||(n=n.toLowerCase(),o=re.attrHooks[n]||(re.expr.match.bool.test(n)?Ce:be)),i===e?o&&"get"in o&&null!==(r=o.get(t,n))?r:(r=re.find.attr(t,n),null==r?e:r):null!==i?o&&"set"in o&&(r=o.set(t,i,n))!==e?r:(t.setAttribute(n,i+""),i):(re.removeAttr(t,n),e)):void 0},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(ae);if(r&&1===t.nodeType)for(;n=r[o++];)i=re.propFix[n]||n,re.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!re.support.radioValue&&"radio"===e&&re.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,n,i){var o,r,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(s=1!==a||!re.isXMLDoc(t),s&&(n=re.propFix[n]||n,r=re.propHooks[n]),i!==e?r&&"set"in r&&(o=r.set(t,i,n))!==e?o:t[n]=i:r&&"get"in r&&null!==(o=r.get(t,n))?o:t[n]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||xe.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Ce={set:function(t,e,n){return e===!1?re.removeAttr(t,n):t.setAttribute(n,n),n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(t,n){var i=re.expr.attrHandle[n]||re.find.attr;re.expr.attrHandle[n]=function(t,n,o){var r=re.expr.attrHandle[n],s=o?e:(re.expr.attrHandle[n]=e)!=i(t,n,o)?n.toLowerCase():null;return re.expr.attrHandle[n]=r,s}}),re.support.optSelected||(re.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(t,n){return re.isArray(n)?t.checked=re.inArray(re(t).val(),n)>=0:e}},re.support.checkOn||(re.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e=/^key/,Te=/^(?:mouse|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(t,n,i,o,r){var s,a,l,c,u,h,d,f,p,m,g,v=ge.get(t);if(v){for(i.handler&&(s=i,i=s.handler,r=s.selector),i.guid||(i.guid=re.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof re===z||t&&re.event.triggered===t.type?e:re.event.dispatch.apply(a.elem,arguments)},a.elem=t),n=(n||"").match(ae)||[""],u=n.length;u--;)l=Ee.exec(n[u])||[],p=g=l[1],m=(l[2]||"").split(".").sort(),p&&(d=re.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=re.event.special[p]||{},h=re.extend({type:p,origType:g,data:o,handler:i,guid:i.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:m.join(".")},s),(f=c[p])||(f=c[p]=[],f.delegateCount=0,d.setup&&d.setup.call(t,o,m,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),re.event.global[p]=!0);t=null}},remove:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,f,p,m,g=ge.hasData(t)&&ge.get(t);if(g&&(l=g.events)){for(e=(e||"").match(ae)||[""],c=e.length;c--;)if(a=Ee.exec(e[c])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(h=re.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=l[f]||[],a=a[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)u=d[r],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(r,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&h.teardown.call(t,p,g.handle)!==!1||re.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)re.event.remove(t,f+e[c],n,i,!0);re.isEmptyObject(l)&&(delete g.handle,ge.remove(t,"events"))}},trigger:function(n,i,o,r){var s,a,l,c,u,h,d,f=[o||q],p=ie.call(n,"type")?n.type:n,m=ie.call(n,"namespace")?n.namespace.split("."):[];if(a=l=o=o||q,3!==o.nodeType&&8!==o.nodeType&&!De.test(p+re.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),u=0>p.indexOf(":")&&"on"+p,n=n[re.expando]?n:new re.Event(p,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=e,n.target||(n.target=o),i=null==i?[n]:re.makeArray(i,[n]),d=re.event.special[p]||{},r||!d.trigger||d.trigger.apply(o,i)!==!1)){if(!r&&!d.noBubble&&!re.isWindow(o)){for(c=d.delegateType||p,De.test(c+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),l=a;l===(o.ownerDocument||q)&&f.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=f[s++])&&!n.isPropagationStopped();)n.type=s>1?c:d.bindType||p,h=(ge.get(a,"events")||{})[n.type]&&ge.get(a,"handle"),h&&h.apply(a,i),h=u&&a[u],h&&re.acceptData(a)&&h.apply&&h.apply(a,i)===!1&&n.preventDefault();return n.type=p,r||n.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),i)!==!1||!re.acceptData(o)||u&&re.isFunction(o[p])&&!re.isWindow(o)&&(l=o[u],l&&(o[u]=null),re.event.triggered=p,o[p](),re.event.triggered=e,l&&(o[u]=l)),n.result}},dispatch:function(t){t=re.event.fix(t);var n,i,o,r,s,a=[],l=te.call(arguments),c=(ge.get(this,"events")||{})[t.type]||[],u=re.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=re.event.handlers.call(this,t,c),n=0;(r=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,o=((re.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l),o!==e&&(t.result=o)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,n){var i,o,r,s,a=[],l=n.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(o=[],i=0;l>i;i++)s=n[i],r=s.selector+" ",o[r]===e&&(o[r]=s.needsContext?re(r,this).index(c)>=0:re.find(r,this,null,[c]).length),o[r]&&o.push(s);o.length&&a.push({elem:c,handlers:o})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var i,o,r,s=n.button;return null==t.pageX&&null!=n.clientX&&(i=t.target.ownerDocument||q,o=i.documentElement,r=i.body,t.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[re.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Te.test(o)?this.mouseHooks:_e.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new re.Event(r),e=i.length;e--;)n=i[e],t[n]=r[n];return t.target||(t.target=q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):e},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):e},_default:function(t){return re.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=re.extend(new re.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?re.event.trigger(o,null,e):re.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},re.Event=function(t,n){return this instanceof re.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,n&&re.extend(this,n),this.timeStamp=t&&t.timeStamp||re.now(),this[re.expando]=!0,e):new re.Event(t,n)},re.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){re.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==i&&!re.contains(i,o))&&(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),re.support.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){re.event.simulate(e,t.target,re.event.fix(t),!0)};re.event.special[e]={setup:function(){0===n++&&q.addEventListener(t,i,!0)},teardown:function(){0===--n&&q.removeEventListener(t,i,!0)}}}),re.fn.extend({on:function(t,n,i,o,r){var s,l;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=e);for(l in t)this.on(l,n,i,t[l],r);return this}if(null==i&&null==o?(o=n,i=n=e):null==o&&("string"==typeof n?(o=i,i=e):(o=i,i=n,n=e)),o===!1)o=a;else if(!o)return this;return 1===r&&(s=o,o=function(t){return re().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=re.guid++)),this.each(function(){re.event.add(this,t,o,i,n)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,n,i){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,re(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,n,t[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=e),i===!1&&(i=a),this.each(function(){re.event.remove(this,t,i,n)})},trigger:function(t,e){return this.each(function(){re.event.trigger(t,e,this)})},triggerHandler:function(t,n){var i=this[0];return i?re.event.trigger(t,n,i,!0):e}});var Ne=/^.[^:#\[\.,]*$/,Ie=/^(?:parents|prev(?:Until|All))/,ke=re.expr.match.needsContext,Pe={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(re(t).filter(function(){for(e=0;o>e;e++)if(re.contains(i[e],this))return!0}));for(e=0;o>e;e++)re.find(t,i[e],n);return n=this.pushStack(o>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e=re(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(re.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(u(this,t||[],!0))},filter:function(t){return this.pushStack(u(this,t||[],!1))},is:function(t){return!!u(this,"string"==typeof t&&ke.test(t)?re(t):t||[],!1).length},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=ke.test(t)||"string"!=typeof t?re(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,t))){n=r.push(n);break}return this.pushStack(r.length>1?re.unique(r):r)},index:function(t){return t?"string"==typeof t?ee.call(re(t),this[0]):ee.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?re(t,e):re.makeArray(t&&t.nodeType?[t]:t),i=re.merge(this.get(),n);return this.pushStack(re.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),re.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return re.dir(t,"parentNode")},parentsUntil:function(t,e,n){return re.dir(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return re.dir(t,"nextSibling")},prevAll:function(t){return re.dir(t,"previousSibling")},nextUntil:function(t,e,n){return re.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return re.dir(t,"previousSibling",n)},siblings:function(t){return re.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return re.sibling(t.firstChild)},contents:function(t){return t.contentDocument||re.merge([],t.childNodes)}},function(t,e){re.fn[t]=function(n,i){var o=re.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=re.filter(i,o)),this.length>1&&(Pe[t]||re.unique(o),Ie.test(t)&&o.reverse()),this.pushStack(o)}}),re.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?re.find.matchesSelector(i,t)?[i]:[]:re.find.matches(t,re.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,i){for(var o=[],r=i!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&re(t).is(i))break;o.push(t)}return o},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Re=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Me=/^(?:checkbox|radio)$/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,je=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,We={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};We.optgroup=We.option,We.tbody=We.tfoot=We.colgroup=We.caption=We.thead,We.th=We.td,re.fn.extend({text:function(t){return re.access(this,function(t){return t===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?re.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||re.cleanData(g(n)),n.parentNode&&(e&&re.contains(n.ownerDocument,n)&&p(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(re.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return re.clone(this,t,e)})},html:function(t){return re.access(this,function(t){var n=this[0]||{},i=0,o=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!Oe.test(t)&&!We[(Le.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ae,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(re.cleanData(g(n,!1)),n.innerHTML=t);n=0}catch(r){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=re.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],o=t[e++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),re(this).remove(),o.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=J.apply([],t);var i,o,r,s,a,l,c=0,u=this.length,h=this,p=u-1,m=t[0],v=re.isFunction(m);if(v||!(1>=u||"string"!=typeof m||re.support.checkClone)&&He.test(m))return this.each(function(i){var o=h.eq(i);v&&(t[0]=m.call(this,i,o.html())),o.domManip(t,e,n)});if(u&&(i=re.buildFragment(t,this[0].ownerDocument,!1,!n&&this),o=i.firstChild,1===i.childNodes.length&&(i=o),o)){for(r=re.map(g(i,"script"),d),s=r.length;u>c;c++)a=i,c!==p&&(a=re.clone(a,!0,!0),s&&re.merge(r,g(a,"script"))),e.call(this[c],a,c);if(s)for(l=r[r.length-1].ownerDocument,re.map(r,f),c=0;s>c;c++)a=r[c],Fe.test(a.type||"")&&!ge.access(a,"globalEval")&&re.contains(l,a)&&(a.src?re._evalUrl(a.src):re.globalEval(a.textContent.replace($e,"")))}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){re.fn[t]=function(t){for(var n,i=[],o=re(t),r=o.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),re(o[s])[e](n),Z.apply(i,n.get());return this.pushStack(i)}}),re.extend({clone:function(t,e,n){var i,o,r,s,a=t.cloneNode(!0),l=re.contains(t.ownerDocument,t);if(!(re.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||re.isXMLDoc(t)))for(s=g(a),r=g(t),i=0,o=r.length;o>i;i++)v(r[i],s[i]);if(e)if(n)for(r=r||g(t),s=s||g(a),i=0,o=r.length;o>i;i++)m(r[i],s[i]);else m(t,a);return s=g(a,"script"),s.length>0&&p(s,!l&&g(t,"script")),a},buildFragment:function(t,e,n,i){for(var o,r,s,a,l,c,u=0,h=t.length,d=e.createDocumentFragment(),f=[];h>u;u++)if(o=t[u],o||0===o)if("object"===re.type(o))re.merge(f,o.nodeType?[o]:o);else if(Re.test(o)){for(r=r||d.appendChild(e.createElement("div")),s=(Le.exec(o)||["",""])[1].toLowerCase(),a=We[s]||We._default,r.innerHTML=a[1]+o.replace(Ae,"<$1></$2>")+a[2],c=a[0];c--;)r=r.lastChild;re.merge(f,r.childNodes),r=d.firstChild,r.textContent=""}else f.push(e.createTextNode(o));for(d.textContent="",u=0;o=f[u++];)if((!i||-1===re.inArray(o,i))&&(l=re.contains(o.ownerDocument,o),r=g(d.appendChild(o),"script"),l&&p(r),n))for(c=0;o=r[c++];)Fe.test(o.type||"")&&n.push(o);return d},cleanData:function(t){for(var n,i,r,s,a,l,c=re.event.special,u=0;(i=t[u])!==e;u++){if(o.accepts(i)&&(a=i[ge.expando],a&&(n=ge.cache[a]))){if(r=Object.keys(n.events||{}),r.length)for(l=0;(s=r[l])!==e;l++)c[s]?re.event.remove(i,s):re.removeEvent(i,s,n.handle);ge.cache[a]&&delete ge.cache[a]}delete me.cache[i[me.expando]]}},_evalUrl:function(t){return re.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),re.fn.extend({wrapAll:function(t){var e;return re.isFunction(t)?this.each(function(e){re(this).wrapAll(t.call(this,e))}):(this[0]&&(e=re(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return re.isFunction(t)?this.each(function(e){re(this).wrapInner(t.call(this,e))}):this.each(function(){var e=re(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=re.isFunction(t);return this.each(function(n){re(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}});var Be,ze,Ue=/^(none|table(?!-c[ea]).+)/,qe=/^margin/,Ve=RegExp("^("+se+")(.*)$","i"),Ge=RegExp("^("+se+")(?!px)[a-z%]+$","i"),Xe=RegExp("^([+-])=("+se+")","i"),Ye={BODY:"block"},Qe={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:0,fontWeight:400},Je=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];re.fn.extend({css:function(t,n){return re.access(this,function(t,n,i){var o,r,s={},a=0;if(re.isArray(n)){for(o=C(t),r=n.length;r>a;a++)s[n[a]]=re.css(t,n[a],!1,o);return s}return i!==e?re.style(t,n,i):re.css(t,n)},t,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){b(this)?re(this).show():re(this).hide()})}}),re.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Be(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,n,i,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,l=re.camelCase(n),c=t.style;return n=re.cssProps[l]||(re.cssProps[l]=y(c,l)),a=re.cssHooks[n]||re.cssHooks[l],i===e?a&&"get"in a&&(r=a.get(t,!1,o))!==e?r:c[n]:(s=typeof i,"string"===s&&(r=Xe.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(re.css(t,n)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||re.cssNumber[l]||(i+="px"),re.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(t,i,o))===e||(c[n]=i)),e)}},css:function(t,n,i,o){var r,s,a,l=re.camelCase(n);return n=re.cssProps[l]||(re.cssProps[l]=y(t.style,l)),a=re.cssHooks[n]||re.cssHooks[l],a&&"get"in a&&(r=a.get(t,!0,i)),r===e&&(r=Be(t,n,o)),"normal"===r&&n in Ke&&(r=Ke[n]),""===i||i?(s=parseFloat(r),i===!0||re.isNumeric(s)?s||0:r):r}}),Be=function(t,n,i){var o,r,s,a=i||C(t),l=a?a.getPropertyValue(n)||a[n]:e,c=t.style;return a&&(""!==l||re.contains(t.ownerDocument,t)||(l=re.style(t,n)),Ge.test(l)&&qe.test(n)&&(o=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=r,c.maxWidth=s)),l
},re.each(["height","width"],function(t,n){re.cssHooks[n]={get:function(t,i,o){return i?0===t.offsetWidth&&Ue.test(re.css(t,"display"))?re.swap(t,Qe,function(){return _(t,n,o)}):_(t,n,o):e},set:function(t,e,i){var o=i&&C(t);return S(t,e,i?x(t,n,i,re.support.boxSizing&&"border-box"===re.css(t,"boxSizing",!1,o),o):0)}}}),re(function(){re.support.reliableMarginRight||(re.cssHooks.marginRight={get:function(t,n){return n?re.swap(t,{display:"inline-block"},Be,[t,"marginRight"]):e}}),!re.support.pixelPosition&&re.fn.position&&re.each(["top","left"],function(t,n){re.cssHooks[n]={get:function(t,i){return i?(i=Be(t,n),Ge.test(i)?re(t).position()[n]+"px":i):e}}})}),re.expr&&re.expr.filters&&(re.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight},re.expr.filters.visible=function(t){return!re.expr.filters.hidden(t)}),re.each({margin:"",padding:"",border:"Width"},function(t,e){re.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+Je[i]+e]=r[i]||r[i-2]||r[0];return o}},qe.test(t)||(re.cssHooks[t+e].set=S)});var tn=/%20/g,en=/\[\]$/,nn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,rn=/^(?:input|select|textarea|keygen)/i;re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=re.prop(this,"elements");return t?re.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!re(this).is(":disabled")&&rn.test(this.nodeName)&&!on.test(t)&&(this.checked||!Me.test(t))}).map(function(t,e){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(t){return{name:e.name,value:t.replace(nn,"\r\n")}}):{name:e.name,value:n.replace(nn,"\r\n")}}).get()}}),re.param=function(t,n){var i,o=[],r=function(t,e){e=re.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(t)||t.jquery&&!re.isPlainObject(t))re.each(t,function(){r(this.name,this.value)});else for(i in t)E(i,t[i],n,r);return o.join("&").replace(tn,"+")},re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){re.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),re.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var sn,an,ln=re.now(),cn=/\?/,un=/#.*$/,hn=/([?&])_=[^&]*/,dn=/^(.*?):[ \t]*([^\r\n]*)$/gm,fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,vn=re.fn.load,yn={},bn={},Cn="*/".concat("*");try{an=U.href}catch(wn){an=q.createElement("a"),an.href="",an=an.href}sn=gn.exec(an.toLowerCase())||[],re.fn.load=function(t,n,i){if("string"!=typeof t&&vn)return vn.apply(this,arguments);var o,r,s,a=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l),t=t.slice(0,l)),re.isFunction(n)?(i=n,n=e):n&&"object"==typeof n&&(r="POST"),a.length>0&&re.ajax({url:t,type:r,dataType:"html",data:n}).done(function(t){s=arguments,a.html(o?re("<div>").append(re.parseHTML(t)).find(o):t)}).complete(i&&function(t,e){a.each(i,s||[t.responseText,e,t])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){re.fn[e]=function(t){return this.on(e,t)}}),re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:an,type:"GET",isLocal:fn.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?k(k(t,re.ajaxSettings),e):k(re.ajaxSettings,t)},ajaxPrefilter:N(yn),ajaxTransport:N(bn),ajax:function(t,n){function i(t,n,i,a){var c,h,y,b,w,x=n;2!==C&&(C=2,l&&clearTimeout(l),o=e,s=a||"",S.readyState=t>0?4:0,c=t>=200&&300>t||304===t,i&&(b=P(d,S,i)),b=A(d,b,S,c),c?(d.ifModified&&(w=S.getResponseHeader("Last-Modified"),w&&(re.lastModified[r]=w),w=S.getResponseHeader("etag"),w&&(re.etag[r]=w)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=b.state,h=b.data,y=b.error,c=!y)):(y=x,(t||!x)&&(x="error",0>t&&(t=0))),S.status=t,S.statusText=(n||x)+"",c?m.resolveWith(f,[h,x,S]):m.rejectWith(f,[S,x,y]),S.statusCode(v),v=e,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[S,d,c?h:y]),g.fireWith(f,[S,x]),u&&(p.trigger("ajaxComplete",[S,d]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var o,r,s,a,l,c,u,h,d=re.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?re(f):re.event,m=re.Deferred(),g=re.Callbacks("once memory"),v=d.statusCode||{},y={},b={},C=0,w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(2===C){if(!a)for(a={};e=dn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===C?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return C||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return C||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>C)for(e in t)v[e]=[v[e],t[e]];else S.always(t[S.status]);return this},abort:function(t){var e=t||w;return o&&o.abort(e),i(0,e),this}};if(m.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,d.url=((t||d.url||an)+"").replace(un,"").replace(mn,sn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||"*").toLowerCase().match(ae)||[""],null==d.crossDomain&&(c=gn.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===sn[1]&&c[2]===sn[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),I(yn,d,n,S),2===C)return S;u=d.global,u&&0===re.active++&&re.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!pn.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(cn.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=hn.test(r)?r.replace(hn,"$1_="+ln++):r+(cn.test(r)?"&":"?")+"_="+ln++)),d.ifModified&&(re.lastModified[r]&&S.setRequestHeader("If-Modified-Since",re.lastModified[r]),re.etag[r]&&S.setRequestHeader("If-None-Match",re.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Cn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)S.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,S,d)===!1||2===C))return S.abort();w="abort";for(h in{success:1,error:1,complete:1})S[h](d[h]);if(o=I(bn,d,n,S)){S.readyState=1,u&&p.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},d.timeout));try{C=1,o.send(y,i)}catch(x){if(!(2>C))throw x;i(-1,x)}}else i(-1,"No Transport");return S},getJSON:function(t,e,n){return re.get(t,e,n,"json")},getScript:function(t,n){return re.get(t,e,n,"script")}}),re.each(["get","post"],function(t,n){re[n]=function(t,i,o,r){return re.isFunction(i)&&(r=r||o,o=i,i=e),re.ajax({url:t,type:n,dataType:r,data:i,success:o})}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return re.globalEval(t),t}}}),re.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),re.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,o){e=re("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Sn=[],xn=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Sn.pop()||re.expando+"_"+ln++;return this[t]=!0,t}}),re.ajaxPrefilter("json jsonp",function(n,i,o){var r,s,a,l=n.jsonp!==!1&&(xn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&xn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=re.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(xn,"$1"+r):n.jsonp!==!1&&(n.url+=(cn.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return a||re.error(r+" was not called"),a[0]},n.dataTypes[0]="json",s=t[r],t[r]=function(){a=arguments},o.always(function(){t[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,Sn.push(r)),a&&re.isFunction(s)&&s(a[0]),a=s=e}),"script"):e}),re.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var _n=re.ajaxSettings.xhr(),Tn={0:200,1223:204},Dn=0,En={};t.ActiveXObject&&re(t).on("unload",function(){for(var t in En)En[t]();En=e}),re.support.cors=!!_n&&"withCredentials"in _n,re.support.ajax=_n=!!_n,re.ajaxTransport(function(t){var n;return re.support.cors||_n&&!t.crossDomain?{send:function(i,o){var r,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)a.setRequestHeader(r,i[r]);n=function(t){return function(){n&&(delete En[s],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?o(a.status||404,a.statusText):o(Tn[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=En[s=Dn++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:e});var Nn,In,kn=/^(?:toggle|show|hide)$/,Pn=RegExp("^(?:([+-])=|)("+se+")([a-z%]*)$","i"),An=/queueHooks$/,Ln=[H],Rn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=Pn.exec(e),r=o&&o[3]||(re.cssNumber[t]?"":"px"),s=(re.cssNumber[t]||"px"!==r&&+i)&&Pn.exec(re.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+i||1;do a=a||".5",s/=a,re.style(n.elem,t,s+r);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return o&&(s=n.start=+s||+i||0,n.unit=r,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};re.Animation=re.extend(O,{tweener:function(t,e){re.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],Rn[n]=Rn[n]||[],Rn[n].unshift(e)},prefilter:function(t,e){e?Ln.unshift(t):Ln.push(t)}}),re.Tween=F,F.prototype={constructor:F,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(re.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.pos=e=this.options.duration?re.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=re.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){re.fx.step[t.prop]?re.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[re.cssProps[t.prop]]||re.cssHooks[t.prop])?re.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},re.each(["toggle","show","hide"],function(t,e){var n=re.fn[e];re.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(j(e,!0),t,i,o)}}),re.fn.extend({fadeTo:function(t,e,n,i){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=re.isEmptyObject(t),r=re.speed(e,n,i),s=function(){var e=O(this,re.extend({},t),r);(o||ge.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,n,i){var o=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",r=re.timers,s=ge.get(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&An.test(n)&&o(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=t&&r[n].queue!==t||(r[n].anim.stop(i),e=!1,r.splice(n,1));(e||!i)&&re.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ge.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=re.timers,s=i?i.length:0;for(n.finish=!0,re.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),re.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){re.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),re.speed=function(t,e,n){var i=t&&"object"==typeof t?re.extend({},t):{complete:n||!n&&e||re.isFunction(t)&&t,duration:t,easing:n&&e||e&&!re.isFunction(e)&&e};return i.duration=re.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in re.fx.speeds?re.fx.speeds[i.duration]:re.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){re.isFunction(i.old)&&i.old.call(this),i.queue&&re.dequeue(this,i.queue)},i},re.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},re.timers=[],re.fx=F.prototype.init,re.fx.tick=function(){var t,n=re.timers,i=0;for(Nn=re.now();n.length>i;i++)t=n[i],t()||n[i]!==t||n.splice(i--,1);n.length||re.fx.stop(),Nn=e},re.fx.timer=function(t){t()&&re.timers.push(t)&&re.fx.start()},re.fx.interval=13,re.fx.start=function(){In||(In=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(In),In=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fx.step={},re.expr&&re.expr.filters&&(re.expr.filters.animated=function(t){return re.grep(re.timers,function(e){return t===e.elem}).length}),re.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){re.offset.setOffset(this,t,e)});var n,i,o=this[0],r={top:0,left:0},s=o&&o.ownerDocument;return s?(n=s.documentElement,re.contains(n,o)?(typeof o.getBoundingClientRect!==z&&(r=o.getBoundingClientRect()),i=$(s),{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):r):void 0},re.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,c,u=re.css(t,"position"),h=re(t),d={};"static"===u&&(t.style.position="relative"),a=h.offset(),r=re.css(t,"top"),l=re.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(i=h.position(),s=i.top,o=i.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),re.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):h.css(d)}},re.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===re.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),re.nodeName(t[0],"html")||(i=t.offset()),i.top+=re.css(t[0],"borderTopWidth",!0),i.left+=re.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-re.css(n,"marginTop",!0),left:e.left-i.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||V;t&&!re.nodeName(t,"html")&&"static"===re.css(t,"position");)t=t.offsetParent;return t||V})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var o="pageYOffset"===i;re.fn[n]=function(r){return re.access(this,function(n,r,s){var a=$(n);return s===e?a?a[i]:n[r]:(a?a.scrollTo(o?t.pageXOffset:s,o?s:t.pageYOffset):n[r]=s,e)},n,r,arguments.length,null)}}),re.each({Height:"height",Width:"width"},function(t,n){re.each({padding:"inner"+t,content:n,"":"outer"+t},function(i,o){re.fn[o]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(o===!0||r===!0?"margin":"border");return re.access(this,function(n,i,o){var r;return re.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+t],r["scroll"+t],n.body["offset"+t],r["offset"+t],r["client"+t])):o===e?re.css(n,i,a):re.style(n,i,o,a)},n,s?o:e,s,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=re:"function"==typeof define&&define.amd&&define("jquery",[],function(){return re}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=re)}(window),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,i){var o=t.Event(n);return e.trigger(o,i),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var o,r,s,a,l,c,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===e?null:a,c=i.data("with-credentials")||null,u=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){o=i.attr("method"),r=i.attr("action"),s=i.serializeArray();var d=i.data("ujs:submit-button");d&&(s.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(o=i.data("method"),r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(o=i.data("method")||"get",r=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(o=i.data("method"),r=n.href(i),s=i.data("params")||null);h={type:o||"GET",data:s,dataType:u,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),n.fire(i,"ajax:beforeSend",[t,o])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),r&&(h.url=r);var f=n.ajax(h);return i.trigger("ajax:send",f),f}return!1},handleMethod:function(i){var o=n.href(i),r=i.data("method"),s=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==e&&a!==e&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),o=!1;return i?(n.fire(t,"confirm")&&(o=n.confirm(i),e=n.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,n,i){var o,r,s=t(),a=n||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),r=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!r==!i){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;s=s.add(o)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var o=t(this),r=o.data("method"),s=o.data("params");if(!n.allowAction(o))return n.stopEverything(i);if(o.is(n.linkDisableSelector)&&n.disableElement(o),o.data("remote")!==e){if(!(!i.metaKey&&!i.ctrlKey||r&&"GET"!==r||s))return!0;var a=n.handleRemote(o);return a===!1?n.enableElement(o):a.error(function(){n.enableElement(o)}),!1}return o.data("method")?(n.handleMethod(o),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var o=t(this),r=o.data("remote")!==e,s=n.blankInputs(o,n.requiredInputSelector),a=n.nonBlankInputs(o,n.fileInputSelector);if(!n.allowAction(o))return n.stopEverything(i);if(s&&o.attr("novalidate")==e&&n.fire(o,"ajax:aborted:required",[s]))return n.stopEverything(i);if(r){if(a){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var o=i.attr("name"),r=o?{name:o,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)}))}(jQuery),!function(t,e,n){function i(t,e){var n=Math.max(0,t[0]-e[0],e[0]-t[1]),i=Math.max(0,t[2]-e[1],e[1]-t[3]);return n+i}function o(e,n,i,o){var r=e.length,s=o?"offset":"position";for(i=i||0;r--;){var a=e[r].el?e[r].el:t(e[r]),l=a[s]();l.left+=parseInt(a.css("margin-left"),10),l.top+=parseInt(a.css("margin-top"),10),n[r]=[l.left-i,l.left+a.outerWidth()+i,l.top-i,l.top+a.outerHeight()+i]}}function r(t,e){var n=e.offset();return{left:t.left-n.left,top:t.top-n.top}}function s(t,e,n){e=[e.left,e.top],n=n&&[n.left,n.top];for(var o,r=t.length,s=[];r--;)o=t[r],s[r]=[r,i(o,e),n&&i(o,n)];return s=s.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]})}function a(e){this.options=t.extend({},d,e),this.containers=[],this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.options.parentContainer||(this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=n))}function l(e,n){this.el=e,this.options=t.extend({},h,n),this.group=a.get(this.options),this.rootGroup=this.options.rootGroup=this.options.rootGroup||this.group,this.parentContainer=this.options.parentContainer,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector,this.el.on(c.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var c,u="sortable",h={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},d={afterMove:function(){},containerPath:"",containerSelector:"ol, ul",distance:0,handle:"",itemPath:"",itemSelector:"li",isValidTarget:function(){return!0},onCancel:function(){},onDrag:function(t,e){t.css(e)},onDragStart:function(e){e.css({height:e.height(),width:e.width()}),e.addClass("dragged"),t("body").addClass("dragging")},onDrop:function(e){e.removeClass("dragged").removeAttr("style"),t("body").removeClass("dragging")},onMousedown:function(t,e){e.preventDefault()},placeholder:'<li class="placeholder"/>',pullPlaceholder:!0,serialize:function(e,n,i){var o=t.extend({},e.data());return i?n:(n[0]&&(o.children=n,delete o.subContainer),delete o.sortable,o)},tolerance:0},f={},p=0,m={left:0,top:0,bottom:0,right:0};c={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},a.get=function(t){return f[t.group]||(t.group||(t.group=p++),f[t.group]=new a(t)),f[t.group]},a.prototype={dragInit:function(e,n){this.$document=t(n.el[0].ownerDocument),n.enabled()?(this.toggleListeners("on"),this.item=t(e.target).closest(this.options.itemSelector),this.itemContainer=n,this.setPointer(e),this.options.onMousedown(this.item,e,d.onMousedown)):this.toggleListeners("on",["drop"]),this.dragInitDone=!0},drag:function(t){if(!this.dragging){if(!this.distanceMet(t))return;this.options.onDragStart(this.item,this.itemContainer,d.onDragStart),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,r(this.pointer,this.item.offsetParent()),d.onDrag);var e=t.pageX,n=t.pageY,i=this.sameResultBox,o=this.options.tolerance;(!i||i.top-o>n||i.bottom+o<n||i.left-o>e||i.right+o<e)&&(this.searchValidTarget()||this.placeholder.detach())},drop:function(){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,d.onCancel),this.options.onDrop(this.item,this.getContainer(this.item),d.onDrop),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=n,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var i=s(this.getContainerDimensions(),t,e),o=i.length;o--;){var a=i[o][0],l=i[o][1];if(!l||this.options.pullPlaceholder){var c=this.containers[a];if(!c.disabled){if(!this.$getOffsetParent()){var u=c.getItemOffsetParent();t=r(t,u),e=r(e,u)}if(c.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=n)},movePlaceholder:function(t,e,n,i){var o=this.lastAppendedItem;(i||!o||o[0]!==e[0])&&(e[n](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=i,this.options.afterMove(this.placeholder,t))},getContainerDimensions:function(){return this.containerDimensions||o(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(u)},$getOffsetParent:function(){if(this.offsetParent===n){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.parentContainer)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e={left:t.pageX,top:t.pageY};if(this.$getOffsetParent()){var n=r(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=n}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){return Math.max(Math.abs(this.pointer.left-t.pageX),Math.abs(this.pointer.top-t.pageY))>=this.options.distance},scroll:function(){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e,n){var i=this;n=n||["drag","drop","scroll"],t.each(n,function(t,n){i.$document[e](c[n],i[n+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=n},clearDimensions:function(){this.containerDimensions=n;for(var t=this.containers.length;t--;)this.containers[t].clearDimensions()}},l.prototype={dragInit:function(e){var n=this.rootGroup;n.dragInitDone||1!==e.which||!this.options.drag||t(e.target).is(this.options.exclude)||n.dragInit(e,this)},searchValidTarget:function(t,e){var n=s(this.getItemDimensions(),t,e),i=n.length,o=this.rootGroup,r=!o.options.isValidTarget||o.options.isValidTarget(o.item,this);if(!i&&r)return o.movePlaceholder(this,this.el,"append"),!0;for(;i--;){var a=n[i][0],l=n[i][1];if(!l&&this.hasChildGroup(a)){var c=this.getContainerGroup(a).searchValidTarget(t,e);if(c)return!0}else if(r)return this.movePlaceholder(a,t),!0}},movePlaceholder:function(e,n){var i=t(this.items[e]),o=this.itemDimensions[e],r="after",s=i.outerWidth(),a=i.outerHeight(),l=i.offset(),c={left:l.left,right:l.left+s,top:l.top,bottom:l.top+a};if(this.options.vertical){var u=(o[2]+o[3])/2,h=n.top<=u;h?(r="before",c.bottom-=a/2):c.top+=a/2}else{var d=(o[0]+o[1])/2,f=n.left<=d;f?(r="before",c.right-=s/2):c.left+=s/2}this.hasChildGroup(e)&&(c=m),this.rootGroup.movePlaceholder(this,i,r,c)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(.placeholder, .dragged)").get(),o(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var i=t.data(this.items[e],"subContainer");if(i===n){var o=this.$getChildren(this.items[e],"container");if(i=!1,o[0]){var r=t.extend({},this.options,{parentContainer:this,group:p++});i=o[u](r).data(u).group}t.data(this.items[e],"subContainer",i)}return i},enabled:function(){return!this.disabled&&(!this.parentContainer||this.parentContainer.enabled())},$getChildren:function(e,n){var i=this.rootGroup.options,o=i[n+"Path"],r=i[n+"Selector"];return e=t(e),o&&(e=e.find(o)),e.children(r)},_serialize:function(e,n){var i=this,o=n?"item":"container",r=this.$getChildren(e,o).not(this.options.exclude).map(function(){return i._serialize(t(this),!n)}).get();return this.rootGroup.options.serialize(e,r,n)},clearDimensions:function(){if(this.itemDimensions=n,this.items&&this.items[0])for(var e=this.items.length;e--;){var i=t.data(this.items[e],"subContainer");i&&i.clearDimensions()}}};var g={enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},serialize:function(){return this._serialize(this.el,!0)}};t.extend(l.prototype,g),t.fn[u]=function(e){var i=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=t(this),r=o.data(u);return r&&g[e]?g[e].apply(r,i)||this:(r||e!==n&&"object"!=typeof e||o.data(u,new l(o,e)),this)})}}(jQuery,window),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)
};n.prototype.close=function(e){function n(){r.trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var r=t(o);e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",o.resetText||n.data("resetText",n[i]()),n[i](o[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var n=this.$element.find("input");"radio"===n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof n&&n;o||i.data("bs.button",o=new e(this,r)),"toggle"==n?o.toggle():n&&o.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),r=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[a]()}this.sliding=!0,r&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:o[0],direction:s});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:r.slide;o||i.data("bs.carousel",o=new e(this,r)),"number"==typeof n?o.to(n):s?o[s]():r.interval&&o.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),o.carousel(r),(s=i.attr("data-slide-to"))&&o.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.collapse",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o),s=r.data("bs.collapse"),a=s?"toggle":i.data(),l=i.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(a)})}(jQuery),+function(t){"use strict";function e(){t(i).remove(),t(o).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=n(o),s=r.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),r.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(o).focus(),i.click();var a=t("[role=menu] li:not(.divider):visible a",r);if(a.length){var l=a.index(a.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",r.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(o)}).emulateTransitionEnd(300):n.$element.focus().trigger(o)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);r||o.data("bs.modal",r=new e(this,s)),"string"==typeof n?r[n](i):s.show&&r.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,r=o.test(i);r&&(i=i.replace(o,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),a=n[0].offsetWidth,l=n[0].offsetHeight;if(r){var c=this.$element.parent(),u=i,h=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),f="body"==this.options.container?window.innerHeight:c.outerHeight(),p="body"==this.options.container?0:c.offset().left;i="bottom"==i&&s.top+s.height+l-h>f?"top":"top"==i&&s.top-h-l<0?"bottom":"right"==i&&s.right+a>d?"left":"left"==i&&s.left-a<p?"right":i,n.removeClass(u).addClass(i)}var m=this.getCalculatedOffset(i,s,a,l);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,i.offset(t).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==e&&c!=r&&(n=!0,t.top=t.top+r-c),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,i.offset(t),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(u-o+l,l,"left")}else this.replaceArrow(c-r,c,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof n&&n;o||i.data("bs.tooltip",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof n&&n;o||i.data("bs.popover",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(n,i){var o,r=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",r),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(o=t(n).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var i=t(this),o=i.data("target")||i.attr("href"),r=/^#\w/.test(o)&&t(o);return r&&r.length&&[[r[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=r.last()[0])&&this.activate(t);for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:o});if(e.trigger(r),!r.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},e.prototype.activate=function(e,n,i){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),s=i&&t.support.transition&&r.hasClass("fade");s?r.one(t.support.transition.end,o).emulateTransitionEnd(150):o(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,s=r.top,a=r.bottom;"object"!=typeof r&&(a=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof a&&(a=r.bottom());var l=null!=this.unpin&&i+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof n&&n;o||i.data("bs.affix",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),i=-1,o=this.length;++i<o&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t){var e,n,i,o;if(!t||t.length<1)return t;for(e="",n=0,i=t.length;i>n;n++)o=t.charAt(n),e+=j[o]||o;return e}function i(t,e){for(var n=0,i=e.length;i>n;n+=1)if(r(t,e[n]))return n;return-1}function o(){var e=t(F);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function r(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function s(e,n){var i,o,r;if(null===e||e.length<1)return[];for(i=e.split(n),o=0,r=i.length;r>o;o+=1)i[o]=t.trim(i[o]);return i}function a(t){return t.outerWidth(!1)-t.width()}function l(n){var i="keyup-change-value";n.on("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.on("keyup",function(){var o=t.data(n,i);o!==e&&n.val()!==o&&(t.removeData(n,i),n.trigger("keyup-change"))})}function c(n){n.on("mousemove",function(n){var i=H;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function u(t,n,i){i=i||e;var o;return function(){var e=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(i,e)},t)}}function h(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function d(t,e){var n=u(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){i(t.target,e.get())>=0&&n(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,i=0;if("selectionStart"in e)n=e.selectionStart,i=e.selectionEnd-n;else if("selection"in document){e.focus();var o=document.selection.createRange();i=document.selection.createRange().text.length,o.moveStart("character",-e.value.length),n=o.text.length-i}return{offset:n,length:i}}function m(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!R){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);R=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),t("body").append(R)}return R.text(e.val()),R.width()}function y(e,n,i){var o,r,s=[];o=e.attr("class"),o&&(o=""+o,t(o.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),o=n.attr("class"),o&&(o=""+o,t(o.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(r=i(this),r&&s.push(r))})),e.attr("class",s.join(" "))}function b(t,e,i,o){var r=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),s=e.length;return 0>r?(i.push(o(t)),void 0):(i.push(o(t.substring(0,r))),i.push("<span class='select2-match'>"),i.push(o(t.substring(r,r+s))),i.push("</span>"),i.push(o(t.substring(r+s,t.length))),void 0)}function C(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(n){var i,o=null,r=n.quietMillis||100,s=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,r=s,c=n.transport||t.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},h=t.extend({},t.fn.select2.ajaxDefaults.params,u);i=i?i.call(a,l.term,l.page,l.context):null,r="function"==typeof r?r.call(a,l.term,l.page,l.context):r,o&&o.abort(),n.params&&(t.isFunction(n.params)?t.extend(h,n.params.call(a)):t.extend(h,n.params)),t.extend(h,{url:r,dataType:n.dataType,data:i,success:function(t){var e=n.results(t,l.page);l.callback(e)}}),o=c.call(a,h)},r)}}function S(e){var n,i,o=e,r=function(t){return""+t.text};t.isArray(o)&&(i=o,o={results:i}),t.isFunction(o)===!1&&(i=o,o=function(){return i});var s=o();return s.text&&(r=s.text,t.isFunction(r)||(n=s.text,r=function(t){return t[n]})),function(e){var n,i=e.term,s={results:[]};return""===i?(e.callback(o()),void 0):(n=function(o,s){var a,l;if(o=o[0],o.children){a={};for(l in o)o.hasOwnProperty(l)&&(a[l]=o[l]);a.children=[],t(o.children).each2(function(t,e){n(e,a.children)}),(a.children.length||e.matcher(i,r(a),o))&&s.push(a)}else e.matcher(i,r(o),o)&&s.push(o)},t(o().results).each2(function(t,e){n(e,s.results)}),e.callback(s),void 0)}}function x(n){var i=t.isFunction(n);return function(o){var r=o.term,s={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===r||o.matcher(r,n))&&s.results.push(t?this:{id:this,text:this})}),o.callback(s)}}function _(e,n){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(n+" must be a function or a falsy value")}function T(e){return t.isFunction(e)?e():e}function D(e){var n=0;return t.each(e,function(t,e){e.children?n+=D(e.children):n++}),n}function E(t,n,i,o){var s,a,l,c,u,h=t,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],a=t.indexOf(u),!(a>=0));l++);if(0>a)break;if(s=t.substring(0,a),t=t.substring(a+u.length),s.length>0&&(s=o.createSearchChoice.call(this,s,n),s!==e&&null!==s&&o.id(s)!==e&&null!==o.id(s))){for(d=!1,l=0,c=n.length;c>l;l++)if(r(o.id(s),o.id(n[l]))){d=!0;break}d||i(s)}}return h!==t?t:void 0}function N(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i
}if(window.Select2===e){var I,k,P,A,L,R,O,M,H={x:0,y:0},I={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case I.LEFT:case I.RIGHT:case I.UP:case I.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case I.SHIFT:case I.CTRL:case I.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},F="<div class='select2-measure-scrollbar'></div>",j={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};O=t(document),L=function(){var t=1;return function(){return t++}}(),O.on("mousemove",function(t){H.x=t.pageX,H.y=t.pageY}),k=N(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,r,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+L()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=h(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(T(n.containerCss)),this.container.addClass(T(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=i=this.container.find(s),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),d(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,n,o){var r=i.scrollTop();o>0&&0>=r-o?(i.scrollTop(0),m(t)):0>o&&i.get(0).scrollHeight-i.scrollTop()+o<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(t))}),l(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var u=n.element.prop("readonly");u===e&&(u=!1),this.readonly(u),M=M||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=e},destroy:function(){var t=this.opts.element,n=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==e&&(n.container.remove(),n.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:r(t.attr("locked"),"locked")||r(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var i,o,a,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,o,r){var s,a=this.opts.id;s=function(i,o,l){var u,h,d,f,p,m,g,v,y,b;for(i=n.sortResults(i,o,r),u=0,h=i.length;h>u;u+=1)d=i[u],p=d.disabled===!0,f=!p&&a(d)!==e,m=d.children&&d.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(d,v,r,c.opts.escapeMarkup),b!==e&&v.html(b),g.append(v),m&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),s(d.children,y,l+1),g.append(y)),g.data("select2-data",d),o.append(g)},s(o,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(t){var n,o,r,s={results:[],more:!1},a=t.term;r=function(e,n){var i;e.is("option")?t.matcher(a,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){r(e,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==e&&n.length>0&&(o=this.getPlaceholderOption(),o&&(n=n.not(o))),n.each2(function(t,e){r(e,s.results)}),t.callback(s)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=w.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,i){var o=[];t(s(e.val(),n.separator)).each(function(){var e={id:this,text:this},i=n.tags;t.isFunction(i)&&(i=i()),t(i).each(function(){return r(this.id,e.id)?(e=this,!1):void 0}),o.push(e)}),i(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,n,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t=i.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=i.prop("readonly");n===e&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass))}),i.on("propertychange.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,o,r,s=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),h=t(window),d=h.width(),f=h.height(),p=h.scrollLeft()+d,m=h.scrollTop()+f,g=a.top+l,v=a.left,y=m>=g+u,b=a.top-u>=this.body().scrollTop(),C=s.outerWidth(!1),w=p>=v+C,S=s.hasClass("select2-drop-above");S?(n=!0,!b&&y&&(i=!0,n=!1)):(n=!1,!y&&b&&(i=!0,n=!0)),i&&(s.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),p=h.scrollLeft()+d,m=h.scrollTop()+f,g=a.top+l,v=a.left,C=s.outerWidth(!1),w=p>=v+C,s.show()),this.opts.dropdownAutoWidth?(r=t(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),C=s.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:M.width),C>c?c=C:C=c,w=p>=v+C):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),g-=e.top,v-=e.left),w||(v=a.left+c-C),o={left:v,width:c},n?(o.bottom=f-a.top,o.top="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(o.top=g,o.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),o=t.extend(o,T(this.opts.dropdownCss)),s.css(o)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var e,n=this.containerId,i="scroll."+n,o="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body()),e.on("mousedown touchstart click",function(e){var n,i=t("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+i+" "+r,function(){s.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,o="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(i).off(o)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,i,o,r,s,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[n]),o=i.offset().top+i.outerHeight(!0),n===e.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(o=a.offset().top+a.outerHeight(!0))),r=l.offset().top+l.outerHeight(!0),o>r&&l.scrollTop(l.scrollTop()+(o-r)),s=i.offset().top-l.offset().top,0>s&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var o=t(n[i]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var n,o,r=this.findHighlightableChoices();return 0===arguments.length?i(r.filter(".select2-highlighted")[0],r.get()):(e>=r.length&&(e=r.length-1),0>e&&(e=0),this.removeHighlight(),n=t(r[e]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=n.data("select2-data"),o&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,o=this,r=this.search.val(),s=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(t){o.opened()&&(o.opts.populateResults.call(this,e,t.results,{term:r,page:i,context:s}),o.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(o.opts.formatLoadMore(i+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):n.remove(),o.positionDropdown(),o.resultsPage=i,o.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),d.positionDropdown()}function o(t){u.html(t),i()}var s,a,l,c=this.search,u=this.results,h=this.opts,d=this,f=c.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!r(f,p))&&(t.data(this.container,"select2-last-term",f),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(s=this.data(),t.isArray(s)&&s.length>=m&&_(h.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(m)+"</li>"),void 0;if(c.val().length<h.minimumInputLength)return _(h.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+h.formatInputTooShort(c.val(),h.minimumInputLength)+"</li>"):o(""),n&&this.showSearch&&this.showSearch(!0),void 0;if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return _(h.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+h.formatInputTooLong(c.val(),h.maximumInputLength)+"</li>"):o(""),void 0;h.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+h.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=e&&null!=a&&c.val(a),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(s){var a;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=s.context===e?null:s.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(d,c.val(),s.results),a!==e&&null!==a&&d.id(a)!==e&&null!==d.id(a)&&0===t(s.results).filter(function(){return r(d.id(this),d.id(a))}).length&&s.results.unshift(a)),0===s.results.length&&_(h.formatNoMatches,"formatNoMatches"))return o("<li class='select2-no-results'>"+h.formatNoMatches(c.val())+"</li>"),void 0;u.empty(),d.opts.populateResults.call(this,u,s.results,{term:c.val(),page:this.resultsPage,context:null}),s.more===!0&&_(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function n(){var n,i,o,r,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),r=0,s=i.length;s>r;r+=1)if(a=i[r].replace(/\s/g,""),o=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),P=N(k,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(o=this.search.val().length,n.setSelectionRange(o,o)),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(t){this.opened()&&(this.parent.close.apply(this,arguments),t=t||{focus:!0},this.focusser.removeAttr("disabled"),t.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,n=this.container,i=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+L()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===I.PAGE_UP||t.which===I.PAGE_DOWN)return m(t),void 0;switch(t.which){case I.UP:case I.DOWN:return this.moveHighlight(t.which===I.UP?-1:1),m(t),void 0;case I.ENTER:return this.selectHighlighted(),m(t),void 0;case I.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case I.ESC:return this.cancel(t),m(t),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==I.TAB&&!I.isControl(t)&&!I.isFunctionKey(t)&&t.which!==I.ESC){if(this.opts.openOnEnter===!1&&t.which===I.ENTER)return m(t),void 0;if(t.which==I.DOWN||t.which==I.UP||t.which==I.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),m(t),void 0}return t.which==I.DELETE||t.which==I.BACKSPACE?(this.opts.allowClear&&this.clear(),m(t),void 0):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(e)})),i.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){m(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var i=t.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()?(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val():!1},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected});e(n.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var o=n.val(),s=null;e.query({matcher:function(t,n,i){var a=r(o,e.id(i));return a&&(s=i),a},callback:t.isFunction(i)?function(){i(s)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,o=this;if(this.findHighlightableChoices().each2(function(t,e){return r(o.id(e.data("select2-data")),o.opts.element.val())?(i=t,!1):void 0}),n!==!1&&(e===!0&&i>=0?this.highlight(i):this.highlight(0)),e===!0){var s=this.opts.minimumResultsForSearch;
s>=0&&this.showSearch(D(t.results)>=s)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||this.focusser.focus(),r(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var n,i,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),o.empty(),null!==t&&(n=this.opts.formatSelection(t,o,this.opts.escapeMarkup)),n!==e&&o.append(n),i=this.opts.formatSelectionCssClass(t,o),i!==e&&o.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,i=null,o=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=o.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:r});else{if(!t&&0!==t)return this.clear(n),void 0;if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){o.opts.element.val(t?o.id(t):""),o.updateSelection(t),o.setPlaceholder(),n&&o.triggerChange({added:t,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(i=arguments[1]),t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:n})):this.clear(i),void 0)}}),A=N(k,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected}).each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var o=s(n.val(),e.separator),a=[];e.query({matcher:function(n,i,s){var l=t.grep(o,function(t){return r(t,e.id(s))}).length;return l&&a.push(s),l},callback:t.isFunction(i)?function(){for(var t=[],n=0;n<o.length;n++)for(var s=o[n],l=0;l<a.length;l++){var c=a[l];if(r(s,e.id(c))){t.push(c),a.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+L()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),o=n.next(".select2-search-choice:not(.select2-locked)"),r=p(this.search);if(n.length&&(t.which==I.LEFT||t.which==I.RIGHT||t.which==I.BACKSPACE||t.which==I.DELETE||t.which==I.ENTER)){var s=n;return t.which==I.LEFT&&i.length?s=i:t.which==I.RIGHT?s=o.length?o:null:t.which===I.BACKSPACE?(this.unselect(n.first()),this.search.width(10),s=i.length?i:o):t.which==I.DELETE?(this.unselect(n.first()),this.search.width(10),s=o.length?o:null):t.which==I.ENTER&&(s=null),this.selectChoice(s),m(t),s&&s.length||this.open(),void 0}if((t.which===I.BACKSPACE&&1==this.keydowns||t.which==I.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),m(t),void 0;if(this.selectChoice(null),this.opened())switch(t.which){case I.UP:case I.DOWN:return this.moveHighlight(t.which===I.UP?-1:1),m(t),void 0;case I.ENTER:return this.selectHighlighted(),m(t),void 0;case I.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case I.ESC:return this.cancel(t),m(t),void 0}if(t.which!==I.TAB&&!I.isControl(t)&&!I.isFunctionKey(t)&&t.which!==I.BACKSPACE&&t.which!==I.ESC){if(t.which===I.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===I.PAGE_UP||t.which===I.PAGE_DOWN)&&m(t),t.which===I.ENTER&&m(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],o=[],r=this;t(e).each(function(){i(r.id(this),n)<0&&(n.push(r.id(this)),o.push(this))}),e=o,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,o,r=!n.locked,s=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?s:a,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=e&&l.find("div").replaceWith("<div>"+i+"</div>"),o=this.opts.formatSelectionCssClass(n,l.find("div")),o!=e&&l.addClass(o),r&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),m(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var n,o,r=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){for(;(o=i(this.id(n),r))>=0;)r.splice(o,1),this.setVal(r),this.select&&this.postprocessResults();var s=t.Event("select2-removing");s.val=this.id(n),s.choice=n,this.opts.element.trigger(s),s.isDefaultPrevented()||(e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(t,e,n){var o=this.getVal(),r=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;r.each2(function(t,e){var n=a.id(e.data("select2-data"));i(n,o)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&_(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,n,i,o,r=a(this.search);t=v(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,o=n-(e-i)-r,t>o&&(o=n-r),40>o&&(o=n-r),0>=o&&(o=t),this.search.width(Math.floor(o))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)r(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),n>0&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(n,i){var o,r=this;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange({added:this.data(),removed:o}),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,r.id);r.setVal(n),r.updateSelection(e),r.clearSearch(),i&&r.triggerChange(r.buildChangeDetails(o,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var i,o,r=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(o=this.data(),e||(e=[]),i=t.map(e,function(t){return r.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(o,this.data())),void 0)}}),t.fn.select2=function(){var n,o,r,s,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),o=a?new A:new P,o.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(i(l[0],c)<0)throw"Unknown method: "+l[0];if(s=e,o=t(this).data("select2"),o===e)return;if(r=l[0],"container"===r?s=o.container:"dropdown"===r?s=o.dropdown:(d[r]&&(r=d[r]),s=o[r].apply(o,l.slice(1))),i(l[0],u)>=0||i(l[0],h)&&1==l.length)return!1}}),s===e?this:s},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var o=[];return b(t.text,n.term,o,i),o.join("")},formatSelection:function(t,n,i){return t?i(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatSelectionCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:C,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:S,tags:x},util:{debounce:u,markMatch:b,escapeMarkup:C,stripDiacritics:n},"class":{"abstract":k,single:P,multi:A}}}}(jQuery),function(window,document,undefined){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.dataTable&&t(jQuery)}(function($){"use strict";var DataTable=function(oInit){function _fnAddColumn(t,e){var n=DataTable.defaults.columns,i=t.aoColumns.length,o=$.extend({},DataTable.models.oColumn,n,{sSortingClass:t.oClasses.sSortable,sSortingClassJUI:t.oClasses.sSortJUI,nTh:e?e:document.createElement("th"),sTitle:n.sTitle?n.sTitle:e?e.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.oDefaults:i});if(t.aoColumns.push(o),t.aoPreSearchCols[i]===undefined||null===t.aoPreSearchCols[i])t.aoPreSearchCols[i]=$.extend({},DataTable.models.oSearch);else{var r=t.aoPreSearchCols[i];r.bRegex===undefined&&(r.bRegex=!0),r.bSmart===undefined&&(r.bSmart=!0),r.bCaseInsensitive===undefined&&(r.bCaseInsensitive=!0)}_fnColumnOptions(t,i,null)}function _fnColumnOptions(t,e,n){var i=t.aoColumns[e];n!==undefined&&null!==n&&(n.mDataProp&&!n.mData&&(n.mData=n.mDataProp),n.sType!==undefined&&(i.sType=n.sType,i._bAutoType=!1),$.extend(i,n),_fnMap(i,n,"sWidth","sWidthOrig"),n.iDataSort!==undefined&&(i.aDataSort=[n.iDataSort]),_fnMap(i,n,"aDataSort"));var o=i.mRender?_fnGetObjectDataFn(i.mRender):null,r=_fnGetObjectDataFn(i.mData);i.fnGetData=function(t,e){var n=r(t,e);return i.mRender&&e&&""!==e?o(n,e,t):n},i.fnSetData=_fnSetObjectDataFn(i.mData),t.oFeatures.bSort||(i.bSortable=!1),!i.bSortable||-1==$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=t.oClasses.sSortableNone,i.sSortingClassJUI=""):-1==$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=t.oClasses.sSortable,i.sSortingClassJUI=t.oClasses.sSortJUI):-1!=$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=t.oClasses.sSortableAsc,i.sSortingClassJUI=t.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",i.asSorting)&&-1!=$.inArray("desc",i.asSorting)&&(i.sSortingClass=t.oClasses.sSortableDesc,i.sSortingClassJUI=t.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(t){if(t.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(t);for(var e=0,n=t.aoColumns.length;n>e;e++)t.aoColumns[e].nTh.style.width=t.aoColumns[e].sWidth}function _fnVisibleToColumnIndex(t,e){var n=_fnGetColumns(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function _fnColumnIndexToVisible(t,e){var n=_fnGetColumns(t,"bVisible"),i=$.inArray(e,n);return-1!==i?i:null}function _fnVisbleColumns(t){return _fnGetColumns(t,"bVisible").length}function _fnGetColumns(t,e){var n=[];return $.map(t.aoColumns,function(t,i){t[e]&&n.push(i)}),n}function _fnDetectType(t){for(var e=DataTable.ext.aTypes,n=e.length,i=0;n>i;i++){var o=e[i](t);if(null!==o)return o}return"string"}function _fnReOrderIndex(t,e){for(var n=e.split(","),i=[],o=0,r=t.aoColumns.length;r>o;o++)for(var s=0;r>s;s++)if(t.aoColumns[o].sName==n[s]){i.push(s);break}return i}function _fnColumnOrdering(t){for(var e="",n=0,i=t.aoColumns.length;i>n;n++)e+=t.aoColumns[n].sName+",";return e.length==i?"":e.slice(0,-1)}function _fnApplyColumnDefs(t,e,n,i){var o,r,s,a,l,c;if(e)for(o=e.length-1;o>=0;o--){var u=e[o].aTargets;for($.isArray(u)||_fnLog(t,1,"aTargets must be an array of targets, not a "+typeof u),s=0,a=u.length;a>s;s++)if("number"==typeof u[s]&&u[s]>=0){for(;t.aoColumns.length<=u[s];)_fnAddColumn(t);i(u[s],e[o])}else if("number"==typeof u[s]&&u[s]<0)i(t.aoColumns.length+u[s],e[o]);else if("string"==typeof u[s])for(l=0,c=t.aoColumns.length;c>l;l++)("_all"==u[s]||$(t.aoColumns[l].nTh).hasClass(u[s]))&&i(l,e[o])}if(n)for(o=0,r=n.length;r>o;o++)i(o,n[o])}function _fnAddData(t,e){var n,i=$.isArray(e)?e.slice():$.extend(!0,{},e),o=t.aoData.length,r=$.extend(!0,{},DataTable.models.oRow);r._aData=i,t.aoData.push(r);for(var s,a=0,l=t.aoColumns.length;l>a;a++)if(n=t.aoColumns[a],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mData?_fnSetCellData(t,o,a,_fnRender(t,o,a)):_fnSetCellData(t,o,a,_fnGetCellData(t,o,a)),n._bAutoType&&"string"!=n.sType){var c=_fnGetCellData(t,o,a,"type");null!==c&&""!==c&&(s=_fnDetectType(c),null===n.sType?n.sType=s:n.sType!=s&&"html"!=n.sType&&(n.sType="string"))}return t.aiDisplayMaster.push(o),t.oFeatures.bDeferRender||_fnCreateTr(t,o),o}function _fnGatherData(t){var e,n,i,o,r,s,a,l,c,u,h,d,f,p,m;if(t.bDeferLoading||null===t.sAjaxSource)for(a=t.nTBody.firstChild;a;){if("TR"==a.nodeName.toUpperCase())for(l=t.aoData.length,a._DT_RowIndex=l,t.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:a})),t.aiDisplayMaster.push(l),s=a.firstChild,i=0;s;)f=s.nodeName.toUpperCase(),("TD"==f||"TH"==f)&&(_fnSetCellData(t,l,i,$.trim(s.innerHTML)),i++),s=s.nextSibling;a=a.nextSibling}for(r=_fnGetTrNodes(t),o=[],e=0,n=r.length;n>e;e++)for(s=r[e].firstChild;s;)f=s.nodeName.toUpperCase(),("TD"==f||"TH"==f)&&o.push(s),s=s.nextSibling;for(h=0,d=t.aoColumns.length;d>h;h++){p=t.aoColumns[h],null===p.sTitle&&(p.sTitle=p.nTh.innerHTML);var g,v,y,b,C=p._bAutoType,w="function"==typeof p.fnRender,S=null!==p.sClass,x=p.bVisible;if(C||w||S||!x)for(c=0,u=t.aoData.length;u>c;c++)m=t.aoData[c],g=o[c*d+h],C&&"string"!=p.sType&&(b=_fnGetCellData(t,c,h,"type"),""!==b&&(v=_fnDetectType(b),null===p.sType?p.sType=v:p.sType!=v&&"html"!=p.sType&&(p.sType="string"))),p.mRender?g.innerHTML=_fnGetCellData(t,c,h,"display"):p.mData!==h&&(g.innerHTML=_fnGetCellData(t,c,h,"display")),w&&(y=_fnRender(t,c,h),g.innerHTML=y,p.bUseRendered&&_fnSetCellData(t,c,h,y)),S&&(g.className+=" "+p.sClass),x?m._anHidden[h]=null:(m._anHidden[h]=g,g.parentNode.removeChild(g)),p.fnCreatedCell&&p.fnCreatedCell.call(t.oInstance,g,_fnGetCellData(t,c,h,"display"),m._aData,c,h)}if(0!==t.aoRowCreatedCallback.length)for(e=0,n=t.aoData.length;n>e;e++)m=t.aoData[e],_fnCallbackFire(t,"aoRowCreatedCallback",null,[m.nTr,m._aData,e])}function _fnNodeToDataIndex(t,e){return e._DT_RowIndex!==undefined?e._DT_RowIndex:null}function _fnNodeToColumnIndex(t,e,n){for(var i=_fnGetTdNodes(t,e),o=0,r=t.aoColumns.length;r>o;o++)if(i[o]===n)return o;return-1}function _fnGetRowData(t,e,n,i){for(var o=[],r=0,s=i.length;s>r;r++)o.push(_fnGetCellData(t,e,i[r],n));return o}function _fnGetCellData(t,e,n,i){var o,r=t.aoColumns[n],s=t.aoData[e]._aData;if((o=r.fnGetData(s,i))===undefined)return t.iDrawError!=t.iDraw&&null===r.sDefaultContent&&(_fnLog(t,0,"Requested unknown parameter "+("function"==typeof r.mData?"{mData function}":"'"+r.mData+"'")+" from the data source for row "+e),t.iDrawError=t.iDraw),r.sDefaultContent;if(null===o&&null!==r.sDefaultContent)o=r.sDefaultContent;else if("function"==typeof o)return o();return"display"==i&&null===o?"":o}function _fnSetCellData(t,e,n,i){var o=t.aoColumns[n],r=t.aoData[e]._aData;o.fnSetData(r,i)}function _fnGetObjectDataFn(t){if(null===t)return function(){return null};if("function"==typeof t)return function(e,n,i){return t(e,n,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("["))return function(e){return e[t]};var e=function(t,n,i){var o,r,s,a=i.split(".");if(""!==i)for(var l=0,c=a.length;c>l;l++){if(o=a[l].match(__reArray)){a[l]=a[l].replace(__reArray,""),""!==a[l]&&(t=t[a[l]]),r=[],a.splice(0,l+1),s=a.join(".");for(var u=0,h=t.length;h>u;u++)r.push(e(t[u],n,s));var d=o[0].substring(1,o[0].length-1);t=""===d?r:r.join(d);break}if(null===t||t[a[l]]===undefined)return undefined;t=t[a[l]]}return t};return function(n,i){return e(n,i,t)}}function _fnSetObjectDataFn(t){if(null===t)return function(){};if("function"==typeof t)return function(e,n){t(e,"set",n)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("["))return function(e,n){e[t]=n};var e=function(t,n,i){for(var o,r,s,a,l=i.split("."),c=0,u=l.length-1;u>c;c++){if(r=l[c].match(__reArray)){l[c]=l[c].replace(__reArray,""),t[l[c]]=[],o=l.slice(),o.splice(0,c+1),a=o.join(".");for(var h=0,d=n.length;d>h;h++)s={},e(s,n[h],a),t[l[c]].push(s);return}(null===t[l[c]]||t[l[c]]===undefined)&&(t[l[c]]={}),t=t[l[c]]}t[l[l.length-1].replace(__reArray,"")]=n};return function(n,i){return e(n,i,t)}}function _fnGetDataMaster(t){for(var e=[],n=t.aoData.length,i=0;n>i;i++)e.push(t.aoData[i]._aData);return e}function _fnClearTable(t){t.aoData.splice(0,t.aoData.length),t.aiDisplayMaster.splice(0,t.aiDisplayMaster.length),t.aiDisplay.splice(0,t.aiDisplay.length),_fnCalculateEnd(t)}function _fnDeleteIndex(t,e){for(var n=-1,i=0,o=t.length;o>i;i++)t[i]==e?n=i:t[i]>e&&t[i]--;-1!=n&&t.splice(n,1)}function _fnRender(t,e,n){var i=t.aoColumns[n];return i.fnRender({iDataRow:e,iDataColumn:n,oSettings:t,aData:t.aoData[e]._aData,mDataProp:i.mData},_fnGetCellData(t,e,n,"display"))}function _fnCreateTr(t,e){var n,i=t.aoData[e];if(null===i.nTr){i.nTr=document.createElement("tr"),i.nTr._DT_RowIndex=e,i._aData.DT_RowId&&(i.nTr.id=i._aData.DT_RowId),i._aData.DT_RowClass&&(i.nTr.className=i._aData.DT_RowClass);for(var o=0,r=t.aoColumns.length;r>o;o++){var s=t.aoColumns[o];n=document.createElement(s.sCellType),n.innerHTML="function"!=typeof s.fnRender||s.bUseRendered&&null!==s.mData?_fnGetCellData(t,e,o,"display"):_fnRender(t,e,o),null!==s.sClass&&(n.className=s.sClass),s.bVisible?(i.nTr.appendChild(n),i._anHidden[o]=null):i._anHidden[o]=n,s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,n,_fnGetCellData(t,e,o,"display"),i._aData,e,o)}_fnCallbackFire(t,"aoRowCreatedCallback",null,[i.nTr,i._aData,e])}}function _fnBuildHead(t){var e,n,i,o=$("th, td",t.nTHead).length;if(0!==o)for(e=0,i=t.aoColumns.length;i>e;e++)n=t.aoColumns[e].nTh,n.setAttribute("role","columnheader"),t.aoColumns[e].bSortable&&(n.setAttribute("tabindex",t.iTabIndex),n.setAttribute("aria-controls",t.sTableId)),null!==t.aoColumns[e].sClass&&$(n).addClass(t.aoColumns[e].sClass),t.aoColumns[e].sTitle!=n.innerHTML&&(n.innerHTML=t.aoColumns[e].sTitle);else{var r=document.createElement("tr");for(e=0,i=t.aoColumns.length;i>e;e++)n=t.aoColumns[e].nTh,n.innerHTML=t.aoColumns[e].sTitle,n.setAttribute("tabindex","0"),null!==t.aoColumns[e].sClass&&$(n).addClass(t.aoColumns[e].sClass),r.appendChild(n);$(t.nTHead).html("")[0].appendChild(r),_fnDetectHeader(t.aoHeader,t.nTHead)}if($(t.nTHead).children("tr").attr("role","row"),t.bJUI)for(e=0,i=t.aoColumns.length;i>e;e++){n=t.aoColumns[e].nTh;var s=document.createElement("div");s.className=t.oClasses.sSortJUIWrapper,$(n).contents().appendTo(s);var a=document.createElement("span");a.className=t.oClasses.sSortIcon,s.appendChild(a),n.appendChild(s)}if(t.oFeatures.bSort)for(e=0;e<t.aoColumns.length;e++)t.aoColumns[e].bSortable!==!1?_fnSortAttachListener(t,t.aoColumns[e].nTh,e):$(t.aoColumns[e].nTh).addClass(t.oClasses.sSortableNone);if(""!==t.oClasses.sFooterTH&&$(t.nTFoot).children("tr").children("th").addClass(t.oClasses.sFooterTH),null!==t.nTFoot){var l=_fnGetUniqueThs(t,null,t.aoFooter);for(e=0,i=t.aoColumns.length;i>e;e++)l[e]&&(t.aoColumns[e].nTf=l[e],t.aoColumns[e].sClass&&$(l[e]).addClass(t.aoColumns[e].sClass))}}function _fnDrawHead(t,e,n){var i,o,r,s,a,l,c,u,h,d=[],f=[],p=t.aoColumns.length;for(n===undefined&&(n=!1),i=0,o=e.length;o>i;i++){for(d[i]=e[i].slice(),d[i].nTr=e[i].nTr,r=p-1;r>=0;r--)t.aoColumns[r].bVisible||n||d[i].splice(r,1);f.push([])}for(i=0,o=d.length;o>i;i++){if(c=d[i].nTr)for(;l=c.firstChild;)c.removeChild(l);for(r=0,s=d[i].length;s>r;r++)if(u=1,h=1,f[i][r]===undefined){for(c.appendChild(d[i][r].cell),f[i][r]=1;d[i+u]!==undefined&&d[i][r].cell==d[i+u][r].cell;)f[i+u][r]=1,u++;for(;d[i][r+h]!==undefined&&d[i][r].cell==d[i][r+h].cell;){for(a=0;u>a;a++)f[i+a][r+h]=1;h++}d[i][r].cell.rowSpan=u,d[i][r].cell.colSpan=h}}}function _fnDraw(t){var e=_fnCallbackFire(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==$.inArray(!1,e))return _fnProcessingDisplay(t,!1),void 0;var n,i,o,r=[],s=0,a=t.asStripeClasses.length,l=t.aoOpenRows.length;if(t.bDrawing=!0,t.iInitDisplayStart!==undefined&&-1!=t.iInitDisplayStart&&(t._iDisplayStart=t.oFeatures.bServerSide?t.iInitDisplayStart:t.iInitDisplayStart>=t.fnRecordsDisplay()?0:t.iInitDisplayStart,t.iInitDisplayStart=-1,_fnCalculateEnd(t)),t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++;else if(t.oFeatures.bServerSide){if(!t.bDestroying&&!_fnAjaxUpdate(t))return}else t.iDraw++;if(0!==t.aiDisplay.length){var c=t._iDisplayStart,u=t._iDisplayEnd;t.oFeatures.bServerSide&&(c=0,u=t.aoData.length);for(var h=c;u>h;h++){var d=t.aoData[t.aiDisplay[h]];null===d.nTr&&_fnCreateTr(t,t.aiDisplay[h]);var f=d.nTr;if(0!==a){var p=t.asStripeClasses[s%a];d._sRowStripe!=p&&($(f).removeClass(d._sRowStripe).addClass(p),d._sRowStripe=p)}if(_fnCallbackFire(t,"aoRowCallback",null,[f,t.aoData[t.aiDisplay[h]]._aData,s,h]),r.push(f),s++,0!==l)for(var m=0;l>m;m++)if(f==t.aoOpenRows[m].nParent){r.push(t.aoOpenRows[m].nTr);break}}}else{r[0]=document.createElement("tr"),t.asStripeClasses[0]&&(r[0].className=t.asStripeClasses[0]);var g=t.oLanguage,v=g.sZeroRecords;1!=t.iDraw||null===t.sAjaxSource||t.oFeatures.bServerSide?g.sEmptyTable&&0===t.fnRecordsTotal()&&(v=g.sEmptyTable):v=g.sLoadingRecords;var y=document.createElement("td");y.setAttribute("valign","top"),y.colSpan=_fnVisbleColumns(t),y.className=t.oClasses.sRowEmpty,y.innerHTML=_fnInfoMacros(t,v),r[s].appendChild(y)}_fnCallbackFire(t,"aoHeaderCallback","header",[$(t.nTHead).children("tr")[0],_fnGetDataMaster(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]),_fnCallbackFire(t,"aoFooterCallback","footer",[$(t.nTFoot).children("tr")[0],_fnGetDataMaster(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]);var b,C=document.createDocumentFragment(),w=document.createDocumentFragment();if(t.nTBody){if(b=t.nTBody.parentNode,w.appendChild(t.nTBody),!t.oScroll.bInfinite||!t._bInitComplete||t.bSorted||t.bFiltered)for(;o=t.nTBody.firstChild;)t.nTBody.removeChild(o);for(n=0,i=r.length;i>n;n++)C.appendChild(r[n]);t.nTBody.appendChild(C),null!==b&&b.appendChild(t.nTBody)}_fnCallbackFire(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1,t.oFeatures.bServerSide&&(_fnProcessingDisplay(t,!1),t._bInitComplete||_fnInitComplete(t))}function _fnReDraw(t){t.oFeatures.bSort?_fnSort(t,t.oPreviousSearch):t.oFeatures.bFilter?_fnFilterComplete(t,t.oPreviousSearch):(_fnCalculateEnd(t),_fnDraw(t))}function _fnAddOptionsHtml(t){var e=$("<div></div>")[0];t.nTable.parentNode.insertBefore(e,t.nTable),t.nTableWrapper=$('<div id="'+t.sTableId+'_wrapper" class="'+t.oClasses.sWrapper+'" role="grid"></div>')[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var n,i,o,r,s,a,l,c=t.nTableWrapper,u=t.sDom.split(""),h=0;h<u.length;h++){if(i=0,o=u[h],"<"==o){if(r=$("<div></div>")[0],s=u[h+1],"'"==s||'"'==s){for(a="",l=2;u[h+l]!=s;)a+=u[h+l],l++;if("H"==a?a=t.oClasses.sJUIHeader:"F"==a&&(a=t.oClasses.sJUIFooter),-1!=a.indexOf(".")){var d=a.split(".");r.id=d[0].substr(1,d[0].length-1),r.className=d[1]}else"#"==a.charAt(0)?r.id=a.substr(1,a.length-1):r.className=a;h+=l}c.appendChild(r),c=r}else if(">"==o)c=c.parentNode;else if("l"==o&&t.oFeatures.bPaginate&&t.oFeatures.bLengthChange)n=_fnFeatureHtmlLength(t),i=1;else if("f"==o&&t.oFeatures.bFilter)n=_fnFeatureHtmlFilter(t),i=1;else if("r"==o&&t.oFeatures.bProcessing)n=_fnFeatureHtmlProcessing(t),i=1;else if("t"==o)n=_fnFeatureHtmlTable(t),i=1;else if("i"==o&&t.oFeatures.bInfo)n=_fnFeatureHtmlInfo(t),i=1;else if("p"==o&&t.oFeatures.bPaginate)n=_fnFeatureHtmlPaginate(t),i=1;else if(0!==DataTable.ext.aoFeatures.length)for(var f=DataTable.ext.aoFeatures,p=0,m=f.length;m>p;p++)if(o==f[p].cFeature){n=f[p].fnInit(t),n&&(i=1);break}1==i&&null!==n&&("object"!=typeof t.aanFeatures[o]&&(t.aanFeatures[o]=[]),t.aanFeatures[o].push(n),c.appendChild(n))}e.parentNode.replaceChild(t.nTableWrapper,e)}function _fnDetectHeader(t,e){var n,i,o,r,s,a,l,c,u,h,d,f=$(e).children("tr"),p=function(t,e,n){for(var i=t[e];i[n];)n++;return n};for(t.splice(0,t.length),o=0,a=f.length;a>o;o++)t.push([]);for(o=0,a=f.length;a>o;o++)for(n=f[o],c=0,i=n.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(u=1*i.getAttribute("colspan"),h=1*i.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,l=p(t,o,c),d=1===u?!0:!1,s=0;u>s;s++)for(r=0;h>r;r++)t[o+r][l+s]={cell:i,unique:d},t[o+r].nTr=n;
i=i.nextSibling}}function _fnGetUniqueThs(t,e,n){var i=[];n||(n=t.aoHeader,e&&(n=[],_fnDetectHeader(n,e)));for(var o=0,r=n.length;r>o;o++)for(var s=0,a=n[o].length;a>s;s++)!n[o][s].unique||i[s]&&t.bSortCellsTop||(i[s]=n[o][s].cell);return i}function _fnAjaxUpdate(t){if(t.bAjaxDataGet){t.iDraw++,_fnProcessingDisplay(t,!0),t.aoColumns.length;var e=_fnAjaxParameters(t);return _fnServerParams(t,e),t.fnServerData.call(t.oInstance,t.sAjaxSource,e,function(e){_fnAjaxUpdateDraw(t,e)},t),!1}return!0}function _fnAjaxParameters(t){var e,n,i,o,r,s=t.aoColumns.length,a=[];for(a.push({name:"sEcho",value:t.iDraw}),a.push({name:"iColumns",value:s}),a.push({name:"sColumns",value:_fnColumnOrdering(t)}),a.push({name:"iDisplayStart",value:t._iDisplayStart}),a.push({name:"iDisplayLength",value:t.oFeatures.bPaginate!==!1?t._iDisplayLength:-1}),o=0;s>o;o++)e=t.aoColumns[o].mData,a.push({name:"mDataProp_"+o,value:"function"==typeof e?"function":e});if(t.oFeatures.bFilter!==!1)for(a.push({name:"sSearch",value:t.oPreviousSearch.sSearch}),a.push({name:"bRegex",value:t.oPreviousSearch.bRegex}),o=0;s>o;o++)a.push({name:"sSearch_"+o,value:t.aoPreSearchCols[o].sSearch}),a.push({name:"bRegex_"+o,value:t.aoPreSearchCols[o].bRegex}),a.push({name:"bSearchable_"+o,value:t.aoColumns[o].bSearchable});if(t.oFeatures.bSort!==!1){var l=0;for(n=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),o=0;o<n.length;o++)for(i=t.aoColumns[n[o][0]].aDataSort,r=0;r<i.length;r++)a.push({name:"iSortCol_"+l,value:i[r]}),a.push({name:"sSortDir_"+l,value:n[o][1]}),l++;for(a.push({name:"iSortingCols",value:l}),o=0;s>o;o++)a.push({name:"bSortable_"+o,value:t.aoColumns[o].bSortable})}return a}function _fnServerParams(t,e){_fnCallbackFire(t,"aoServerParams","serverParams",[e])}function _fnAjaxUpdateDraw(t,e){if(e.sEcho!==undefined){if(1*e.sEcho<t.iDraw)return;t.iDraw=1*e.sEcho}(!t.oScroll.bInfinite||t.oScroll.bInfinite&&(t.bSorted||t.bFiltered))&&_fnClearTable(t),t._iRecordsTotal=parseInt(e.iTotalRecords,10),t._iRecordsDisplay=parseInt(e.iTotalDisplayRecords,10);var n,i=_fnColumnOrdering(t),o=e.sColumns!==undefined&&""!==i&&e.sColumns!=i;o&&(n=_fnReOrderIndex(t,e.sColumns));for(var r=_fnGetObjectDataFn(t.sAjaxDataProp)(e),s=0,a=r.length;a>s;s++)if(o){for(var l=[],c=0,u=t.aoColumns.length;u>c;c++)l.push(r[s][n[c]]);_fnAddData(t,l)}else _fnAddData(t,r[s]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,_fnDraw(t),t.bAjaxDataGet=!0,_fnProcessingDisplay(t,!1)}function _fnFeatureHtmlFilter(t){var e=t.oPreviousSearch,n=t.oLanguage.sSearch;n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />';var i=document.createElement("div");i.className=t.oClasses.sFilter,i.innerHTML="<label>"+n+"</label>",t.aanFeatures.f||(i.id=t.sTableId+"_filter");var o=$('input[type="text"]',i);return i._DT_Input=o[0],o.val(e.sSearch.replace('"',"&quot;")),o.bind("keyup.DT",function(){for(var n=t.aanFeatures.f,i=""===this.value?"":this.value,o=0,r=n.length;r>o;o++)n[o]!=$(this).parents("div.dataTables_filter")[0]&&$(n[o]._DT_Input).val(i);i!=e.sSearch&&_fnFilterComplete(t,{sSearch:i,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive})}),o.attr("aria-controls",t.sTableId).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}),i}function _fnFilterComplete(t,e,n){var i=t.oPreviousSearch,o=t.aoPreSearchCols,r=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive};if(t.oFeatures.bServerSide)r(e);else{_fnFilter(t,e.sSearch,n,e.bRegex,e.bSmart,e.bCaseInsensitive),r(e);for(var s=0;s<t.aoPreSearchCols.length;s++)_fnFilterColumn(t,o[s].sSearch,s,o[s].bRegex,o[s].bSmart,o[s].bCaseInsensitive);_fnFilterCustom(t)}t.bFiltered=!0,$(t.oInstance).trigger("filter",t),t._iDisplayStart=0,_fnCalculateEnd(t),_fnDraw(t),_fnBuildSearchArray(t,0)}function _fnFilterCustom(t){for(var e=DataTable.ext.afnFiltering,n=_fnGetColumns(t,"bSearchable"),i=0,o=e.length;o>i;i++)for(var r=0,s=0,a=t.aiDisplay.length;a>s;s++){var l=t.aiDisplay[s-r],c=e[i](t,_fnGetRowData(t,l,"filter",n),l);c||(t.aiDisplay.splice(s-r,1),r++)}}function _fnFilterColumn(t,e,n,i,o,r){if(""!==e)for(var s=0,a=_fnFilterCreateSearch(e,i,o,r),l=t.aiDisplay.length-1;l>=0;l--){var c=_fnDataToSearch(_fnGetCellData(t,t.aiDisplay[l],n,"filter"),t.aoColumns[n].sType);a.test(c)||(t.aiDisplay.splice(l,1),s++)}}function _fnFilter(t,e,n,i,o,r){var s,a=_fnFilterCreateSearch(e,i,o,r),l=t.oPreviousSearch;if(n||(n=0),0!==DataTable.ext.afnFiltering.length&&(n=1),e.length<=0)t.aiDisplay.splice(0,t.aiDisplay.length),t.aiDisplay=t.aiDisplayMaster.slice();else if(t.aiDisplay.length==t.aiDisplayMaster.length||l.sSearch.length>e.length||1==n||0!==e.indexOf(l.sSearch))for(t.aiDisplay.splice(0,t.aiDisplay.length),_fnBuildSearchArray(t,1),s=0;s<t.aiDisplayMaster.length;s++)a.test(t.asDataSearch[s])&&t.aiDisplay.push(t.aiDisplayMaster[s]);else{var c=0;for(s=0;s<t.asDataSearch.length;s++)a.test(t.asDataSearch[s])||(t.aiDisplay.splice(s-c,1),c++)}}function _fnBuildSearchArray(t,e){if(!t.oFeatures.bServerSide){t.asDataSearch=[];for(var n=_fnGetColumns(t,"bSearchable"),i=1===e?t.aiDisplayMaster:t.aiDisplay,o=0,r=i.length;r>o;o++)t.asDataSearch[o]=_fnBuildSearchRow(t,_fnGetRowData(t,i[o],"filter",n))}}function _fnBuildSearchRow(t,e){var n=e.join("  ");return-1!==n.indexOf("&")&&(n=$("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(t,e,n,i){var o,r;return n?(o=e?t.split(" "):_fnEscapeRegex(t).split(" "),r="^(?=.*?"+o.join(")(?=.*?")+").*$",new RegExp(r,i?"i":"")):(t=e?t:_fnEscapeRegex(t),new RegExp(t,i?"i":""))}function _fnDataToSearch(t,e){return"function"==typeof DataTable.ext.ofnSearch[e]?DataTable.ext.ofnSearch[e](t):null===t?"":"html"==e?t.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof t?t.replace(/[\r\n]/g," "):t}function _fnEscapeRegex(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],n=new RegExp("(\\"+e.join("|\\")+")","g");return t.replace(n,"\\$1")}function _fnFeatureHtmlInfo(t){var e=document.createElement("div");return e.className=t.oClasses.sInfo,t.aanFeatures.i||(t.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),e.id=t.sTableId+"_info"),t.nTable.setAttribute("aria-describedby",t.sTableId+"_info"),e}function _fnUpdateInfo(t){if(t.oFeatures.bInfo&&0!==t.aanFeatures.i.length){var e,n=t.oLanguage,i=t._iDisplayStart+1,o=t.fnDisplayEnd(),r=t.fnRecordsTotal(),s=t.fnRecordsDisplay();e=0===s?n.sInfoEmpty:n.sInfo,s!=r&&(e+=" "+n.sInfoFiltered),e+=n.sInfoPostFix,e=_fnInfoMacros(t,e),null!==n.fnInfoCallback&&(e=n.fnInfoCallback.call(t.oInstance,t,i,o,r,s,e));for(var a=t.aanFeatures.i,l=0,c=a.length;c>l;l++)$(a[l]).html(e)}}function _fnInfoMacros(t,e){var n=t._iDisplayStart+1,i=t.fnFormatNumber(n),o=t.fnDisplayEnd(),r=t.fnFormatNumber(o),s=t.fnRecordsDisplay(),a=t.fnFormatNumber(s),l=t.fnRecordsTotal(),c=t.fnFormatNumber(l);return t.oScroll.bInfinite&&(i=t.fnFormatNumber(1)),e.replace(/_START_/g,i).replace(/_END_/g,r).replace(/_TOTAL_/g,a).replace(/_MAX_/g,c)}function _fnInitialise(t){var e,n,i=t.iInitDisplayStart;if(t.bInitialised===!1)return setTimeout(function(){_fnInitialise(t)},200),void 0;for(_fnAddOptionsHtml(t),_fnBuildHead(t),_fnDrawHead(t,t.aoHeader),t.nTFoot&&_fnDrawHead(t,t.aoFooter),_fnProcessingDisplay(t,!0),t.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(t),e=0,n=t.aoColumns.length;n>e;e++)null!==t.aoColumns[e].sWidth&&(t.aoColumns[e].nTh.style.width=_fnStringToCss(t.aoColumns[e].sWidth));if(t.oFeatures.bSort?_fnSort(t):t.oFeatures.bFilter?_fnFilterComplete(t,t.oPreviousSearch):(t.aiDisplay=t.aiDisplayMaster.slice(),_fnCalculateEnd(t),_fnDraw(t)),null!==t.sAjaxSource&&!t.oFeatures.bServerSide){var o=[];return _fnServerParams(t,o),t.fnServerData.call(t.oInstance,t.sAjaxSource,o,function(n){var o=""!==t.sAjaxDataProp?_fnGetObjectDataFn(t.sAjaxDataProp)(n):n;for(e=0;e<o.length;e++)_fnAddData(t,o[e]);t.iInitDisplayStart=i,t.oFeatures.bSort?_fnSort(t):(t.aiDisplay=t.aiDisplayMaster.slice(),_fnCalculateEnd(t),_fnDraw(t)),_fnProcessingDisplay(t,!1),_fnInitComplete(t,n)},t),void 0}t.oFeatures.bServerSide||(_fnProcessingDisplay(t,!1),_fnInitComplete(t))}function _fnInitComplete(t,e){t._bInitComplete=!0,_fnCallbackFire(t,"aoInitComplete","init",[t,e])}function _fnLanguageCompat(t){var e=DataTable.defaults.oLanguage;!t.sEmptyTable&&t.sZeroRecords&&"No data available in table"===e.sEmptyTable&&_fnMap(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&t.sZeroRecords&&"Loading..."===e.sLoadingRecords&&_fnMap(t,t,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(t){if(t.oScroll.bInfinite)return null;var e,n,i='name="'+t.sTableId+'_length"',o='<select size="1" '+i+">",r=t.aLengthMenu;if(2==r.length&&"object"==typeof r[0]&&"object"==typeof r[1])for(e=0,n=r[0].length;n>e;e++)o+='<option value="'+r[0][e]+'">'+r[1][e]+"</option>";else for(e=0,n=r.length;n>e;e++)o+='<option value="'+r[e]+'">'+r[e]+"</option>";o+="</select>";var s=document.createElement("div");return t.aanFeatures.l||(s.id=t.sTableId+"_length"),s.className=t.oClasses.sLength,s.innerHTML="<label>"+t.oLanguage.sLengthMenu.replace("_MENU_",o)+"</label>",$('select option[value="'+t._iDisplayLength+'"]',s).attr("selected",!0),$("select",s).bind("change.DT",function(){var i=$(this).val(),o=t.aanFeatures.l;for(e=0,n=o.length;n>e;e++)o[e]!=this.parentNode&&$("select",o[e]).val(i);t._iDisplayLength=parseInt(i,10),_fnCalculateEnd(t),t.fnDisplayEnd()==t.fnRecordsDisplay()&&(t._iDisplayStart=t.fnDisplayEnd()-t._iDisplayLength,t._iDisplayStart<0&&(t._iDisplayStart=0)),-1==t._iDisplayLength&&(t._iDisplayStart=0),_fnDraw(t)}),$("select",s).attr("aria-controls",t.sTableId),s}function _fnCalculateEnd(t){t._iDisplayEnd=t.oFeatures.bPaginate===!1?t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength>t.aiDisplay.length||-1==t._iDisplayLength?t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength}function _fnFeatureHtmlPaginate(t){if(t.oScroll.bInfinite)return null;var e=document.createElement("div");return e.className=t.oClasses.sPaging+t.sPaginationType,DataTable.ext.oPagination[t.sPaginationType].fnInit(t,e,function(t){_fnCalculateEnd(t),_fnDraw(t)}),t.aanFeatures.p||t.aoDrawCallback.push({fn:function(t){DataTable.ext.oPagination[t.sPaginationType].fnUpdate(t,function(t){_fnCalculateEnd(t),_fnDraw(t)})},sName:"pagination"}),e}function _fnPageChange(t,e){var n=t._iDisplayStart;if("number"==typeof e)t._iDisplayStart=e*t._iDisplayLength,t._iDisplayStart>t.fnRecordsDisplay()&&(t._iDisplayStart=0);else if("first"==e)t._iDisplayStart=0;else if("previous"==e)t._iDisplayStart=t._iDisplayLength>=0?t._iDisplayStart-t._iDisplayLength:0,t._iDisplayStart<0&&(t._iDisplayStart=0);else if("next"==e)t._iDisplayLength>=0?t._iDisplayStart+t._iDisplayLength<t.fnRecordsDisplay()&&(t._iDisplayStart+=t._iDisplayLength):t._iDisplayStart=0;else if("last"==e)if(t._iDisplayLength>=0){var i=parseInt((t.fnRecordsDisplay()-1)/t._iDisplayLength,10)+1;t._iDisplayStart=(i-1)*t._iDisplayLength}else t._iDisplayStart=0;else _fnLog(t,0,"Unknown paging action: "+e);return $(t.oInstance).trigger("page",t),n!=t._iDisplayStart}function _fnFeatureHtmlProcessing(t){var e=document.createElement("div");return t.aanFeatures.r||(e.id=t.sTableId+"_processing"),e.innerHTML=t.oLanguage.sProcessing,e.className=t.oClasses.sProcessing,t.nTable.parentNode.insertBefore(e,t.nTable),e}function _fnProcessingDisplay(t,e){if(t.oFeatures.bProcessing)for(var n=t.aanFeatures.r,i=0,o=n.length;o>i;i++)n[i].style.visibility=e?"visible":"hidden";$(t.oInstance).trigger("processing",[t,e])}function _fnFeatureHtmlTable(t){if(""===t.oScroll.sX&&""===t.oScroll.sY)return t.nTable;var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),a=t.nTable.cloneNode(!1),l=t.nTable.cloneNode(!1),c=t.nTable.getElementsByTagName("thead")[0],u=0===t.nTable.getElementsByTagName("tfoot").length?null:t.nTable.getElementsByTagName("tfoot")[0],h=t.oClasses;n.appendChild(i),r.appendChild(s),o.appendChild(t.nTable),e.appendChild(n),e.appendChild(o),i.appendChild(a),a.appendChild(c),null!==u&&(e.appendChild(r),s.appendChild(l),l.appendChild(u)),e.className=h.sScrollWrapper,n.className=h.sScrollHead,i.className=h.sScrollHeadInner,o.className=h.sScrollBody,r.className=h.sScrollFoot,s.className=h.sScrollFootInner,t.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",r.style.overflow="hidden",o.style.overflow="auto"),n.style.border="0",n.style.width="100%",r.style.border="0",i.style.width=""!==t.oScroll.sXInner?t.oScroll.sXInner:"100%",a.removeAttribute("id"),a.style.marginLeft="0",t.nTable.style.marginLeft="0",null!==u&&(l.removeAttribute("id"),l.style.marginLeft="0");var d=$(t.nTable).children("caption");return d.length>0&&(d=d[0],"top"===d._captionSide?a.appendChild(d):"bottom"===d._captionSide&&u&&l.appendChild(d)),""!==t.oScroll.sX&&(n.style.width=_fnStringToCss(t.oScroll.sX),o.style.width=_fnStringToCss(t.oScroll.sX),null!==u&&(r.style.width=_fnStringToCss(t.oScroll.sX)),$(o).scroll(function(){n.scrollLeft=this.scrollLeft,null!==u&&(r.scrollLeft=this.scrollLeft)})),""!==t.oScroll.sY&&(o.style.height=_fnStringToCss(t.oScroll.sY)),t.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),t.oScroll.bInfinite&&$(o).scroll(function(){t.bDrawing||0===$(this).scrollTop()||$(this).scrollTop()+$(this).height()>$(t.nTable).height()-t.oScroll.iLoadGap&&t.fnDisplayEnd()<t.fnRecordsDisplay()&&(_fnPageChange(t,"next"),_fnCalculateEnd(t),_fnDraw(t))}),t.nScrollHead=n,t.nScrollFoot=r,e}function _fnScrollDraw(t){var e,n,i,o,r,s,a,l,c,u,h,d=t.nScrollHead.getElementsByTagName("div")[0],f=d.getElementsByTagName("table")[0],p=t.nTable.parentNode,m=[],g=[],v=null!==t.nTFoot?t.nScrollFoot.getElementsByTagName("div")[0]:null,y=null!==t.nTFoot?v.getElementsByTagName("table")[0]:null,b=t.oBrowser.bScrollOversize,C=function(t){a=t.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0};$(t.nTable).children("thead, tfoot").remove(),c=$(t.nTHead).clone()[0],t.nTable.insertBefore(c,t.nTable.childNodes[0]),i=t.nTHead.getElementsByTagName("tr"),o=c.getElementsByTagName("tr"),null!==t.nTFoot&&(u=$(t.nTFoot).clone()[0],t.nTable.insertBefore(u,t.nTable.childNodes[1]),s=t.nTFoot.getElementsByTagName("tr"),r=u.getElementsByTagName("tr")),""===t.oScroll.sX&&(p.style.width="100%",d.parentNode.style.width="100%");var w=_fnGetUniqueThs(t,c);for(e=0,n=w.length;n>e;e++)l=_fnVisibleToColumnIndex(t,e),w[e].style.width=t.aoColumns[l].sWidth;if(null!==t.nTFoot&&_fnApplyToChildren(function(t){t.style.width=""},r),t.oScroll.bCollapse&&""!==t.oScroll.sY&&(p.style.height=p.offsetHeight+t.nTHead.offsetHeight+"px"),h=$(t.nTable).outerWidth(),""===t.oScroll.sX?(t.nTable.style.width="100%",b&&($("tbody",p).height()>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(t.nTable.style.width=_fnStringToCss($(t.nTable).outerWidth()-t.oScroll.iBarWidth))):""!==t.oScroll.sXInner?t.nTable.style.width=_fnStringToCss(t.oScroll.sXInner):h==$(p).width()&&$(p).height()<$(t.nTable).height()?(t.nTable.style.width=_fnStringToCss(h-t.oScroll.iBarWidth),$(t.nTable).outerWidth()>h-t.oScroll.iBarWidth&&(t.nTable.style.width=_fnStringToCss(h))):t.nTable.style.width=_fnStringToCss(h),h=$(t.nTable).outerWidth(),_fnApplyToChildren(C,o),_fnApplyToChildren(function(t){m.push(_fnStringToCss($(t).width()))},o),_fnApplyToChildren(function(t,e){t.style.width=m[e]},i),$(o).height(0),null!==t.nTFoot&&(_fnApplyToChildren(C,r),_fnApplyToChildren(function(t){g.push(_fnStringToCss($(t).width()))},r),_fnApplyToChildren(function(t,e){t.style.width=g[e]},s),$(r).height(0)),_fnApplyToChildren(function(t,e){t.innerHTML="",t.style.width=m[e]},o),null!==t.nTFoot&&_fnApplyToChildren(function(t,e){t.innerHTML="",t.style.width=g[e]},r),$(t.nTable).outerWidth()<h){var S=p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y")?h+t.oScroll.iBarWidth:h;b&&(p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(t.nTable.style.width=_fnStringToCss(S-t.oScroll.iBarWidth)),p.style.width=_fnStringToCss(S),t.nScrollHead.style.width=_fnStringToCss(S),null!==t.nTFoot&&(t.nScrollFoot.style.width=_fnStringToCss(S)),""===t.oScroll.sX?_fnLog(t,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==t.oScroll.sXInner&&_fnLog(t,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else p.style.width=_fnStringToCss("100%"),t.nScrollHead.style.width=_fnStringToCss("100%"),null!==t.nTFoot&&(t.nScrollFoot.style.width=_fnStringToCss("100%"));if(""===t.oScroll.sY&&b&&(p.style.height=_fnStringToCss(t.nTable.offsetHeight+t.oScroll.iBarWidth)),""!==t.oScroll.sY&&t.oScroll.bCollapse){p.style.height=_fnStringToCss(t.oScroll.sY);var x=""!==t.oScroll.sX&&t.nTable.offsetWidth>p.offsetWidth?t.oScroll.iBarWidth:0;t.nTable.offsetHeight<p.offsetHeight&&(p.style.height=_fnStringToCss(t.nTable.offsetHeight+x))}var _=$(t.nTable).outerWidth();f.style.width=_fnStringToCss(_),d.style.width=_fnStringToCss(_);var T=$(t.nTable).height()>p.clientHeight||"scroll"==$(p).css("overflow-y");d.style.paddingRight=T?t.oScroll.iBarWidth+"px":"0px",null!==t.nTFoot&&(y.style.width=_fnStringToCss(_),v.style.width=_fnStringToCss(_),v.style.paddingRight=T?t.oScroll.iBarWidth+"px":"0px"),$(p).scroll(),(t.bSorted||t.bFiltered)&&(p.scrollTop=0)}function _fnApplyToChildren(t,e,n){for(var i,o,r=0,s=0,a=e.length;a>s;){for(i=e[s].firstChild,o=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?t(i,o,r):t(i,r),r++),i=i.nextSibling,o=n?o.nextSibling:null;s++}}function _fnConvertToWidth(t,e){if(!t||null===t||""===t)return 0;e||(e=document.body);var n,i=document.createElement("div");return i.style.width=_fnStringToCss(t),e.appendChild(i),n=i.offsetWidth,e.removeChild(i),n}function _fnCalculateColumnWidths(t){t.nTable.offsetWidth;var e,n,i,o,r=0,s=0,a=t.aoColumns.length,l=$("th",t.nTHead),c=t.nTable.getAttribute("width"),u=t.nTable.parentNode;for(n=0;a>n;n++)t.aoColumns[n].bVisible&&(s++,null!==t.aoColumns[n].sWidth&&(e=_fnConvertToWidth(t.aoColumns[n].sWidthOrig,u),null!==e&&(t.aoColumns[n].sWidth=_fnStringToCss(e)),r++));if(a==l.length&&0===r&&s==a&&""===t.oScroll.sX&&""===t.oScroll.sY)for(n=0;n<t.aoColumns.length;n++)e=$(l[n]).width(),null!==e&&(t.aoColumns[n].sWidth=_fnStringToCss(e));else{var h=t.nTable.cloneNode(!1),d=t.nTHead.cloneNode(!0),f=document.createElement("tbody"),p=document.createElement("tr");h.removeAttribute("id"),h.appendChild(d),null!==t.nTFoot&&(h.appendChild(t.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(t){t.style.width=""},h.getElementsByTagName("tr"))),h.appendChild(f),f.appendChild(p);var m=$("thead th",h);0===m.length&&(m=$("tbody tr:eq(0)>td",h));var g=_fnGetUniqueThs(t,d);for(i=0,n=0;a>n;n++){var v=t.aoColumns[n];v.bVisible&&null!==v.sWidthOrig&&""!==v.sWidthOrig?g[n-i].style.width=_fnStringToCss(v.sWidthOrig):v.bVisible?g[n-i].style.width="":i++}for(n=0;a>n;n++)if(t.aoColumns[n].bVisible){var y=_fnGetWidestNode(t,n);null!==y&&(y=y.cloneNode(!0),""!==t.aoColumns[n].sContentPadding&&(y.innerHTML+=t.aoColumns[n].sContentPadding),p.appendChild(y))}u.appendChild(h),""!==t.oScroll.sX&&""!==t.oScroll.sXInner?h.style.width=_fnStringToCss(t.oScroll.sXInner):""!==t.oScroll.sX?(h.style.width="",$(h).width()<u.offsetWidth&&(h.style.width=_fnStringToCss(u.offsetWidth))):""!==t.oScroll.sY?h.style.width=_fnStringToCss(u.offsetWidth):c&&(h.style.width=_fnStringToCss(c)),h.style.visibility="hidden",_fnScrollingWidthAdjust(t,h);var b=$("tbody tr:eq(0)",h).children();if(0===b.length&&(b=_fnGetUniqueThs(t,$("thead",h)[0])),""!==t.oScroll.sX){var C=0;for(i=0,n=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(C+=null===t.aoColumns[n].sWidthOrig?$(b[i]).outerWidth():parseInt(t.aoColumns[n].sWidth.replace("px",""),10)+($(b[i]).outerWidth()-$(b[i]).width()),i++);h.style.width=_fnStringToCss(C),t.nTable.style.width=_fnStringToCss(C)}for(i=0,n=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(o=$(b[i]).width(),null!==o&&o>0&&(t.aoColumns[n].sWidth=_fnStringToCss(o)),i++);var w=$(h).css("width");t.nTable.style.width=-1!==w.indexOf("%")?w:_fnStringToCss($(h).outerWidth()),h.parentNode.removeChild(h)}c&&(t.nTable.style.width=_fnStringToCss(c))}function _fnScrollingWidthAdjust(t,e){""===t.oScroll.sX&&""!==t.oScroll.sY?($(e).width(),e.style.width=_fnStringToCss($(e).outerWidth()-t.oScroll.iBarWidth)):""!==t.oScroll.sX&&(e.style.width=_fnStringToCss($(e).outerWidth()))}function _fnGetWidestNode(t,e){var n=_fnGetMaxLenString(t,e);if(0>n)return null;if(null===t.aoData[n].nTr){var i=document.createElement("td");return i.innerHTML=_fnGetCellData(t,n,e,""),i}return _fnGetTdNodes(t,n)[e]}function _fnGetMaxLenString(t,e){for(var n=-1,i=-1,o=0;o<t.aoData.length;o++){var r=_fnGetCellData(t,o,e,"display")+"";r=r.replace(/<.*?>/g,""),r.length>n&&(n=r.length,i=o)}return i}function _fnStringToCss(t){if(null===t)return"0px";if("number"==typeof t)return 0>t?"0px":t+"px";var e=t.charCodeAt(t.length-1);return 48>e||e>57?t:t+"px"}function _fnScrollBarWidth(){var t=document.createElement("p"),e=t.style;e.width="100%",e.height="200px",e.padding="0px";var n=document.createElement("div");e=n.style,e.position="absolute",e.top="0px",e.left="0px",e.visibility="hidden",e.width="200px",e.height="150px",e.padding="0px",e.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;return i==o&&(o=n.clientWidth),document.body.removeChild(n),i-o}function _fnSort(t,e){var n,i,o,r,s,a,l,c,u=[],h=[],d=DataTable.ext.oSort,f=t.aoData,p=t.aoColumns,m=t.oLanguage.oAria;if(!t.oFeatures.bServerSide&&(0!==t.aaSorting.length||null!==t.aaSortingFixed)){for(u=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),n=0;n<u.length;n++){var g=u[n][0],v=_fnColumnIndexToVisible(t,g);if(l=t.aoColumns[g].sSortDataType,DataTable.ext.afnSortData[l]){var y=DataTable.ext.afnSortData[l].call(t.oInstance,t,g,v);if(y.length===f.length)for(o=0,r=f.length;r>o;o++)_fnSetCellData(t,o,g,y[o]);else _fnLog(t,0,"Returned data sort array (col "+g+") is the wrong length")}}for(n=0,i=t.aiDisplayMaster.length;i>n;n++)h[t.aiDisplayMaster[n]]=n;var b,C,w=u.length;for(n=0,i=f.length;i>n;n++)for(o=0;w>o;o++)for(C=p[u[o][0]].aDataSort,s=0,a=C.length;a>s;s++)l=p[C[s]].sType,b=d[(l?l:"string")+"-pre"],f[n]._aSortData[C[s]]=b?b(_fnGetCellData(t,n,C[s],"sort")):_fnGetCellData(t,n,C[s],"sort");t.aiDisplayMaster.sort(function(t,e){var n,i,o,r,s,a;for(n=0;w>n;n++)for(s=p[u[n][0]].aDataSort,i=0,o=s.length;o>i;i++)if(a=p[s[i]].sType,r=d[(a?a:"string")+"-"+u[n][1]](f[t]._aSortData[s[i]],f[e]._aSortData[s[i]]),0!==r)return r;return d["numeric-asc"](h[t],h[e])})}for(e!==undefined&&!e||t.oFeatures.bDeferRender||_fnSortingClasses(t),n=0,i=t.aoColumns.length;i>n;n++){var S=p[n].sTitle.replace(/<.*?>/g,"");if(c=p[n].nTh,c.removeAttribute("aria-sort"),c.removeAttribute("aria-label"),p[n].bSortable)if(u.length>0&&u[0][0]==n){c.setAttribute("aria-sort","asc"==u[0][1]?"ascending":"descending");var x=p[n].asSorting[u[0][2]+1]?p[n].asSorting[u[0][2]+1]:p[n].asSorting[0];c.setAttribute("aria-label",S+("asc"==x?m.sSortAscending:m.sSortDescending))}else c.setAttribute("aria-label",S+("asc"==p[n].asSorting[0]?m.sSortAscending:m.sSortDescending));else c.setAttribute("aria-label",S)}t.bSorted=!0,$(t.oInstance).trigger("sort",t),t.oFeatures.bFilter?_fnFilterComplete(t,t.oPreviousSearch,1):(t.aiDisplay=t.aiDisplayMaster.slice(),t._iDisplayStart=0,_fnCalculateEnd(t),_fnDraw(t))}function _fnSortAttachListener(t,e,n,i){_fnBindAction(e,{},function(e){if(t.aoColumns[n].bSortable!==!1){var o=function(){var i,o;if(e.shiftKey){for(var r=!1,s=0;s<t.aaSorting.length;s++)if(t.aaSorting[s][0]==n){r=!0,i=t.aaSorting[s][0],o=t.aaSorting[s][2]+1,t.aoColumns[i].asSorting[o]?(t.aaSorting[s][1]=t.aoColumns[i].asSorting[o],t.aaSorting[s][2]=o):t.aaSorting.splice(s,1);break}r===!1&&t.aaSorting.push([n,t.aoColumns[n].asSorting[0],0])}else 1==t.aaSorting.length&&t.aaSorting[0][0]==n?(i=t.aaSorting[0][0],o=t.aaSorting[0][2]+1,t.aoColumns[i].asSorting[o]||(o=0),t.aaSorting[0][1]=t.aoColumns[i].asSorting[o],t.aaSorting[0][2]=o):(t.aaSorting.splice(0,t.aaSorting.length),t.aaSorting.push([n,t.aoColumns[n].asSorting[0],0]));_fnSort(t)};t.oFeatures.bProcessing?(_fnProcessingDisplay(t,!0),setTimeout(function(){o(),t.oFeatures.bServerSide||_fnProcessingDisplay(t,!1)},0)):o(),"function"==typeof i&&i(t)}})}function _fnSortingClasses(t){var e,n,i,o,r,s,a=t.aoColumns.length,l=t.oClasses;for(e=0;a>e;e++)t.aoColumns[e].bSortable&&$(t.aoColumns[e].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+t.aoColumns[e].sSortingClass);for(r=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),e=0;e<t.aoColumns.length;e++)if(t.aoColumns[e].bSortable){for(s=t.aoColumns[e].sSortingClass,o=-1,i=0;i<r.length;i++)if(r[i][0]==e){s="asc"==r[i][1]?l.sSortAsc:l.sSortDesc,o=i;break}if($(t.aoColumns[e].nTh).addClass(s),t.bJUI){var c=$("span."+l.sSortIcon,t.aoColumns[e].nTh);c.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed);var u;u=-1==o?t.aoColumns[e].sSortingClassJUI:"asc"==r[o][1]?l.sSortJUIAsc:l.sSortJUIDesc,c.addClass(u)}}else $(t.aoColumns[e].nTh).addClass(t.aoColumns[e].sSortingClass);if(s=l.sSortColumn,t.oFeatures.bSort&&t.oFeatures.bSortClasses){var h,d,f=_fnGetTdNodes(t),p=[];for(e=0;a>e;e++)p.push("");for(e=0,h=1;e<r.length;e++)d=parseInt(r[e][0],10),p[d]=s+h,3>h&&h++;var m,g,v,y=new RegExp(s+"[123]");for(e=0,n=f.length;n>e;e++)d=e%a,g=f[e].className,v=p[d],m=g.replace(y,v),m!=g?f[e].className=$.trim(m):v.length>0&&-1==g.indexOf(v)&&(f[e].className=g+" "+v)}}function _fnSaveState(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e,n,i=t.oScroll.bInfinite,o={iCreate:(new Date).getTime(),iStart:i?0:t._iDisplayStart,iEnd:i?t._iDisplayLength:t._iDisplayEnd,iLength:t._iDisplayLength,aaSorting:$.extend(!0,[],t.aaSorting),oSearch:$.extend(!0,{},t.oPreviousSearch),aoSearchCols:$.extend(!0,[],t.aoPreSearchCols),abVisCols:[]};for(e=0,n=t.aoColumns.length;n>e;e++)o.abVisCols.push(t.aoColumns[e].bVisible);_fnCallbackFire(t,"aoStateSaveParams","stateSaveParams",[t,o]),t.fnStateSave.call(t.oInstance,t,o)}}function _fnLoadState(t,e){if(t.oFeatures.bStateSave){var n=t.fnStateLoad.call(t.oInstance,t);if(n){var i=_fnCallbackFire(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===$.inArray(!1,i)){t.oLoadedState=$.extend(!0,{},n),t._iDisplayStart=n.iStart,t.iInitDisplayStart=n.iStart,t._iDisplayEnd=n.iEnd,t._iDisplayLength=n.iLength,t.aaSorting=n.aaSorting.slice(),t.saved_aaSorting=n.aaSorting.slice(),$.extend(t.oPreviousSearch,n.oSearch),$.extend(!0,t.aoPreSearchCols,n.aoSearchCols),e.saved_aoColumns=[];for(var o=0;o<n.abVisCols.length;o++)e.saved_aoColumns[o]={},e.saved_aoColumns[o].bVisible=n.abVisCols[o];_fnCallbackFire(t,"aoStateLoaded","stateLoaded",[t,n])}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+1e3*iSecs);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;null!==fnCallback?(oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(var i=0,iLen=aCookies.length;iLen>i;i++)if(-1!=aCookies[i].indexOf(sBaseName)){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")"),oData&&oData.iCreate&&aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}catch(e){}}for(aOldCookies.sort(function(t,e){return e.time-t.time});iNewCookieLen+document.cookie.length+10>4096;){if(0===aOldCookies.length)return;var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(t){for(var e=window.location.pathname.split("/"),n=t+"_"+e[e.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var r=i[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return decodeURIComponent(r.substring(n.length,r.length))}return null}function _fnSettingsFromNode(t){for(var e=0;e<DataTable.settings.length;e++)if(DataTable.settings[e].nTable===t)return DataTable.settings[e];return null}function _fnGetTrNodes(t){for(var e=[],n=t.aoData,i=0,o=n.length;o>i;i++)null!==n[i].nTr&&e.push(n[i].nTr);return e}function _fnGetTdNodes(t,e){var n,i,o,r,s,a,l,c,u=[],h=t.aoData.length,d=0,f=h;for(e!==undefined&&(d=e,f=e+1),r=d;f>r;r++)if(l=t.aoData[r],null!==l.nTr){for(i=[],o=l.nTr.firstChild;o;)c=o.nodeName.toLowerCase(),("td"==c||"th"==c)&&i.push(o),o=o.nextSibling;for(n=0,s=0,a=t.aoColumns.length;a>s;s++)t.aoColumns[s].bVisible?u.push(i[s-n]):(u.push(l._anHidden[s]),n++)}return u}function _fnLog(t,e,n){var i=null===t?"DataTables warning: "+n:"DataTables warning (table id = '"+t.sTableId+"'): "+n;if(0===e){if("alert"!=DataTable.ext.sErrMode)throw new Error(i);return alert(i),void 0}window.console&&console.log&&console.log(i)}function _fnMap(t,e,n,i){i===undefined&&(i=n),e[n]!==undefined&&(t[i]=e[n])}function _fnExtend(t,e){var n;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],"object"==typeof oInit[i]&&null!==n&&$.isArray(n)===!1?$.extend(!0,t[i],n):t[i]=n);return t}function _fnBindAction(t,e,n){$(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(t){13===t.which&&n(t)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function _fnCallbackFire(t,e,n,i){for(var o=t[e],r=[],s=o.length-1;s>=0;s--)r.push(o[s].fn.apply(t.oInstance,i));return null!==n&&$(t.oInstance).trigger(n,i),r}function _fnBrowserDetect(t){var e=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(e),t.oBrowser.bScrollOversize=100===$("#DT_BrowserTest",e)[0].offsetWidth?!0:!1,document.body.removeChild(e)}function _fnExternApiFunc(t){return function(){var e=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[t].apply(this,e)}}var __reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(t){var e=typeof t;if("object"!==e||null===t)return"string"===e&&(t='"'+t+'"'),t+"";var n,i,o=[],r=$.isArray(t);for(n in t)i=t[n],e=typeof i,"string"===e?i='"'+i+'"':"object"===e&&null!==i&&(i=_fnJsonString(i)),o.push((r?"":'"'+n+'":')+i);return(r?"[":"{")+o+(r?"]":"}")};this.$=function(t,e){var n,i,o,r=[],s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),a=s.aoData,l=s.aiDisplay,c=s.aiDisplayMaster;if(e||(e={}),e=$.extend({},{filter:"none",order:"current",page:"all"},e),"current"==e.page)for(n=s._iDisplayStart,i=s.fnDisplayEnd();i>n;n++)o=a[l[n]].nTr,o&&r.push(o);else if("current"==e.order&&"none"==e.filter)for(n=0,i=c.length;i>n;n++)o=a[c[n]].nTr,o&&r.push(o);else if("current"==e.order&&"applied"==e.filter)for(n=0,i=l.length;i>n;n++)o=a[l[n]].nTr,o&&r.push(o);else if("original"==e.order&&"none"==e.filter)for(n=0,i=a.length;i>n;n++)o=a[n].nTr,o&&r.push(o);else if("original"==e.order&&"applied"==e.filter)for(n=0,i=a.length;i>n;n++)o=a[n].nTr,-1!==$.inArray(n,l)&&o&&r.push(o);else _fnLog(s,1,"Unknown selection options");var u=$(r),h=u.filter(t),d=u.find(t);return $([].concat($.makeArray(h),$.makeArray(d)))},this._=function(t,e){var n,i,o=[],r=this.$(t,e);for(n=0,i=r.length;i>n;n++)o.push(this.fnGetData(r[n]));return o},this.fnAddData=function(t,e){if(0===t.length)return[];var n,i=[],o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof t[0]&&null!==t[0])for(var r=0;r<t.length;r++){if(n=_fnAddData(o,t[r]),-1==n)return i;i.push(n)}else{if(n=_fnAddData(o,t),-1==n)return i;i.push(n)}return o.aiDisplay=o.aiDisplayMaster.slice(),(e===undefined||e)&&_fnReDraw(o),i},this.fnAdjustColumnSizing=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(e),t===undefined||t?this.fnDraw(!1):(""!==e.oScroll.sX||""!==e.oScroll.sY)&&this.oApi._fnScrollDraw(e)},this.fnClearTable=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);
_fnClearTable(e),(t===undefined||t)&&_fnDraw(e)},this.fnClose=function(t){for(var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=0;n<e.aoOpenRows.length;n++)if(e.aoOpenRows[n].nParent==t){var i=e.aoOpenRows[n].nTr.parentNode;return i&&i.removeChild(e.aoOpenRows[n].nTr),e.aoOpenRows.splice(n,1),0}return 1},this.fnDeleteRow=function(t,e,n){var i,o,r,s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);r="object"==typeof t?_fnNodeToDataIndex(s,t):t;var a=s.aoData.splice(r,1);for(i=0,o=s.aoData.length;o>i;i++)null!==s.aoData[i].nTr&&(s.aoData[i].nTr._DT_RowIndex=i);var l=$.inArray(r,s.aiDisplay);return s.asDataSearch.splice(l,1),_fnDeleteIndex(s.aiDisplayMaster,r),_fnDeleteIndex(s.aiDisplay,r),"function"==typeof e&&e.call(this,s,a),s._iDisplayStart>=s.fnRecordsDisplay()&&(s._iDisplayStart-=s._iDisplayLength,s._iDisplayStart<0&&(s._iDisplayStart=0)),(n===undefined||n)&&(_fnCalculateEnd(s),_fnDraw(s)),a},this.fnDestroy=function(t){var e,n,i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),o=i.nTableWrapper.parentNode,r=i.nTBody;if(t=t===undefined?!1:t,i.bDestroying=!0,_fnCallbackFire(i,"aoDestroyCallback","destroy",[i]),!t)for(e=0,n=i.aoColumns.length;n>e;e++)i.aoColumns[e].bVisible===!1&&this.fnSetColumnVis(e,!0);for($(i.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+i.oClasses.sRowEmpty,i.nTable).parent().remove(),i.nTable!=i.nTHead.parentNode&&($(i.nTable).children("thead").remove(),i.nTable.appendChild(i.nTHead)),i.nTFoot&&i.nTable!=i.nTFoot.parentNode&&($(i.nTable).children("tfoot").remove(),i.nTable.appendChild(i.nTFoot)),i.nTable.parentNode.removeChild(i.nTable),$(i.nTableWrapper).remove(),i.aaSorting=[],i.aaSortingFixed=[],_fnSortingClasses(i),$(_fnGetTrNodes(i)).removeClass(i.asStripeClasses.join(" ")),$("th, td",i.nTHead).removeClass([i.oClasses.sSortable,i.oClasses.sSortableAsc,i.oClasses.sSortableDesc,i.oClasses.sSortableNone].join(" ")),i.bJUI&&($("th span."+i.oClasses.sSortIcon+", td span."+i.oClasses.sSortIcon,i.nTHead).remove(),$("th, td",i.nTHead).each(function(){var t=$("div."+i.oClasses.sSortJUIWrapper,this),e=t.contents();$(this).append(e),t.remove()})),!t&&i.nTableReinsertBefore?o.insertBefore(i.nTable,i.nTableReinsertBefore):t||o.appendChild(i.nTable),e=0,n=i.aoData.length;n>e;e++)null!==i.aoData[e].nTr&&r.appendChild(i.aoData[e].nTr);if(i.oFeatures.bAutoWidth===!0&&(i.nTable.style.width=_fnStringToCss(i.sDestroyWidth)),n=i.asDestroyStripes.length){var s=$(r).children("tr");for(e=0;n>e;e++)s.filter(":nth-child("+n+"n + "+e+")").addClass(i.asDestroyStripes[e])}for(e=0,n=DataTable.settings.length;n>e;e++)DataTable.settings[e]==i&&DataTable.settings.splice(e,1);i=null,oInit=null},this.fnDraw=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t===!1?(_fnCalculateEnd(e),_fnDraw(e)):_fnReDraw(e)},this.fnFilter=function(t,e,n,i,o,r){var s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(s.oFeatures.bFilter)if((n===undefined||null===n)&&(n=!1),(i===undefined||null===i)&&(i=!0),(o===undefined||null===o)&&(o=!0),(r===undefined||null===r)&&(r=!0),e===undefined||null===e){if(_fnFilterComplete(s,{sSearch:t+"",bRegex:n,bSmart:i,bCaseInsensitive:r},1),o&&s.aanFeatures.f)for(var a=s.aanFeatures.f,l=0,c=a.length;c>l;l++)try{a[l]._DT_Input!=document.activeElement&&$(a[l]._DT_Input).val(t)}catch(u){$(a[l]._DT_Input).val(t)}}else $.extend(s.aoPreSearchCols[e],{sSearch:t+"",bRegex:n,bSmart:i,bCaseInsensitive:r}),_fnFilterComplete(s,s.oPreviousSearch,1)},this.fnGetData=function(t,e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(t!==undefined){var i=t;if("object"==typeof t){var o=t.nodeName.toLowerCase();"tr"===o?i=_fnNodeToDataIndex(n,t):"td"===o&&(i=_fnNodeToDataIndex(n,t.parentNode),e=_fnNodeToColumnIndex(n,i,t))}return e!==undefined?_fnGetCellData(n,i,e,""):n.aoData[i]!==undefined?n.aoData[i]._aData:null}return _fnGetDataMaster(n)},this.fnGetNodes=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return t!==undefined?e.aoData[t]!==undefined?e.aoData[t].nTr:null:_fnGetTrNodes(e)},this.fnGetPosition=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=t.nodeName.toUpperCase();if("TR"==n)return _fnNodeToDataIndex(e,t);if("TD"==n||"TH"==n){var i=_fnNodeToDataIndex(e,t.parentNode),o=_fnNodeToColumnIndex(e,i,t);return[i,_fnColumnIndexToVisible(e,o),o]}return null},this.fnIsOpen=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e.aoOpenRows;for(var n=0;n<e.aoOpenRows.length;n++)if(e.aoOpenRows[n].nParent==t)return!0;return!1},this.fnOpen=function(t,e,n){var i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),o=_fnGetTrNodes(i);if(-1!==$.inArray(t,o)){this.fnClose(t);var r=document.createElement("tr"),s=document.createElement("td");r.appendChild(s),s.className=n,s.colSpan=_fnVisbleColumns(i),"string"==typeof e?s.innerHTML=e:$(s).html(e);var a=$("tr",i.nTBody);return-1!=$.inArray(t,a)&&$(r).insertAfter(t),i.aoOpenRows.push({nTr:r,nParent:t}),r}},this.fnPageChange=function(t,e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(n,t),_fnCalculateEnd(n),(e===undefined||e)&&_fnDraw(n)},this.fnSetColumnVis=function(t,e,n){var i,o,r,s,a,l=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),c=l.aoColumns,u=l.aoData;if(c[t].bVisible!=e){if(e){var h=0;for(i=0;t>i;i++)c[i].bVisible&&h++;if(s=h>=_fnVisbleColumns(l),!s)for(i=t;i<c.length;i++)if(c[i].bVisible){a=i;break}for(i=0,o=u.length;o>i;i++)null!==u[i].nTr&&(s?u[i].nTr.appendChild(u[i]._anHidden[t]):u[i].nTr.insertBefore(u[i]._anHidden[t],_fnGetTdNodes(l,i)[a]))}else for(i=0,o=u.length;o>i;i++)null!==u[i].nTr&&(r=_fnGetTdNodes(l,i)[t],u[i]._anHidden[t]=r,r.parentNode.removeChild(r));for(c[t].bVisible=e,_fnDrawHead(l,l.aoHeader),l.nTFoot&&_fnDrawHead(l,l.aoFooter),i=0,o=l.aoOpenRows.length;o>i;i++)l.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(l);(n===undefined||n)&&(_fnAdjustColumnSizing(l),_fnDraw(l)),_fnSaveState(l)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e.aaSorting=t,_fnSort(e)},this.fnSortListener=function(t,e,n){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),t,e,n)},this.fnUpdate=function(t,e,n,i,o){var r,s,a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),l="object"==typeof e?_fnNodeToDataIndex(a,e):e;if($.isArray(t)&&n===undefined)for(a.aoData[l]._aData=t.slice(),r=0;r<a.aoColumns.length;r++)this.fnUpdate(_fnGetCellData(a,l,r),l,r,!1,!1);else if($.isPlainObject(t)&&n===undefined)for(a.aoData[l]._aData=$.extend(!0,{},t),r=0;r<a.aoColumns.length;r++)this.fnUpdate(_fnGetCellData(a,l,r),l,r,!1,!1);else{_fnSetCellData(a,l,n,t),s=_fnGetCellData(a,l,n,"display");var c=a.aoColumns[n];null!==c.fnRender&&(s=_fnRender(a,l,n),c.bUseRendered&&_fnSetCellData(a,l,n,s)),null!==a.aoData[l].nTr&&(_fnGetTdNodes(a,l)[n].innerHTML=s)}var u=$.inArray(l,a.aiDisplay);return a.asDataSearch[u]=_fnBuildSearchRow(a,_fnGetRowData(a,l,"filter",_fnGetColumns(a,"bSearchable"))),(o===undefined||o)&&_fnAdjustColumnSizing(a),(i===undefined||i)&&_fnReDraw(a),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns},$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var t,e,n,i=0,o=this.getAttribute("id"),r=!1,s=!1;if("table"!=this.nodeName.toLowerCase())return _fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName),void 0;for(i=0,t=DataTable.settings.length;t>i;i++){if(DataTable.settings[i].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[i].oInstance;if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}return _fnLog(DataTable.settings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy"),void 0}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}(null===o||""===o)&&(o="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=o);var a=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:o,sTableId:o});if(DataTable.settings.push(a),a.oInstance=1===_that.length?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(a.oFeatures,oInit,"bPaginate"),_fnMap(a.oFeatures,oInit,"bLengthChange"),_fnMap(a.oFeatures,oInit,"bFilter"),_fnMap(a.oFeatures,oInit,"bSort"),_fnMap(a.oFeatures,oInit,"bInfo"),_fnMap(a.oFeatures,oInit,"bProcessing"),_fnMap(a.oFeatures,oInit,"bAutoWidth"),_fnMap(a.oFeatures,oInit,"bSortClasses"),_fnMap(a.oFeatures,oInit,"bServerSide"),_fnMap(a.oFeatures,oInit,"bDeferRender"),_fnMap(a.oScroll,oInit,"sScrollX","sX"),_fnMap(a.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(a.oScroll,oInit,"sScrollY","sY"),_fnMap(a.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(a.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(a.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(a.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(a,oInit,"asStripeClasses"),_fnMap(a,oInit,"asStripClasses","asStripeClasses"),_fnMap(a,oInit,"fnServerData"),_fnMap(a,oInit,"fnFormatNumber"),_fnMap(a,oInit,"sServerMethod"),_fnMap(a,oInit,"aaSorting"),_fnMap(a,oInit,"aaSortingFixed"),_fnMap(a,oInit,"aLengthMenu"),_fnMap(a,oInit,"sPaginationType"),_fnMap(a,oInit,"sAjaxSource"),_fnMap(a,oInit,"sAjaxDataProp"),_fnMap(a,oInit,"iCookieDuration"),_fnMap(a,oInit,"sCookiePrefix"),_fnMap(a,oInit,"sDom"),_fnMap(a,oInit,"bSortCellsTop"),_fnMap(a,oInit,"iTabIndex"),_fnMap(a,oInit,"oSearch","oPreviousSearch"),_fnMap(a,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(a,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(a,oInit,"bJQueryUI","bJUI"),_fnMap(a,oInit,"fnCookieCallback"),_fnMap(a,oInit,"fnStateLoad"),_fnMap(a,oInit,"fnStateSave"),_fnMap(a.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(a,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(a,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(a,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(a,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(a,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(a,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(a,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(a,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(a,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(a,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(a,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),a.oFeatures.bServerSide&&a.oFeatures.bSort&&a.oFeatures.bSortClasses?_fnCallbackReg(a,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):a.oFeatures.bDeferRender&&_fnCallbackReg(a,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(a.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(a.sDom='<"H"lfr>t<"F"ip>')):$.extend(a.oClasses,DataTable.ext.oStdClasses),$(this).addClass(a.oClasses.sTable),(""!==a.oScroll.sX||""!==a.oScroll.sY)&&(a.oScroll.iBarWidth=_fnScrollBarWidth()),a.iInitDisplayStart===undefined&&(a.iInitDisplayStart=oInit.iDisplayStart,a._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(a.oFeatures.bStateSave=!0,_fnLoadState(a,oInit),_fnCallbackReg(a,"aoDrawCallback",_fnSaveState,"state_save")),null!==oInit.iDeferLoading){a.bDeferLoading=!0;var l=$.isArray(oInit.iDeferLoading);a._iRecordsDisplay=l?oInit.iDeferLoading[0]:oInit.iDeferLoading,a._iRecordsTotal=l?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(null!==oInit.aaData&&(s=!0),""!==oInit.oLanguage.sUrl?(a.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(a.oLanguage.sUrl,null,function(t){_fnLanguageCompat(t),$.extend(!0,a.oLanguage,oInit.oLanguage,t),_fnInitialise(a)}),r=!0):$.extend(!0,a.oLanguage,oInit.oLanguage),null===oInit.asStripeClasses&&(a.asStripeClasses=[a.oClasses.sStripeOdd,a.oClasses.sStripeEven]),t=a.asStripeClasses.length,a.asDestroyStripes=[],t){var c=!1,u=$(this).children("tbody").children("tr:lt("+t+")");for(i=0;t>i;i++)u.hasClass(a.asStripeClasses[i])&&(c=!0,a.asDestroyStripes.push(a.asStripeClasses[i]));c&&u.removeClass(a.asStripeClasses.join(" "))}var h,d=[],f=this.getElementsByTagName("thead");if(0!==f.length&&(_fnDetectHeader(a.aoHeader,f[0]),d=_fnGetUniqueThs(a)),null===oInit.aoColumns)for(h=[],i=0,t=d.length;t>i;i++)h.push(null);else h=oInit.aoColumns;for(i=0,t=h.length;t>i;i++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==t&&(null===h[i]&&(h[i]={}),h[i].bVisible=oInit.saved_aoColumns[i].bVisible),_fnAddColumn(a,d?d[i]:null);for(_fnApplyColumnDefs(a,oInit.aoColumnDefs,h,function(t,e){_fnColumnOptions(a,t,e)}),i=0,t=a.aaSorting.length;t>i;i++){a.aaSorting[i][0]>=a.aoColumns.length&&(a.aaSorting[i][0]=0);var p=a.aoColumns[a.aaSorting[i][0]];for(a.aaSorting[i][2]===undefined&&(a.aaSorting[i][2]=0),oInit.aaSorting===undefined&&a.saved_aaSorting===undefined&&(a.aaSorting[i][1]=p.asSorting[0]),e=0,n=p.asSorting.length;n>e;e++)if(a.aaSorting[i][1]==p.asSorting[e]){a.aaSorting[i][2]=e;break}}_fnSortingClasses(a),_fnBrowserDetect(a);var m=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")}),g=$(this).children("thead");0===g.length&&(g=[document.createElement("thead")],this.appendChild(g[0])),a.nTHead=g[0];var v=$(this).children("tbody");0===v.length&&(v=[document.createElement("tbody")],this.appendChild(v[0])),a.nTBody=v[0],a.nTBody.setAttribute("role","alert"),a.nTBody.setAttribute("aria-live","polite"),a.nTBody.setAttribute("aria-relevant","all");var y=$(this).children("tfoot");if(0===y.length&&m.length>0&&(""!==a.oScroll.sX||""!==a.oScroll.sY)&&(y=[document.createElement("tfoot")],this.appendChild(y[0])),y.length>0&&(a.nTFoot=y[0],_fnDetectHeader(a.aoFooter,a.nTFoot)),s)for(i=0;i<oInit.aaData.length;i++)_fnAddData(a,oInit.aaData[i]);else _fnGatherData(a);a.aiDisplay=a.aiDisplayMaster.slice(),a.bInitialised=!0,r===!1&&_fnInitialise(a)}),_that=null,this};DataTable.fnVersionCheck=function(t){for(var e=function(t,e){for(;t.length<e;)t+="0";return t},n=DataTable.ext.sVersion.split("."),i=t.split("."),o="",r="",s=0,a=i.length;a>s;s++)o+=e(n[s],3),r+=e(i[s],3);return parseInt(o,10)>=parseInt(r,10)},DataTable.fnIsDataTable=function(t){for(var e=DataTable.settings,n=0;n<e.length;n++)if(e[n].nTable===t||e[n].nScrollHead===t||e[n].nScrollFoot===t)return!0;return!1},DataTable.fnTables=function(t){var e=[];return jQuery.each(DataTable.settings,function(n,i){(!t||t===!0&&$(i.nTable).is(":visible"))&&e.push(i.nTable)}),e},DataTable.version="1.9.4",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){if(1e3>t)return t;for(var e=t+"",n=e.split(""),i="",o=e.length,r=0;o>r;r++)0===r%3&&0!==r&&(i=this.oLanguage.sInfoThousands+i),i=n[o-r-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(t,e,n,i){i.jqXHR=$.ajax({url:t,data:e,success:function(t){t.sError&&i.oApi._fnLog(i,0,t.sError),$(i.oInstance).trigger("xhr",[i,t]),n(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e){"parsererror"==e&&i.oApi._fnLog(i,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(t,e){this.oApi._fnCreateCookie(t.sCookiePrefix+t.sInstance,this.oApi._fnJsonString(e),t.iCookieDuration,t.sCookiePrefix,t.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(t,e,n){var i=t.oLanguage.oPaginate;t.oClasses;var o=function(e){t.oApi._fnPageChange(t,e.data.action)&&n(t)},r=t.bJUI?'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUINext+'"></span></a>':'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+i.sPrevious+"</a>"+'<a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+i.sNext+"</a>";$(e).append(r);var s=$("a",e),a=s[0],l=s[1];t.oApi._fnBindAction(a,{action:"previous"},o),t.oApi._fnBindAction(l,{action:"next"},o),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",a.id=t.sTableId+"_previous",l.id=t.sTableId+"_next",a.setAttribute("aria-controls",t.sTableId),l.setAttribute("aria-controls",t.sTableId))},fnUpdate:function(t){if(t.aanFeatures.p)for(var e,n=t.oClasses,i=t.aanFeatures.p,o=0,r=i.length;r>o;o++)e=i[o].firstChild,e&&(e.className=0===t._iDisplayStart?n.sPagePrevDisabled:n.sPagePrevEnabled,e=e.nextSibling,e.className=t.fnDisplayEnd()==t.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(t,e,n){var i=t.oLanguage.oPaginate,o=t.oClasses,r=function(e){t.oApi._fnPageChange(t,e.data.action)&&n(t)};$(e).append('<a  tabindex="'+t.iTabIndex+'" class="'+o.sPageButton+" "+o.sPageFirst+'">'+i.sFirst+"</a>"+'<a  tabindex="'+t.iTabIndex+'" class="'+o.sPageButton+" "+o.sPagePrevious+'">'+i.sPrevious+"</a>"+"<span></span>"+'<a tabindex="'+t.iTabIndex+'" class="'+o.sPageButton+" "+o.sPageNext+'">'+i.sNext+"</a>"+'<a tabindex="'+t.iTabIndex+'" class="'+o.sPageButton+" "+o.sPageLast+'">'+i.sLast+"</a>");var s=$("a",e),a=s[0],l=s[1],c=s[2],u=s[3];t.oApi._fnBindAction(a,{action:"first"},r),t.oApi._fnBindAction(l,{action:"previous"},r),t.oApi._fnBindAction(c,{action:"next"},r),t.oApi._fnBindAction(u,{action:"last"},r),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",a.id=t.sTableId+"_first",l.id=t.sTableId+"_previous",c.id=t.sTableId+"_next",u.id=t.sTableId+"_last")},fnUpdate:function(t,e){if(t.aanFeatures.p){var n,i,o,r,s,a,l,c=DataTable.ext.oPagination.iFullNumbersShowPages,u=Math.floor(c/2),h=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),d=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,f="",p=t.oClasses,m=t.aanFeatures.p,g=function(i){t.oApi._fnBindAction(this,{page:i+n-1},function(n){t.oApi._fnPageChange(t,n.data.page),e(t),n.preventDefault()})};for(-1===t._iDisplayLength?(n=1,i=1,d=1):c>h?(n=1,i=h):u>=d?(n=1,i=c):d>=h-u?(n=h-c+1,i=h):(n=d-Math.ceil(c/2)+1,i=n+c-1),o=n;i>=o;o++)f+=d!==o?'<a tabindex="'+t.iTabIndex+'" class="'+p.sPageButton+'">'+t.fnFormatNumber(o)+"</a>":'<a tabindex="'+t.iTabIndex+'" class="'+p.sPageButtonActive+'">'+t.fnFormatNumber(o)+"</a>";for(o=0,r=m.length;r>o;o++)l=m[o],l.hasChildNodes()&&($("span:eq(0)",l).html(f).children("a").each(g),s=l.getElementsByTagName("a"),a=[s[0],s[1],s[s.length-2],s[s.length-1]],$(a).removeClass(p.sPageButton+" "+p.sPageButtonActive+" "+p.sPageButtonStaticDisabled),$([a[0],a[1]]).addClass(1==d?p.sPageButtonStaticDisabled:p.sPageButton),$([a[2],a[3]]).addClass(0===h||d===h||-1===t._iDisplayLength?p.sPageButtonStaticDisabled:p.sPageButton))}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(t){return"string"!=typeof t&&(t=null!==t&&t.toString?t.toString():""),t.toLowerCase()},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0},"html-pre":function(t){return t.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(t,e){return e>t?-1:t>e?1:0},"html-desc":function(t,e){return e>t?1:t>e?-1:0},"date-pre":function(t){var e=Date.parse(t);return(isNaN(e)||""===e)&&(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(t,e){return t-e},"date-desc":function(t,e){return e-t},"numeric-pre":function(t){return"-"==t||""===t?0:1*t},"numeric-asc":function(t,e){return t-e},"numeric-desc":function(t,e){return e-t}}),$.extend(DataTable.ext.aTypes,[function(t){if("number"==typeof t)return"numeric";if("string"!=typeof t)return null;var e,n="0123456789-",i="0123456789.",o=!1;if(e=t.charAt(0),-1==n.indexOf(e))return null;for(var r=1;r<t.length;r++){if(e=t.charAt(r),-1==i.indexOf(e))return null;if("."==e){if(o)return null;o=!0}}return"numeric"},function(t){var e=Date.parse(t);return null!==e&&!isNaN(e)||"string"==typeof t&&0===t.length?"date":null},function(t){return"string"==typeof t&&-1!=t.indexOf("<")&&-1!=t.indexOf(">")?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext})}(window,document),$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(t){return{iStart:t._iDisplayStart,iEnd:t.fnDisplayEnd(),iLength:t._iDisplayLength,iTotal:t.fnRecordsTotal(),iFilteredTotal:t.fnRecordsDisplay(),iPage:-1===t._iDisplayLength?0:Math.ceil(t._iDisplayStart/t._iDisplayLength),iTotalPages:-1===t._iDisplayLength?0:Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(t,e,n){var i=t.oLanguage.oPaginate,o=function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&n(t)};$(e).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+i.sPrevious+"</a></li>"+'<li class="next disabled"><a href="#">'+i.sNext+" &rarr; </a></li>"+"</ul>");var r=$("a",e);$(r[0]).bind("click.DT",{action:"previous"},o),$(r[1]).bind("click.DT",{action:"next"},o)},fnUpdate:function(t,e){var n,i,o,r,s,a,l=5,c=t.oInstance.fnPagingInfo(),u=t.aanFeatures.p,h=Math.floor(l/2);for(c.iTotalPages<l?(s=1,a=c.iTotalPages):c.iPage<=h?(s=1,a=l):c.iPage>=c.iTotalPages-h?(s=c.iTotalPages-l+1,a=c.iTotalPages):(s=c.iPage-h+1,a=s+l-1),n=0,i=u.length;i>n;n++){for($("li:gt(0)",u[n]).filter(":not(:last)").remove(),o=s;a>=o;o++)r=o==c.iPage+1?'class="active"':"",$("<li "+r+'><a href="#">'+o+"</a></li>").insertBefore($("li:last",u[n])[0]).bind("click",function(n){n.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*c.iLength,e(t)
});0===c.iPage?$("li:first",u[n]).addClass("disabled"):$("li:first",u[n]).removeClass("disabled"),c.iPage===c.iTotalPages-1||0===c.iTotalPages?$("li:last",u[n]).addClass("disabled"):$("li:last",u[n]).removeClass("disabled")}}}}),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),function(t,e){function n(e,n){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(s=t("img[usemap=#"+r+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,o,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),o=isNaN(i);return(o||i>=0)&&n(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function o(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(s,o(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(s,o(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var o,r=t.ui[e].prototype;for(o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(t,e,n){var i,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<o.length;i++)t.options[o[i][0]]&&o[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return e[i]>0?!0:(e[i]=1,o=e[i]>0,e[i]=0,o)}})}(jQuery),function(t,e){var n=0,i=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(r){}o(e)},t.widget=function(e,n,i){var o,r,s,a,l={},c=e.split(".")[0];e=e.split(".")[1],o=c+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},r=t[c][e],s=t[c][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new s(t,e)},t.extend(s,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?(l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}(),void 0):(l[e]=i,void 0)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(n){for(var o,r,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(o in s[a])r=s[a][o],s[a].hasOwnProperty(o)&&r!==e&&(n[o]=t.isPlainObject(r)?t.isPlainObject(n[o])?t.widget.extend({},n[o],r):t.widget.extend({},r):r);return n},t.widget.bridge=function(n,o){var r=o.prototype.widgetFullName||n;t.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,o=t.data(this,r);return o?t.isFunction(o[s])&&"_"!==s.charAt(0)?(i=o[s].apply(o,l),i!==o&&i!==e?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,r);e?e.option(s||{})._init():t.data(this,r,new o(s,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var o,r,s,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},o=n.split("."),n=o.shift(),o.length){for(r=a[n]=t.widget.extend({},this.options[n]),s=0;s<o.length-1;s++)r[o[s]]=r[o[s]]||{},r=r[o[s]];if(n=o.pop(),i===e)return r[n]===e?null:r[n];r[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,function(i,s){function a(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+r.eventNamespace,u=l[2];u?o.delegate(u,c,a):n.bind(c,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var o,r,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?n:o.effect||n:e;o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),s&&t.effects&&t.effects.effect[a]?i[e](o):a!==e&&i[a]?i[a](o.duration,o.easing,r):i.queue(function(n){t(this)[e](),r&&r.call(i[0]),n()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,o=1===n.which,r="string"==typeof this.options.cancel&&n.target.nodeName?t(n.target).closest(this.options.cancel).length:!1;return o&&!r&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){function e(t,e,n){return t>e&&e+n>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,r.widgetName+"-item")===r?(i=t(this),!1):void 0}),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),i?!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,n,i){var o,r,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&l>i+c,d="y"===this.options.axis||e+u>r&&s>e+u,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:r<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=n&&i,r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return o?this.floating?s&&"right"===s||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:o&&("down"===o&&n||"up"===o&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,o,r,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(o=t(l[n]),i=o.length-1;i>=0;i--)r=t.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(function(){s.push(this)});return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(o=t(d[n]),i=o.length-1;i>=0;i--)r=t.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;c>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(i){var o,r,s,a,l,c,u,h,d,f,p=null,m=null;for(o=this.containers.length-1;o>=0;o--)if(!t.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(p&&t.contains(this.containers[o].element[0],p.element[0]))continue;p=this.containers[o],m=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",i,this._uiHash(this)),this.containers[o].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,f=p.floating||n(this.currentItem),l=f?"left":"top",c=f?"width":"height",u=this.positionAbs[l]+this.offset.click[l],r=this.items.length-1;r>=0;r--)t.contains(this.containers[m].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(!f||e(this.positionAbs.top+this.offset.click.top,this.items[r].top,this.items[r].height))&&(h=this.items[r].item.offset()[l],d=!1,Math.abs(h-u)>Math.abs(h+this.items[r][c]-u)&&(d=!0,h+=this.items[r][c]),Math.abs(h-u)<s&&(s=Math.abs(h-u),a=this.items[r],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])
},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/o.grid[1])*o.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){t.widget("ui.nestedSortable",t.extend({},t.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"ui-nestedSortable-no-nesting",errorClass:"ui-nestedSortable-error",listType:"ol",maxLevels:0,noJumpFix:0},_create:function(){return 0==this.noJumpFix&&this.element.height(this.element.height()),this.element.data("sortable",this.element.data("nestedSortable")),t.ui.sortable.prototype._create.apply(this,arguments)},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-t(document).scrollTop()<n.scrollSensitivity?i=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(i=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed)),e.pageX-t(document).scrollLeft()<n.scrollSensitivity?i=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(i=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed))),i!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var o=this.items.length-1;o>=0;o--){var r=this.items[o],s=r.item[0],a=this._intersectsWithPointer(r);if(a&&s!=this.currentItem[0]&&this.placeholder[1==a?"next":"prev"]()[0]!=s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"==this.options.type?!t.contains(this.element[0],s):!0)){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(e,r),this._clearEmpty(s),this._trigger("change",e,this._uiHash());break}}var l=this.placeholder[0].parentNode.parentNode&&t(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length?t(this.placeholder[0].parentNode.parentNode):null,c=this._getLevel(this.placeholder),u=this._getChildLevels(this.helper),h=this.placeholder[0].previousSibling?t(this.placeholder[0].previousSibling):null;if(null!=h)for(;"li"!=h[0].nodeName.toLowerCase()||h[0]==this.currentItem[0];){if(!h[0].previousSibling){h=null;break}h=t(h[0].previousSibling)}return newList=document.createElement(n.listType),this.beyondMaxLevels=0,null!=l&&this.positionAbs.left<l.offset().left?(l.after(this.placeholder[0]),this._clearEmpty(l[0]),this._trigger("change",e,this._uiHash())):null!=h&&this.positionAbs.left>h.offset().left+n.tabSize?(this._isAllowed(h,c+u+1),h.children(n.listType).length||h[0].appendChild(newList),h.children(n.listType)[0].appendChild(this.placeholder[0]),this._trigger("change",e,this._uiHash())):this._isAllowed(l,c+u),this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e){if(this.beyondMaxLevels){for(var n=this.placeholder.parent().closest(this.options.items),i=this.beyondMaxLevels-1;i>0;i--)n=n.parent().closest(this.options.items);this.placeholder.removeClass(this.options.errorClass),n.after(this.placeholder),this._trigger("change",e,this._uiHash())}t.ui.sortable.prototype._mouseStop.apply(this,arguments)},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/),o=(t(e.item||this).parent(e.listType).parent("li").attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);n&&i.push((e.key||n[1]+"["+(e.key&&e.expression?n[1]:n[2])+"]")+"="+(o?e.key&&e.expression?o[1]:o[2]:"root"))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toHierarchy:function(e){function n(i){var o=(t(i).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);if(null!=o){var r={id:o[2]};return t(i).children(e.listType).children("li").length>0&&(r.children=[],t(i).children(e.listType).children("li").each(function(){var e=n(t(this));r.children.push(e)})),r}}e=e||{},e.startDepthCount||0;var i=[];return t(this.element).children("li").each(function(){var e=n(t(this));i.push(e)}),i},toArray:function(e){function n(t,e){return t.left-e.left}function i(n,s,a){return right=a+1,t(n).children(e.listType).children("li").length>0&&(s++,t(n).children(e.listType).children("li").each(function(){right=i(t(this),s,right)}),s--),id=t(n).attr(e.attribute||"id").match(e.expression||/(.+)[-=_](.+)/),s===o+1?pid="root":(parentItem=t(n).parent(e.listType).parent("li").attr("id").match(e.expression||/(.+)[-=_](.+)/),pid=parentItem[2]),null!=id&&r.push({item_id:id[2],parent_id:pid,depth:s,left:a,right:right}),a=right+1}e=e||{};var o=e.startDepthCount||0,r=[],s=2;return r.push({item_id:"root",parent_id:"none",depth:o,left:"1",right:2*(t("li",this.element).length+1)}),t(this.element).children("li").each(function(){s=i(this,o+1,s)}),r=r.sort(n)},_clear:function(){t.ui.sortable.prototype._clear.apply(this,arguments);for(var e=this.items.length-1;e>=0;e--){var n=this.items[e].item[0];this._clearEmpty(n)}return!0},_clearEmpty:function(t){t.children[1]&&0==t.children[1].children.length&&t.removeChild(t.children[1])},_getLevel:function(t){var e=1;if(this.options.listType)for(var n=t.closest(this.options.listType);!n.is(".ui-sortable");)e++,n=n.parent().closest(this.options.listType);return e},_getChildLevels:function(e,n){var i=this,o=this.options,r=0;return n=n||0,t(e).children(o.listType).children(o.items).each(function(t,e){r=Math.max(i._getChildLevels(e,n+1),r)}),n?r+1:r},_isAllowed:function(t,e){var n=this.options;null!=t&&t.hasClass(n.disableNesting)?(this.placeholder.addClass(n.errorClass),this.beyondMaxLevels=n.maxLevels<e&&0!=n.maxLevels?e-n.maxLevels:1):n.maxLevels<e&&0!=n.maxLevels?(this.placeholder.addClass(n.errorClass),this.beyondMaxLevels=e-n.maxLevels):(this.placeholder.removeClass(n.errorClass),this.beyondMaxLevels=0)}})),t.ui.nestedSortable.prototype.options=t.extend({},t.ui.sortable.prototype.options,t.ui.nestedSortable.prototype.options)}(jQuery);var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"﻿",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function t(t,e){var n=typeof t[e];return n==h||!(n!=u||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=u||!t[e])}function n(t,e){return typeof t[e]!=d}function i(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}function o(t){return t&&v(t,g)&&b(t,m)}function r(t){window.alert("Rangy not supported in your browser. Reason: "+t),C.initialized=!0,C.supported=!1}function s(t){var e="Rangy warning: "+t;C.config.alertOnWarn?window.alert(e):typeof window.console!=d&&typeof window.console.log!=d&&window.console.log(e)}function a(){if(!C.initialized){var n,i=!1,s=!1;t(document,"createRange")&&(n=document.createRange(),v(n,p)&&b(n,f)&&(i=!0),n.detach());var a=e(document,"body")?document.body:document.getElementsByTagName("body")[0];a&&t(a,"createTextRange")&&(n=a.createTextRange(),o(n)&&(s=!0)),i||s||r("Neither Range nor TextRange are implemented"),C.initialized=!0,C.features={implementsDomRange:i,implementsTextRange:s};for(var l=S.concat(w),c=0,u=l.length;u>c;++c)try{l[c](C)}catch(h){e(window,"console")&&t(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",h)}}}function l(t){t=t||window,a();for(var e=0,n=x.length;n>e;++e)x[e](t)}function c(t){this.name=t,this.initialized=!1,this.supported=!1}var u="object",h="function",d="undefined",f=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],p=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],v=i(t),y=i(e),b=i(n),C={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:v,areHostObjects:y,areHostProperties:b,isTextRange:o},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};C.fail=r,C.warn=s,{}.hasOwnProperty?C.util.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}:r("hasOwnProperty not supported");var w=[],S=[];C.init=a,C.addInitListener=function(t){C.initialized?t(C):w.push(t)};var x=[];C.addCreateMissingNativeApiListener=function(t){x.push(t)},C.createMissingNativeApi=l,c.prototype.fail=function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},c.prototype.warn=function(t){C.warn("Module "+this.name+": "+t)},c.prototype.createError=function(t){return new Error("Error in Rangy "+this.name+" module: "+t)},C.createModule=function(t,e){var n=new c(t);C.modules[t]=n,S.push(function(t){e(t,n),n.initialized=!0,n.supported=!0})},C.requireModules=function(t){for(var e,n,i=0,o=t.length;o>i;++i){if(n=t[i],e=C.modules[n],!(e&&e instanceof c))throw new Error("Module '"+n+"' not found");if(!e.supported)throw new Error("Module '"+n+"' not supported")}};var _=!1,T=function(){_||(_=!0,C.initialized||a())};return typeof window==d?(r("No window found"),void 0):typeof document==d?(r("No document found"),void 0):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",T,!1),t(window,"addEventListener")?window.addEventListener("load",T,!1):t(window,"attachEvent")?window.attachEvent("onload",T):r("Window does not have required addEventListener or attachEvent method"),C)}(),rangy.createModule("DomUtil",function(t,e){function n(t){var e;return typeof t.namespaceURI==T||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function i(t){var e=t.parentNode;return 1==e.nodeType?e:null}function o(t){for(var e=0;t=t.previousSibling;)e++;return e}function r(t){var e;return c(t)?t.length:(e=t.childNodes)?e.length:0}function s(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(I(i,n))return n;return null}function a(t,e,n){for(var i=n?e:e.parentNode;i;){if(i===t)return!0;i=i.parentNode}return!1}function l(t,e,n){for(var i,o=n?t:t.parentNode;o;){if(i=o.parentNode,i===e)return o;o=i}return null}function c(t){var e=t.nodeType;return 3==e||4==e||8==e}function u(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function h(t,e){var n=t.cloneNode(!1);return n.deleteData(0,e),t.deleteData(e,t.length-e),u(n,t),n}function d(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=T)return t.ownerDocument;if(typeof t.document!=T)return t.document;if(t.parentNode)return d(t.parentNode);throw new Error("getDocument: no document found for node")}function f(t){var e=d(t);if(typeof e.defaultView!=T)return e.defaultView;if(typeof e.parentWindow!=T)return e.parentWindow;throw new Error("Cannot get a window object for node")}function p(t){if(typeof t.contentDocument!=T)return t.contentDocument;if(typeof t.contentWindow!=T)return t.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(t){if(typeof t.contentWindow!=T)return t.contentWindow;if(typeof t.contentDocument!=T)return t.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(t){return D.isHostObject(t,"body")?t.body:t.getElementsByTagName("body")[0]}function v(t){for(var e;e=t.parentNode;)t=e;return t}function y(t,e,n,i){var r,a,c,u,h;if(t==n)return e===i?0:i>e?-1:1;if(r=l(n,t,!0))return e<=o(r)?-1:1;if(r=l(t,n,!0))return o(r)<i?-1:1;if(a=s(t,n),c=t===a?a:l(t,a,!0),u=n===a?a:l(n,a,!0),c===u)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(h=a.firstChild;h;){if(h===c)return-1;if(h===u)return 1;h=h.nextSibling}throw new Error("Should not be here!")}function b(t){for(var e,n=d(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function C(t){if(!t)return"[No node]";if(c(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">["+t.childNodes.length+"]"}return t.nodeName}function w(t){this.root=t,this._next=t}function S(t){return new w(t)}function x(t,e){this.node=t,this.offset=e}function _(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var T="undefined",D=t.util;D.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),D.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var E=document.createElement("div");D.areHostMethods(E,["insertBefore","appendChild","cloneNode"]||!D.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),D.isHostProperty(E,"innerHTML")||e.fail("Element is missing innerHTML property");var N=document.createTextNode("test");D.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!D.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"])||!D.areHostProperties(N,["data"]))||e.fail("Incomplete Text Node implementation");var I=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1};w.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(t){return this.node===t.node&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"}},_.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},_.prototype.toString=function(){return this.message},t.dom={arrayContains:I,isHtmlNamespace:n,parentElement:i,getNodeIndex:o,getNodeLength:r,getCommonAncestor:s,isAncestorOf:a,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:u,splitDataNode:h,getDocument:d,getWindow:f,getIframeWindow:m,getIframeDocument:p,getBody:g,getRootContainer:v,comparePoints:y,inspectNode:C,fragmentFromNodeChildren:b,createIterator:S,DomPosition:x},t.DOMException=_}),rangy.createModule("DomRange",function(t){function e(t,e){return 3!=t.nodeType&&(M.isAncestorOf(t,e.startContainer,!0)||M.isAncestorOf(t,e.endContainer,!0))}function n(t){return M.getDocument(t.startContainer)}function i(t,e,n){var i=t._listeners[e];if(i)for(var o=0,r=i.length;r>o;++o)i[o].call(t,{target:t,args:n})}function o(t){return new H(t.parentNode,M.getNodeIndex(t))}function r(t){return new H(t.parentNode,M.getNodeIndex(t)+1)}function s(t,e,n){var i=11==t.nodeType?t.firstChild:t;return M.isCharacterDataNode(e)?n==e.length?M.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:M.splitDataNode(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function a(t){for(var e,i,o,r=n(t.range).createDocumentFragment();i=t.next();){if(e=t.isPartiallySelectedSubtree(),i=i.cloneNode(!e),e&&(o=t.getSubtreeIterator(),i.appendChild(a(o)),o.detach(!0)),10==i.nodeType)throw new F("HIERARCHY_REQUEST_ERR");r.appendChild(i)}return r}function l(t,e,n){var i,o;n=n||{stop:!1};for(var r,s;r=t.next();)if(t.isPartiallySelectedSubtree()){if(e(r)===!1)return n.stop=!0,void 0;if(s=t.getSubtreeIterator(),l(s,e,n),s.detach(!0),n.stop)return}else for(i=M.createIterator(r);o=i.next();)if(e(o)===!1)return n.stop=!0,void 0}function c(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),c(e),e.detach(!0)):t.remove()}function u(t){for(var e,i,o=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(u(i)),i.detach(!0)):t.remove(),10==e.nodeType)throw new F("HIERARCHY_REQUEST_ERR");o.appendChild(e)}return o}function h(t,e,n){var i,o=!(!e||!e.length),r=!!n;o&&(i=new RegExp("^("+e.join("|")+")$"));var s=[];return l(new f(t,!1),function(t){o&&!i.test(t.nodeType)||r&&!n(t)||s.push(t)}),s}function d(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+M.inspectNode(t.startContainer)+":"+t.startOffset+", "+M.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function f(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&M.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||M.isCharacterDataNode(this.sc)?M.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||M.isCharacterDataNode(this.ec)?M.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(t){this.code=this[t],this.codeName=t,this.message="RangeException: "+this.codeName}function m(t,e,n){this.nodes=h(t,e,n),this._next=this.nodes[0],this._position=0}function g(t){return function(e,n){for(var i,o=n?e:e.parentNode;o;){if(i=o.nodeType,M.arrayContains(t,i))return o;o=o.parentNode}return null}}function v(t,e){if(G(t,e))throw new p("INVALID_NODE_TYPE_ERR")}function y(t){if(!t.startContainer)throw new F("INVALID_STATE_ERR")}function b(t,e){if(!M.arrayContains(e,t.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function C(t,e){if(0>e||e>(M.isCharacterDataNode(t)?t.length:t.childNodes.length))throw new F("INDEX_SIZE_ERR")}function w(t,e){if(q(t,!0)!==q(e,!0))throw new F("WRONG_DOCUMENT_ERR")}function S(t){if(V(t,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function x(t,e){if(!t)throw new F(e)}function _(t){return!M.arrayContains($,t.nodeType)&&!q(t,!0)}function T(t,e){return e<=(M.isCharacterDataNode(t)?t.length:t.childNodes.length)}function D(t){if(y(t),_(t.startContainer)||_(t.endContainer)||!T(t.startContainer,t.startOffset)||!T(t.endContainer,t.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function E(){}function N(t){t.START_TO_START=Z,t.START_TO_END=te,t.END_TO_END=ee,t.END_TO_START=ne,t.NODE_BEFORE=ie,t.NODE_AFTER=oe,t.NODE_BEFORE_AND_AFTER=re,t.NODE_INSIDE=se}function I(t){N(t),N(t.prototype)}function k(t,e){return function(){D(this);var n,i,o=this.startContainer,s=this.startOffset,a=this.commonAncestorContainer,c=new f(this,!0);o!==a&&(n=M.getClosestAncestorIn(o,a,!0),i=r(n),o=i.node,s=i.offset),l(c,S),c.reset();var u=t(c);return c.detach(),e(this,o,s,o,s),u}}function P(n,i,s){function a(t,e){return function(n){y(this),b(n,j),b(U(n),$);var i=(t?o:r)(n);(e?l:h)(this,i.node,i.offset)}}function l(t,e,n){var o=t.endContainer,r=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&((U(e)!=U(o)||1==M.comparePoints(e,n,o,r))&&(o=e,r=n),i(t,e,n,o,r))}function h(t,e,n){var o=t.startContainer,r=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&((U(e)!=U(o)||-1==M.comparePoints(e,n,o,r))&&(o=e,r=n),i(t,o,r,e,n))}function d(t,e,n){(e!==t.startContainer||n!==t.startOffset||e!==t.endContainer||n!==t.endOffset)&&i(t,e,n,e,n)}n.prototype=new E,t.util.extend(n.prototype,{setStart:function(t,e){y(this),v(t,!0),C(t,e),l(this,t,e)},setEnd:function(t,e){y(this),v(t,!0),C(t,e),h(this,t,e)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(t){D(this),t?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){y(this),v(t,!0),i(this,t,0,t,M.getNodeLength(t))},selectNode:function(t){y(this),v(t,!1),b(t,j);var e=o(t),n=r(t);i(this,e.node,e.offset,n.node,n.offset)},extractContents:k(u,i),deleteContents:k(c,i),canSurroundContents:function(){D(this),S(this.startContainer),S(this.endContainer);var t=new f(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},detach:function(){s(this)},splitBoundaries:function(){D(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,o=this.endOffset,r=t===n;M.isCharacterDataNode(n)&&o>0&&o<n.length&&M.splitDataNode(n,o),M.isCharacterDataNode(t)&&e>0&&e<t.length&&(t=M.splitDataNode(t,e),r?(o-=e,n=t):n==t.parentNode&&o>=M.getNodeIndex(t)&&o++,e=0),i(this,t,e,n,o)},normalizeBoundaries:function(){D(this);var t=this.startContainer,e=this.startOffset,n=this.endContainer,o=this.endOffset,r=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(n=t,o=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},s=function(i){var r=i.previousSibling;if(r&&r.nodeType==i.nodeType){t=i;var s=i.length;if(e=r.length,i.insertData(0,r.data),r.parentNode.removeChild(r),t==n)o+=e,n=t;else if(n==i.parentNode){var a=M.getNodeIndex(i);o==a?(n=i,o=s):o>a&&o--}}},a=!0;if(M.isCharacterDataNode(n))n.length==o&&r(n);else{if(o>0){var l=n.childNodes[o-1];l&&M.isCharacterDataNode(l)&&r(l)}a=!this.collapsed}if(a){if(M.isCharacterDataNode(t))0==e&&s(t);else if(e<t.childNodes.length){var c=t.childNodes[e];c&&M.isCharacterDataNode(c)&&s(c)}}else t=n,e=o;i(this,t,e,n,o)},collapseToPoint:function(t,e){y(this),v(t,!0),C(t,e),d(this,t,e)}}),I(n)}function A(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:M.getCommonAncestor(t.startContainer,t.endContainer)}function L(t,e,n,o,r){var s=t.startContainer!==e||t.startOffset!==n,a=t.endContainer!==o||t.endOffset!==r;t.startContainer=e,t.startOffset=n,t.endContainer=o,t.endOffset=r,A(t),i(t,"boundarychange",{startMoved:s,endMoved:a})}function R(t){y(t),t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.collapsed=t.commonAncestorContainer=null,i(t,"detach",null),t._listeners=null}function O(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},A(this)}t.requireModules(["DomUtil"]);var M=t.dom,H=M.DomPosition,F=t.DOMException;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,M.isCharacterDataNode(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!M.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return e(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse();else{t=new O(n(this.range));var e=this._current,i=e,o=0,r=e,s=M.getNodeLength(e);M.isAncestorOf(e,this.sc,!0)&&(i=this.sc,o=this.so),M.isAncestorOf(e,this.ec,!0)&&(r=this.ec,s=this.eo),L(t,i,o,r,s)}return new f(t,this.clonePartiallySelectedTextNodes)},detach:function(t){t&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},p.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var j=[1,3,4,5,7,8,10],$=[2,9,11],W=[5,6,10,12],B=[1,3,4,5,7,8,10,11],z=[1,3,4,5,7,8],U=M.getRootContainer,q=g([9,11]),V=g(W),G=g([6,10,12]),X=document.createElement("style"),Y=!1;try{X.innerHTML="<b>x</b>",Y=3==X.firstChild.nodeType}catch(Q){}t.features.htmlParsingConforms=Y;var K=Y?function(t){var e=this.startContainer,n=M.getDocument(e);if(!e)throw new F("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:M.isCharacterDataNode(e)&&(i=M.parentElement(e)),i=null===i||"HTML"==i.nodeName&&M.isHtmlNamespace(M.getDocument(i).documentElement)&&M.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=t,M.fragmentFromNodeChildren(i)}:function(t){y(this);var e=n(this),i=e.createElement("body");return i.innerHTML=t,M.fragmentFromNodeChildren(i)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,te=1,ee=2,ne=3,ie=0,oe=1,re=2,se=3;E.prototype={attachListener:function(t,e){this._listeners[t].push(e)},compareBoundaryPoints:function(t,e){D(this),w(this.startContainer,e.startContainer);var n,i,o,r,s=t==ne||t==Z?"start":"end",a=t==te||t==Z?"start":"end";return n=this[s+"Container"],i=this[s+"Offset"],o=e[a+"Container"],r=e[a+"Offset"],M.comparePoints(n,i,o,r)},insertNode:function(t){if(D(this),b(t,B),S(this.startContainer),M.isAncestorOf(t,this.startContainer,!0))throw new F("HIERARCHY_REQUEST_ERR");var e=s(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){D(this);var t,e;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&M.isCharacterDataNode(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=n(this).createDocumentFragment(),e.appendChild(t),e;var i=new f(this,!0);return t=a(i),i.detach(),t},canSurroundContents:function(){D(this),S(this.startContainer),S(this.endContainer);var t=new f(this,!0),n=t._first&&e(t._first,this)||t._last&&e(t._last,this);return t.detach(),!n},surroundContents:function(t){if(b(t,z),!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){D(this);for(var t,e=new O(n(this)),i=J.length;i--;)t=J[i],e[t]=this[t];return e},toString:function(){D(this);var t=this.startContainer;if(t===this.endContainer&&M.isCharacterDataNode(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new f(this,!0);
return l(n,function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){D(this);var e=t.parentNode,n=M.getNodeIndex(t);if(!e)throw new F("NOT_FOUND_ERR");var i=this.comparePoint(e,n),o=this.comparePoint(e,n+1);return 0>i?o>0?re:ie:o>0?oe:se},comparePoint:function(t,e){return D(this),x(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),M.comparePoints(t,e,this.startContainer,this.startOffset)<0?-1:M.comparePoints(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:K,toHtml:function(){D(this);var t=n(this).createElement("div");return t.appendChild(this.cloneContents()),t.innerHTML},intersectsNode:function(t,e){if(D(this),x(t,"NOT_FOUND_ERR"),M.getDocument(t)!==n(this))return!1;var i=t.parentNode,o=M.getNodeIndex(t);x(i,"NOT_FOUND_ERR");var r=M.comparePoints(i,o,this.endContainer,this.endOffset),s=M.comparePoints(i,o+1,this.startContainer,this.startOffset);return e?0>=r&&s>=0:0>r&&s>0},isPointInRange:function(t,e){return D(this),x(t,"HIERARCHY_REQUEST_ERR"),w(t,this.startContainer),M.comparePoints(t,e,this.startContainer,this.startOffset)>=0&&M.comparePoints(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t,e){if(D(this),n(t)!=n(this))throw new F("WRONG_DOCUMENT_ERR");var i=M.comparePoints(this.startContainer,this.startOffset,t.endContainer,t.endOffset),o=M.comparePoints(this.endContainer,this.endOffset,t.startContainer,t.startOffset);return e?0>=i&&o>=0:0>i&&o>0},intersection:function(t){if(this.intersectsRange(t)){var e=M.comparePoints(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=M.comparePoints(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsRange(t,!0)){var e=this.cloneRange();return-1==M.comparePoints(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==M.comparePoints(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new p("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==se},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,M.getNodeLength(t))<=0},containsRange:function(t){return this.intersection(t).equals(t)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var i=n.pop();e.setEnd(i,i.length);var o=this.containsRange(e);return e.detach(),o}return this.containsNodeContents(t)},createNodeIterator:function(t,e){return D(this),new m(this,t,e)},getNodes:function(t,e){return D(this),h(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){y(this),this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){y(this),this.setStartAfter(t),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(t){return O.rangesEqual(this,t)},inspect:function(){return d(this)}},P(O,L,R),t.rangePrototype=E.prototype,O.rangeProperties=J,O.RangeIterator=f,O.copyComparisonConstants=I,O.createPrototypeRange=P,O.inspect=d,O.getRangeDocument=n,O.rangesEqual=function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},t.DomRange=O,t.RangeException=p}),rangy.createModule("WrappedRange",function(t){function e(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var i=n.parentElement();n=t.duplicate(),n.collapse(!1);var o=n.parentElement(),r=i==o?i:s.getCommonAncestor(i,o);return r==e?r:s.getCommonAncestor(e,r)}function n(t){return 0==t.compareEndPoints("StartToEnd",t)}function i(t,e,n,i){var o=t.duplicate();o.collapse(n);var r=o.parentElement();if(s.isAncestorOf(e,r,!0)||(r=e),!r.canHaveHTML)return new a(r.parentNode,s.getNodeIndex(r));var l,c,u,h,d,f=s.getDocument(r).createElement("span"),p=n?"StartToStart":"StartToEnd";do r.insertBefore(f,f.previousSibling),o.moveToElementText(f);while((l=o.compareEndPoints(p,t))>0&&f.previousSibling);if(d=f.nextSibling,-1==l&&d&&s.isCharacterDataNode(d)){o.setEndPoint(n?"EndToStart":"EndToEnd",t);var m;if(/[\r\n]/.test(d.data)){var g=o.duplicate(),v=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",v);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=o.text.length;h=new a(d,m)}else c=(i||!n)&&f.previousSibling,u=(i||n)&&f.nextSibling,h=u&&s.isCharacterDataNode(u)?new a(u,0):c&&s.isCharacterDataNode(c)?new a(c,c.length):new a(r,s.getNodeIndex(f));return f.parentNode.removeChild(f),h}function o(t,e){var n,i,o,r,a=t.offset,l=s.getDocument(t.node),c=l.body.createTextRange(),u=s.isCharacterDataNode(t.node);return u?(n=t.node,i=n.parentNode):(r=t.node.childNodes,n=a<r.length?r[a]:null,i=t.node),o=l.createElement("span"),o.innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),c.moveToElementText(o),c.collapse(!e),i.removeChild(o),u&&c[e?"moveStart":"moveEnd"]("character",a),c}t.requireModules(["DomUtil","DomRange"]);var r,s=t.dom,a=s.DomPosition,l=t.DomRange;if(!t.features.implementsDomRange||t.features.implementsTextRange&&t.config.preferTextRange){if(t.features.implementsTextRange){r=function(t){this.textRange=t,this.refresh()},r.prototype=new l(document),r.prototype.refresh=function(){var t,o,r=e(this.textRange);n(this.textRange)?o=t=i(this.textRange,r,!0,!0):(t=i(this.textRange,r,!0,!1),o=i(this.textRange,r,!1,!1)),this.setStart(t.node,t.offset),this.setEnd(o.node,o.offset)},l.copyComparisonConstants(r);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=r),t.createNativeRange=function(t){return t=t||document,t.body.createTextRange()}}}else!function(){function e(t){for(var e,n=u.length;n--;)e=u[n],t[e]=t.nativeRange[e]}function n(t,e,n,i,o){var r=t.startContainer!==e||t.startOffset!=n,s=t.endContainer!==i||t.endOffset!=o;(r||s)&&(t.setEnd(i,o),t.setStart(e,n))}function i(t){t.nativeRange.detach(),t.detached=!0;for(var e,n=u.length;n--;)e=u[n],t[e]=null}var o,a,c,u=l.rangeProperties;r=function(t){if(!t)throw new Error("Range must be specified");this.nativeRange=t,e(this)},l.createPrototypeRange(r,n,i),o=r.prototype,o.selectNode=function(t){this.nativeRange.selectNode(t),e(this)},o.deleteContents=function(){this.nativeRange.deleteContents(),e(this)},o.extractContents=function(){var t=this.nativeRange.extractContents();return e(this),t},o.cloneContents=function(){return this.nativeRange.cloneContents()},o.surroundContents=function(t){this.nativeRange.surroundContents(t),e(this)},o.collapse=function(t){this.nativeRange.collapse(t),e(this)},o.cloneRange=function(){return new r(this.nativeRange.cloneRange())},o.refresh=function(){e(this)},o.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");s.getBody(document).appendChild(h);var d=document.createRange();d.setStart(h,0),d.setEnd(h,0);try{d.setStart(h,1),a=!0,o.setStart=function(t,n){this.nativeRange.setStart(t,n),e(this)},o.setEnd=function(t,n){this.nativeRange.setEnd(t,n),e(this)},c=function(t){return function(n){this.nativeRange[t](n),e(this)}}}catch(f){a=!1,o.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(i){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}e(this)},o.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(i){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}e(this)},c=function(t,n){return function(i){try{this.nativeRange[t](i)}catch(o){this.nativeRange[n](i),this.nativeRange[t](i)}e(this)}}}o.setStartBefore=c("setStartBefore","setEndBefore"),o.setStartAfter=c("setStartAfter","setEndAfter"),o.setEndBefore=c("setEndBefore","setStartBefore"),o.setEndAfter=c("setEndAfter","setStartAfter"),d.selectNodeContents(h),o.selectNodeContents=d.startContainer==h&&d.endContainer==h&&0==d.startOffset&&d.endOffset==h.length?function(t){this.nativeRange.selectNodeContents(t),e(this)}:function(t){this.setStart(t,0),this.setEnd(t,l.getEndOffset(t))},d.selectNodeContents(h),d.setEnd(h,3);var p=document.createRange();p.selectNodeContents(h),p.setEnd(h,4),p.setStart(h,2),o.compareBoundaryPoints=-1==d.compareBoundaryPoints(d.START_TO_END,p)&1==d.compareBoundaryPoints(d.END_TO_START,p)?function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},t.util.isHostMethod(d,"createContextualFragment")&&(o.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),s.getBody(document).removeChild(h),d.detach(),p.detach()}(),t.createNativeRange=function(t){return t=t||document,t.createRange()};t.features.implementsTextRange&&(r.rangeToTextRange=function(t){if(t.collapsed){var e=o(new a(t.startContainer,t.startOffset),!0);return e}var n=o(new a(t.startContainer,t.startOffset),!0),i=o(new a(t.endContainer,t.endOffset),!1),r=s.getDocument(t.startContainer).body.createTextRange();return r.setEndPoint("StartToStart",n),r.setEndPoint("EndToEnd",i),r}),r.prototype.getName=function(){return"WrappedRange"},t.WrappedRange=r,t.createRange=function(e){return e=e||document,new r(t.createNativeRange(e))},t.createRangyRange=function(t){return t=t||document,new l(t)},t.createIframeRange=function(e){return t.createRange(s.getIframeDocument(e))},t.createIframeRangyRange=function(e){return t.createRangyRange(s.getIframeDocument(e))},t.addCreateMissingNativeApiListener(function(e){var n=e.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return t.createRange(this)}),n=e=null})}),rangy.createModule("WrappedSelection",function(t,e){function n(t){return(t||window).getSelection()}function i(t){return(t||window).document.selection}function o(t,e,n){var i=n?"end":"start",o=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[o+"Container"],t.focusOffset=e[o+"Offset"]}function r(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function s(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function a(e){var n;return e instanceof _?(n=e._selectionNativeRange,n||(n=t.createNativeRange(S.getDocument(e.startContainer)),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset),e._selectionNativeRange=n,e.attachListener("detach",function(){this._selectionNativeRange=null}))):e instanceof T?n=e.nativeRange:t.features.implementsDomRange&&e instanceof S.getWindow(e.startContainer).Range&&(n=e),n}function l(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;n>e;++e)if(!S.isAncestorOf(t[0],t[e]))return!1;return!0}function c(t){var e=t.getNodes();if(!l(e))throw new Error("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return e[0]}function u(t){return!!t&&"undefined"!=typeof t.text}function h(t,e){var n=new T(e);t._ranges=[n],o(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function d(e){if(e._ranges.length=0,"None"==e.docSelection.type)s(e);else{var n=e.docSelection.createRange();if(u(n))h(e,n);else{e.rangeCount=n.length;for(var i,r=S.getDocument(n.item(0)),a=0;a<e.rangeCount;++a)i=t.createRange(r),i.selectNode(n.item(a)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,o(e,e._ranges[e.rangeCount-1],!1)}}}function f(t,e){for(var n=t.docSelection.createRange(),i=c(e),o=S.getDocument(n.item(0)),r=S.getBody(o).createControlRange(),s=0,a=n.length;a>s;++s)r.add(n.item(s));try{r.add(i)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select(),d(t)}function p(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function m(t,e){for(var n,i=S.getDocument(e[0].startContainer),o=S.getBody(i).createControlRange(),r=0;rangeCount>r;++r){n=c(e[r]);try{o.add(n)}catch(s){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),d(t)}function g(t,e){if(t.anchorNode&&S.getDocument(t.anchorNode)!==S.getDocument(e))throw new D("WRONG_DOCUMENT_ERR")}function v(t){var e=[],n=new E(t.anchorNode,t.anchorOffset),i=new E(t.focusNode,t.focusOffset),o="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var r=0,s=t.rangeCount;s>r;++r)e[r]=_.inspect(t.getRangeAt(r));return"["+o+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}t.requireModules(["DomUtil","DomRange","WrappedRange"]),t.config.checkSelectionRanges=!0;var y,b,C="boolean",w="_rangySelection",S=t.dom,x=t.util,_=t.DomRange,T=t.WrappedRange,D=t.DOMException,E=S.DomPosition,N="Control",I=t.util.isHostMethod(window,"getSelection"),k=t.util.isHostObject(document,"selection"),P=k&&(!I||t.config.preferTextRange);P?(y=i,t.isSelectionValid=function(t){var e=(t||window).document,n=e.selection;return"None"!=n.type||S.getDocument(n.createRange().parentElement())==e}):I?(y=n,t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=y;var A=y(),L=t.createNativeRange(document),R=S.getBody(document),O=x.areHostObjects(A,["anchorNode","focusNode"]&&x.areHostProperties(A,["anchorOffset","focusOffset"]));t.features.selectionHasAnchorAndFocus=O;var M=x.isHostMethod(A,"extend");t.features.selectionHasExtend=M;var H="number"==typeof A.rangeCount;t.features.selectionHasRangeCount=H;var F=!1,j=!0;x.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof A.rangeCount&&t.features.implementsDomRange&&function(){var t=document.createElement("iframe");R.appendChild(t);var e=S.getIframeDocument(t);e.open(),e.write("<html><head></head><body>12</body></html>"),e.close();var n=S.getIframeWindow(t).getSelection(),i=e.documentElement,o=i.lastChild,r=o.firstChild,s=e.createRange();s.setStart(r,1),s.collapse(!0),n.addRange(s),j=1==n.rangeCount,n.removeAllRanges();var a=s.cloneRange();s.setStart(r,0),a.setEnd(r,2),n.addRange(s),n.addRange(a),F=2==n.rangeCount,s.detach(),a.detach(),R.removeChild(t)}(),t.features.selectionSupportsMultipleRanges=F,t.features.collapsedNonEditableSelectionsSupported=j;var $,W=!1;R&&x.isHostMethod(R,"createControlRange")&&($=R.createControlRange(),x.areHostProperties($,["item","add"])&&(W=!0)),t.features.implementsControlRange=W,b=O?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var B;x.isHostMethod(A,"getRangeAt")?B=function(t,e){try{return t.getRangeAt(e)}catch(n){return null}}:O&&(B=function(e){var n=S.getDocument(e.anchorNode),i=t.createRange(n);return i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset),i.collapsed!==this.isCollapsed&&(i.setStart(e.focusNode,e.focusOffset),i.setEnd(e.anchorNode,e.anchorOffset)),i}),t.getSelection=function(t){t=t||window;var e=t[w],n=y(t),o=k?i(t):null;return e?(e.nativeSelection=n,e.docSelection=o,e.refresh(t)):(e=new p(n,o,t),t[w]=e),e},t.getIframeSelection=function(e){return t.getSelection(S.getIframeWindow(e))};var z=p.prototype;if(!P&&O&&x.areHostMethods(A,["removeAllRanges","addRange"])){z.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),s(this)};var U=function(e,n){var i=_.getRangeDocument(n),o=t.createRange(i);o.collapseToPoint(n.endContainer,n.endOffset),e.nativeSelection.addRange(a(o)),e.nativeSelection.extend(n.startContainer,n.startOffset),e.refresh()};z.addRange=H?function(e,n){if(W&&k&&this.docSelection.type==N)f(this,e);else if(n&&M)U(this,e);else{var i;if(F?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(a(e)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(t.config.checkSelectionRanges){var r=B(this.nativeSelection,this.rangeCount-1);r&&!_.rangesEqual(r,e)&&(e=new T(r))}this._ranges[this.rangeCount-1]=e,o(this,e,G(this.nativeSelection)),this.isCollapsed=b(this)}else this.refresh()}}:function(t,e){e&&M?U(this,t):(this.nativeSelection.addRange(a(t)),this.refresh())},z.setRanges=function(t){if(W&&t.length>1)m(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}}}else{if(!(x.isHostMethod(A,"empty")&&x.isHostMethod(L,"select")&&W&&P))return e.fail("No means of selecting a Range or TextRange was found"),!1;z.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=S.getDocument(this.anchorNode);else if(this.docSelection.type==N){var e=this.docSelection.createRange();e.length&&(t=S.getDocument(e.item(0)).body.createTextRange())}if(t){var n=t.body.createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}s(this)},z.addRange=function(t){this.docSelection.type==N?f(this,t):(T.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,t,!1))},z.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?m(this,t):e&&this.addRange(t[0])}}z.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new D("INDEX_SIZE_ERR");return this._ranges[t]};var q;if(P)q=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=S.getBody(e.win.document).createTextRange(),n.collapse(!0)),e.docSelection.type==N?d(e):u(n)?h(e,n):s(e)};else if(x.isHostMethod(A,"getRangeAt")&&"number"==typeof A.rangeCount)q=function(e){if(W&&k&&e.docSelection.type==N)d(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,i=e.rangeCount;i>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));o(e,e._ranges[e.rangeCount-1],G(e.nativeSelection)),e.isCollapsed=b(e)}else s(e)};else{if(!O||typeof A.isCollapsed!=C||typeof L.collapsed!=C||!t.features.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;q=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=B(n,0),t._ranges=[e],t.rangeCount=1,r(t),t.isCollapsed=b(t)):s(t)}}z.refresh=function(t){var e=t?this._ranges.slice(0):null;if(q(this),t){var n=e.length;if(n!=this._ranges.length)return!1;for(;n--;)if(!_.rangesEqual(e[n],this._ranges[n]))return!1;return!0}};var V=function(t,e){var n=t.getAllRanges(),i=!1;t.removeAllRanges();for(var o=0,r=n.length;r>o;++o)i||e!==n[o]?t.addRange(n[o]):i=!0;t.rangeCount||s(t)};z.removeRange=W?function(t){if(this.docSelection.type==N){for(var e,n=this.docSelection.createRange(),i=c(t),o=S.getDocument(n.item(0)),r=S.getBody(o).createControlRange(),s=!1,a=0,l=n.length;l>a;++a)e=n.item(a),e!==i||s?r.add(n.item(a)):s=!0;r.select(),d(this)}else V(this,t)}:function(t){V(this,t)};var G;!P&&O&&t.features.implementsDomRange?(G=function(t){var e=!1;return t.anchorNode&&(e=1==S.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e},z.isBackwards=function(){return G(this)}):G=z.isBackwards=function(){return!1},z.toString=function(){for(var t=[],e=0,n=this.rangeCount;n>e;++e)t[e]=""+this._ranges[e];return t.join("")},z.collapse=function(e,n){g(this,e);var i=t.createRange(S.getDocument(e));i.collapseToPoint(e,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},z.collapseToStart=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},z.collapseToEnd=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},z.selectAllChildren=function(e){g(this,e);var n=t.createRange(S.getDocument(e));n.selectNodeContents(e),this.removeAllRanges(),this.addRange(n)},z.deleteFromDocument=function(){if(W&&k&&this.docSelection.type==N){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var i=0,o=n.length;o>i;++i)n[i].deleteContents();this.addRange(n[o-1])}},z.getAllRanges=function(){return this._ranges.slice(0)},z.setSingleRange=function(t){this.setRanges([t])},z.containsNode=function(t,e){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(t,e))return!0;return!1},z.toHtml=function(){var t="";if(this.rangeCount){for(var e=_.getRangeDocument(this._ranges[0]).createElement("div"),n=0,i=this._ranges.length;i>n;++n)e.appendChild(this._ranges[n].cloneContents());t=e.innerHTML}return t},z.getName=function(){return"WrappedSelection"},z.inspect=function(){return v(this)},z.detach=function(){this.win[w]=null,this.win=this.anchorNode=this.focusNode=null},p.inspect=v,t.Selection=p,t.selectionPrototype=z,t.addCreateMissingNativeApiListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return t.getSelection(this)}),e=null})});var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var o=i.constructor,r=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==r)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return r.ancestor=this,r.extend=this.extend,r.forEach=this.forEach,r.implement=this.implement,r.prototype=i,r.toString=this.toString,r.valueOf=function(t){return"object"==t?r:o.valueOf()},n.call(r,e),"function"==typeof r.init&&r.init(),r},Base.prototype={extend:function(t,e){if(arguments.length>1){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e},e.valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var o=Base.prototype.extend;Base._prototyping||"function"==typeof this||(o=this.extend||o);for(var r={toSource:null},s=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=s[a++];)t[l]!=r[l]&&o.call(this,l,t[l]);for(var l in t)r[l]||o.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function t(t){return(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var e=navigator.userAgent,n=document.createElement("div"),i=-1!==e.indexOf("MSIE")&&-1===e.indexOf("Opera"),o=-1!==e.indexOf("Gecko")&&-1===e.indexOf("KHTML"),r=-1!==e.indexOf("AppleWebKit/"),s=-1!==e.indexOf("Chrome/"),a=-1!==e.indexOf("Opera/");return{USER_AGENT:e,supported:function(){var e=this.USER_AGENT.toLowerCase(),i="contentEditable"in n,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,r=document.querySelector&&document.querySelectorAll,s=this.isIos()&&t(e)<5||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return i&&o&&r&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var t=this.USER_AGENT.toLowerCase();return-1!==t.indexOf("webkit")&&-1!==t.indexOf("mobile")},supportsSandboxedIframes:function(){return i},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!o},hasCurrentStyleProperty:function(){return"currentStyle"in n},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in n||function(){return n.setAttribute("on"+t,"return;"),"function"==typeof n["on"+t]}()},supportsEventsInIframeCorrectly:function(){return!a},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return r||o},supportsDataTransfer:function(){try{return r&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(t){return!1}},supportsHTML5Tags:function(t){var e=t.createElement("div"),n="<article>foo</article>";return e.innerHTML=n,e.innerHTML.toLowerCase()===n},supportsCommand:function(){var t={formatBlock:i,insertUnorderedList:i||a||r,insertOrderedList:i||a||r},e={insertHTML:o};return function(n,i){var o=t[i];if(!o){try{return n.queryCommandSupported(i)}catch(r){}try{return n.queryCommandEnabled(i)}catch(s){return!!e[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return i},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||a||r},supportsGetAttributeCorrectly:function(){var t=document.createElement("td");return"1"!=t.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||i||a},clearsListsInContentEditableCorrectly:function(){return o||i||r},autoScrollsToCaret:function(){return!r},autoClosesUnclosedTags:function(){var t,e,i=n.cloneNode(!1);return i.innerHTML="<p><div></div>",e=i.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in n},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(t){var n=e.match(/Chrome\/(\d+)/)||[,0];return n[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return i&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return i},hasProblemsSettingCaretAfterImg:function(){return i},hasUndoInContextMenu:function(){return o||s||a}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(t.indexOf)return-1!==t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return!0;return!1},without:function(e){e=wysihtml5.lang.array(e);for(var n=[],i=0,o=t.length;o>i;i++)e.contains(t[i])||n.push(t[i]);return n},get:function(){for(var e=0,n=t.length,i=[];n>e;e++)i.push(t[e]);return i}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},stopObserving:function(t,e){this.events=this.events||{};var n,i,o=0;if(t){for(n=this.events[t]||[],i=[];o<n.length;o++)n[o]!==e&&e&&i.push(n[o]);this.events[t]=i}else this.events={};return this}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/;wysihtml5.lang.string=function(n){return n=String(n),{trim:function(){return n.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)n=this.replace("#{"+e+"}").by(t[e]);return n},replace:function(t){return{by:function(e){return n.split(t).join(e)}}}}}}(),function(t){function e(t){return r(t)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),s(t))}function n(t){return t.replace(l,function(t,e){var n=(e.match(c)||[])[1]||"",i=h[n];e=e.replace(c,""),e.split(i).length>e.split(n).length&&(e+=n,n="");var o=e,r=e;return e.length>u&&(r=r.substr(0,u)+"..."),"www."===o.substr(0,4)&&(o="http://"+o),'<a href="'+o+'">'+r+"</a>"+n})}function i(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}function o(t){var e=t.parentNode,o=i(e.ownerDocument);for(o.innerHTML="<span></span>"+n(t.data),o.removeChild(o.firstChild);o.firstChild;)e.insertBefore(o.firstChild,t);e.removeChild(t)}function r(t){for(var e;t.parentNode;){if(t=t.parentNode,e=t.nodeName,a.contains(e))return!0;if("body"===e)return!1}return!1}function s(e){if(!a.contains(e.nodeName)){if(e.nodeType===t.TEXT_NODE&&e.data.match(l))return o(e),void 0;for(var n=t.lang.array(e.childNodes).get(),i=n.length,r=0;i>r;r++)s(n[r]);return e}}var a=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,h={")":"(","]":"[","}":"{"};t.dom.autoLink=e,t.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(t){var e=t.browser.supportsClassList(),n=t.dom;n.addClass=function(t,i){return e?t.classList.add(i):(n.hasClass(t,i)||(t.className+=" "+i),void 0)},n.removeClass=function(t,n){return e?t.classList.remove(n):(t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," "),void 0)},n.hasClass=function(t,n){if(e)return t.classList.contains(n);var i=t.className;return i.length>0&&(i==n||new RegExp("(^|\\s)"+n+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}function e(t,e){return t.createElement(e)}function n(n,i){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var o,r,s,a,l,c,u,h,d,f=n.ownerDocument,p=e(f,i),m=n.querySelectorAll("br"),g=m.length;for(d=0;g>d;d++)for(a=m[d];(l=a.parentNode)&&l!==n&&l.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(o=wysihtml5.lang.array(n.childNodes).get(),r=o.length,d=0;r>d;d++)h=h||t(f,p),s=o[d],c="block"===wysihtml5.dom.getStyle("display").from(s),u="BR"===s.nodeName,c?(h=h.firstChild?t(f,p):h,h.appendChild(s),h=null):u?h=h.firstChild?null:h:h.appendChild(s);return n.parentNode.replaceChild(p,n),p}return n}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var i,o=0,r=t.length;r>o;o++)i=t[o],"undefined"!=typeof e[i]&&""!==e[i]&&(n[i]=e[i]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(e){return i(e)?parseInt(t.getStyle("width").from(e),10)<e.offsetWidth:!1},i=function(n){for(var i=0,o=e.length;o>i;i++)if("border-box"===t.getStyle(e[i]).from(n))return e[i]};t.copyStyles=function(i){return{from:function(o){n(o)&&(i=wysihtml5.lang.array(i).without(e));for(var r,s="",a=i.length,l=0;a>l;l++)r=i[l],s+=r+":"+t.getStyle(r).from(o)+";";return{to:function(e){return t.setStyles(s).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,i,o){return t.dom.observe(e,i,function(i){for(var r=i.target,s=t.lang.array(e.querySelectorAll(n));r&&r!==e;){if(s.contains(r)){o.call(r,i);break}r=r.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=function(t,e){var n=e.createElement("div");n.style.display="none",e.body.appendChild(n);try{n.innerHTML=t}catch(i){}return e.body.removeChild(n),n},e=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var e=0,i=n.length;i>e;e++)t.createElement(n[e]);t._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,i){i=i||document;var o;return"object"==typeof n&&n.nodeType?(o=i.createElement("div"),o.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(i)?(o=i.createElement("div"),o.innerHTML=n):(e(i),o=t(n,i)),o}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return e&&e.length?"string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t):!0}function e(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function n(t,e,n){var i=(t.className||"").match(n)||[];return e?i[i.length-1]===e:!!i.length}function i(e,n,i){for(;i--&&e&&"BODY"!==e.nodeName;){if(t(e.nodeName,n))return e;e=e.parentNode}return null}function o(i,o,r,s,a){for(;a--&&i&&"BODY"!==i.nodeName;){if(e(i)&&t(i.nodeName,o)&&n(i,r,s))return i;
i=i.parentNode}return null}return function(t,e,n){return n=n||50,e.className||e.classRegExp?o(t,e.nodeName,e.className,e.classRegExp,n):i(t,e.nodeName,n)}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(n,function(t){return t.charAt(1).toUpperCase()})}var e={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var o=i.ownerDocument,r=e[n]||t(n),s=i.style,a=i.currentStyle,l=s[r];if(l)return l;if(a)try{return a[r]}catch(c){}var u,h,d=o.defaultView||o.parentWindow,f=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;return d.getComputedStyle?(f&&(u=s.overflow,s.overflow="hidden"),h=d.getComputedStyle(i,null).getPropertyValue(n),f&&(s.overflow=u||""),h):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function t(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}var e={},n=1;return function(n,i){var o=t(n)+":"+i,r=e[o];return r||(r=e[o]=n.getElementsByTagName(i)),r.length>0}}(),function(t){function e(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=i++)}var n={},i=1;t.dom.hasElementWithClassName=function(i,o){if(!t.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+o);var r=e(i)+":"+o,s=n[r];return s||(s=n[r]=i.getElementsByClassName(o)),s.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),n&&n.appendChild(i)}}},wysihtml5.dom.observe=function(t,e,n){e="string"==typeof e?[e]:e;for(var i,o,r=0,s=e.length;s>r;r++)o=e[r],t.addEventListener?t.addEventListener(o,n,!1):(i=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+o,i));return{stop:function(){for(var o,r=0,s=e.length;s>r;r++)o=e[r],t.removeEventListener?t.removeEventListener(o,n,!1):t.detachEvent("on"+o,i)}}},wysihtml5.dom.parse=function(){function t(t,n,i,o){wysihtml5.lang.object(h).merge(u).merge(n).get(),i=i||t.ownerDocument||document;var r,s,a,l=i.createDocumentFragment(),c="string"==typeof t;for(r=c?wysihtml5.dom.getAsDom(t,i):t;r.firstChild;)a=r.firstChild,r.removeChild(a),s=e(a,o),s&&l.appendChild(s);return r.innerHTML="",r.appendChild(l),c?wysihtml5.quirks.getCorrectInnerHTML(r):r}function e(t,n){var i,o=t.nodeType,r=t.childNodes,s=r.length,c=a[o],u=0;if(i=c&&c(t),!i)return null;for(u=0;s>u;u++)newChild=e(r[u],n),newChild&&i.appendChild(newChild);return n&&i.childNodes.length<=1&&i.nodeName.toLowerCase()===l&&!i.attributes.length?i.firstChild:i}function n(t){var e,n,o=h.tags,r=t.nodeName.toLowerCase(),s=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(s&&"HTML"!=s&&(r=s+":"+r),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(r="div")),r in o){if(e=o[r],!e||e.remove)return null;e="string"==typeof e?{rename_tag:e}:e}else{if(!t.firstChild)return null;e={rename_tag:l}}return n=t.ownerDocument.createElement(e.rename_tag||r),i(t,n,e),t=null,n}function i(t,e,n){var i,r,s,a,l,u,d,m={},g=n.set_class,v=n.add_class,y=n.set_attributes,b=n.check_attributes,C=h.classes,w=0,S=[],x=[],_=[],T=[];if(y&&(m=wysihtml5.lang.object(y).clone()),b)for(l in b)d=f[b[l]],d&&(u=d(o(t,l)),"string"==typeof u&&(m[l]=u));if(g&&S.push(g),v)for(l in v)d=p[v[l]],d&&(a=d(o(t,l)),"string"==typeof a&&S.push(a));for(C["_wysihtml5-temp-placeholder"]=1,T=t.getAttribute("class"),T&&(S=S.concat(T.split(c))),i=S.length;i>w;w++)s=S[w],C[s]&&x.push(s);for(r=x.length;r--;)s=x[r],wysihtml5.lang.array(_).contains(s)||_.unshift(s);_.length&&(m["class"]=_.join(" "));for(l in m)try{e.setAttribute(l,m[l])}catch(D){}m.src&&("undefined"!=typeof m.width&&e.setAttribute("width",m.width),"undefined"!=typeof m.height&&e.setAttribute("height",m.height))}function o(t,e){e=e.toLowerCase();var n=t.nodeName;if("IMG"==n&&"src"==e&&r(t)===!0)return t.src;if(d&&"outerHTML"in t){var i=t.outerHTML.toLowerCase(),o=-1!=i.indexOf(" "+e+"=");return o?t.getAttribute(e):null}return t.getAttribute(e)}function r(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}function s(t){return t.ownerDocument.createTextNode(t.data)}var a={1:n,3:s},l="span",c=/\s+/,u={tags:{},classes:{}},h={},d=!wysihtml5.browser.supportsGetAttributeCorrectly(),f={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return e=(e||"").replace(t,""),e||null}}()},p={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[String(e).toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[String(e).toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[String(e).toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[String(e).charAt(0)]}}()};return t}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,n=wysihtml5.lang.array(t.childNodes).get(),i=n.length,o=0;i>o;o++)e=n[o],e.nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode){if(!t.firstChild)return t.parentNode.removeChild(t),void 0;for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function n(t){return"BR"===t.nodeName}function i(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}function o(t){if("MENU"===t.nodeName||"UL"===t.nodeName||"OL"===t.nodeName){var o,r,s,a,l,c=t.ownerDocument,u=c.createDocumentFragment(),h=t.previousElementSibling||t.previousSibling;for(h&&!e(h)&&i(u);l=t.firstChild;){for(r=l.lastChild;o=l.firstChild;)s=o===r,a=s&&!e(o)&&!n(o),u.appendChild(o),a&&i(u);l.parentNode.removeChild(l)}t.parentNode.replaceChild(u,t)}}t.resolveList=o}(wysihtml5.dom),function(t){var e=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],o=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.iframe=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=e.createElement("iframe");return i.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(r){if(t.dom.contains(e.documentElement,r)){var s=this,a=r.contentWindow,l=r.contentWindow.document,c=e.characterSet||e.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return r.contentWindow},this.getDocument=function(){return r.contentWindow.document},a.onerror=function(t,e,n){throw new Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){var h,d;for(h=0,d=n.length;d>h;h++)this._unset(a,n[h]);for(h=0,d=i.length;d>h;h++)this._unset(a,i[h],t.EMPTY_FUNCTION);for(h=0,d=o.length;d>h;h++)this._unset(l,o[h]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){s.callback(s)},0)}},_getHtml:function(e){var n,i=e.stylesheets,o="",r=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>r;r++)o+='<link rel="stylesheet" href="'+i[r]+'">';return e.stylesheets=o,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,i,o){try{e[n]=i}catch(r){}try{e.__defineGetter__(n,function(){return i})}catch(r){}if(o)try{e.__defineSetter__(n,function(){})}catch(r){}if(!t.browser.crashesWhenDefineProperty(n))try{var s={get:function(){return i}};o&&(s.set=function(){}),Object.defineProperty(e,n,s)}catch(r){}}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var i in e)n.setAttribute(t[i]||i,e[i])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var n=e.style;if("string"==typeof t)return n.cssText+=";"+t,void 0;for(var i in t)"float"===i?(n.cssFloat=t[i],n.styleFloat=t[i]):n[i]=t[i]}}},function(t){t.simulatePlaceholder=function(e,n,i){var o="placeholder",r=function(){n.hasPlaceholderSet()&&n.clear(),t.removeClass(n.element,o)},s=function(){n.isEmpty()&&(n.setValue(i),t.addClass(n.element,o))};e.observe("set_placeholder",s).observe("unset_placeholder",r).observe("focus:composer",r).observe("paste:composer",r).observe("blur:composer",s),s()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function t(t,n,i){n=n||e,i=i||t.ownerDocument||document;var o,r,s,a,l,c="string"==typeof t,u=0;o=c?wysihtml5.dom.getAsDom(t,i):t;for(l in n)for(s=o.querySelectorAll(l),r=n[l],a=s.length;a>u;u++)r(s[u]);return s=t=n=null,c?o.innerHTML:o}var e={"a u":wysihtml5.dom.replaceWithChildNodes};return t}(),function(t){var e=t.dom;t.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)&&(t.innerHTML="")},0)};return function(n){e.observe(n.element,["cut","keydown"],t)}}(),t.quirks.ensureProperClearingOfLists=function(){var n=["OL","UL","MENU"],i=function(i,o){if(o.firstChild&&t.lang.array(n).contains(o.firstChild.nodeName)){var r=e.getParentElement(i,{nodeName:n});if(r){var s=r==o.firstChild;if(s){var a=r.childNodes.length<=1;if(a){var l=r.firstChild?""===r.firstChild.innerHTML:!0;l&&r.parentNode.removeChild(r)}}}}};return function(n){e.observe(n.element,"keydown",function(e){if(e.keyCode===t.BACKSPACE_KEY){var o=n.selection.getSelectedNode();i(o,n.element)}})}}()}(wysihtml5),function(t){var e="%7E";t.quirks.getCorrectInnerHTML=function(n){var i=n.innerHTML;if(-1===i.indexOf(e))return i;var o,r,s,a,l=n.querySelectorAll("[href*='~'], [src*='~']");for(a=0,s=l.length;s>a;a++)o=l[a].href||l[a].src,r=t.lang.string(o).replace("~").by(e),i=t.lang.string(i).replace(r).by(o);return i}}(wysihtml5),function(t){var e=t.dom,n=["LI","P","H1","H2","H3","H4","H5","H6"],i=["UL","OL","MENU"];t.quirks.insertLineBreakOnReturn=function(o){function r(n){var i=e.getParentElement(n,{nodeName:["P","DIV"]},2);if(i){var r=document.createTextNode(t.INVISIBLE_SPACE);e.insert(r).before(i),e.replaceWithChildNodes(i),o.selection.selectNode(r)}}function s(s){var a=s.keyCode;if(!(s.shiftKey||a!==t.ENTER_KEY&&a!==t.BACKSPACE_KEY)){var l=(s.target,o.selection.getSelectedNode()),c=e.getParentElement(l,{nodeName:n},4);return c?("LI"!==c.nodeName||a!==t.ENTER_KEY&&a!==t.BACKSPACE_KEY?c.nodeName.match(/H[1-6]/)&&a===t.ENTER_KEY&&setTimeout(function(){r(o.selection.getSelectedNode())},0):setTimeout(function(){var t,n=o.selection.getSelectedNode();n&&(t=e.getParentElement(n,{nodeName:i},2),t||r(n))},0),void 0):(a!==t.ENTER_KEY||t.browser.insertsLineBreaksOnReturn()||(o.commands.exec("insertLineBreak"),s.preventDefault()),void 0)}}e.observe(o.element.ownerDocument,"keydown",s)}}(wysihtml5),function(t){var e="wysihtml5-quirks-redraw";t.quirks.redraw=function(n){t.dom.addClass(n,e),t.dom.removeClass(n,e);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(o){}}}(wysihtml5),function(t){function e(t){var e=0;if(t.parentNode)do e+=t.offsetTop||0,t=t.offsetParent;while(t);return e}var n=t.dom;t.Selection=Base.extend({constructor:function(t){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},getBookmark:function(){var t=this.getRange();return t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(e){var i=rangy.createRange(this.doc),o=e.nodeType===t.ELEMENT_NODE,r="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,s=o?e.innerHTML:e.data,a=""===s||s===t.INVISIBLE_SPACE,l=n.getStyle("display").from(e),c="block"===l||"list-item"===l;if(a&&o&&r)try{e.innerHTML=t.INVISIBLE_SPACE}catch(u){}r?i.selectNodeContents(e):i.selectNode(e),r&&a&&o?i.collapse(c):r&&a&&(i.setStartAfter(e),i.setEndAfter(e)),this.setSelection(i)},getSelectedNode:function(t){var e,n;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange(),n&&n.length)?n.item(0):(e=this.getSelection(this.doc),e.focusNode===e.anchorNode?e.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},executeAndRestore:function(e,n){var i,o=this.doc.body,r=n&&o.scrollTop,s=n&&o.scrollLeft,a="_wysihtml5-temp-placeholder",l='<span class="'+a+'">'+t.INVISIBLE_SPACE+"</span>",c=this.getRange(this.doc);if(!c)return e(o,o),void 0;var u=c.createContextualFragment(l);c.insertNode(u);try{e(c.startContainer,c.endContainer)}catch(h){setTimeout(function(){throw h},0)}caretPlaceholder=this.doc.querySelector("."+a),caretPlaceholder?(i=rangy.createRange(this.doc),i.selectNode(caretPlaceholder),i.deleteContents(),this.setSelection(i)):o.focus(),n&&(o.scrollTop=r,o.scrollLeft=s);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(d){}},executeAndRestoreSimple:function(t){var e,n,i,o,r,s=this.getRange(),a=this.doc.body;if(!s)return t(a,a),void 0;o=s.getNodes([3]),n=o[0]||s.startContainer,i=o[o.length-1]||s.endContainer,r={collapsed:s.collapsed,startContainer:n,startOffset:n===s.startContainer?s.startOffset:0,endContainer:i,endOffset:i===s.endContainer?s.endOffset:i.length};try{t(s.startContainer,s.endContainer)}catch(l){setTimeout(function(){throw l},0)}e=rangy.createRange(this.doc);try{e.setStart(r.startContainer,r.startOffset)}catch(c){}try{e.setEnd(r.endContainer,r.endOffset)}catch(u){}try{this.setSelection(e)}catch(h){}},insertHTML:function(t){var e=rangy.createRange(this.doc),n=e.createContextualFragment(t),i=n.lastChild;this.insertNode(n),i&&this.setAfter(i)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e=this.getRange();if(e)try{e.surroundContents(t),this.selectNode(t)}catch(n){t.appendChild(e.extractContents()),e.insertNode(t)}},scrollIntoView:function(){var n,i=this.doc,o=i.documentElement.scrollHeight>i.documentElement.offsetHeight,r=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||function(){var e=i.createElement("span");return e.innerHTML=t.INVISIBLE_SPACE,e}();o&&(this.insertNode(r),n=e(r),r.parentNode.removeChild(r),n>i.body.scrollTop&&(i.body.scrollTop=n))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView,e=t.getSelection();e.modify("extend","left","lineboundary"),e.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,n,i,o,r=this.doc.selection.createRange(),s=r.boundingTop,a=(r.boundingHeight,this.doc.body.scrollWidth);if(r.moveToPoint){for(0===s&&(n=this.doc.createElement("span"),this.insertNode(n),s=n.offsetTop,n.parentNode.removeChild(n)),s+=1,i=-10;a>i;i+=2)try{r.moveToPoint(i,s);break}catch(l){}for(t=s,e=this.doc.selection.createRange(),o=a;o>=0;o--)try{e.moveToPoint(o,t);break}catch(c){}r.setEndPoint("EndToEnd",e),r.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},getRange:function(){var t=this.getSelection();return t&&t.rangeCount&&t.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){var e=this.doc.defaultView||this.doc.parentWindow,n=rangy.getSelection(e);return n.setSingleRange(t)}})}(wysihtml5),function(t,e){function n(t,e,n){if(!t.className)return!1;var i=t.className.match(n)||[];return i[i.length-1]===e}function i(t,e,n){t.className?(o(t,n),t.className+=" "+e):t.className=e}function o(t,e){t.className&&(t.className=t.className.replace(e,""))}function r(t,e){return t.className.replace(f," ")==e.className.replace(f," ")}function s(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}function a(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,i,o,r=0,s=t.attributes.length;s>r;++r)if(n=t.attributes[r],o=n.name,"class"!=o){if(i=e.attributes.getNamedItem(o),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function l(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n==t.length?!!t.nextSibling:!0:n>0&&n<t.childNodes.length}function c(t,n,i){var o;if(e.dom.isCharacterDataNode(n)&&(0==i?(i=e.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=e.dom.getNodeIndex(n)+1,n=n.parentNode):o=e.dom.splitDataNode(n,i)),!o){o=n.cloneNode(!1),o.id&&o.removeAttribute("id");for(var r;r=n.childNodes[i];)o.appendChild(r);e.dom.insertAfter(o,n)}return n==t?o:c(t,o.parentNode,e.dom.getNodeIndex(o))}function u(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function h(t,e,n,i){this.tagNames=t||[d],this.cssClass=e||"",this.similarClassRegExp=n,this.normalize=i,this.applyToAnyTagName=!1}var d="span",f=/\s+/g;u.prototype={doMerge:function(){for(var t,e,n,i=[],o=0,r=this.textNodes.length;r>o;++o)t=this.textNodes[o],e=t.parentNode,i[o]=t.data,o&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;n>e;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},h.prototype={getAncestorWithClass:function(i){for(var o;i;){if(o=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):!0,i.nodeType==t.ELEMENT_NODE&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&o)return i;i=i.parentNode}return!1},postApply:function(t,e){for(var n,i,o,r=t[0],s=t[t.length-1],a=[],l=r,c=s,h=0,d=s.length,f=0,p=t.length;p>f;++f)i=t[f],o=this.getAdjacentMergeableTextNode(i.parentNode,!1),o?(n||(n=new u(o),a.push(n)),n.textNodes.push(i),i===r&&(l=n.firstTextNode,h=l.length),i===s&&(c=n.firstTextNode,d=n.getLength())):n=null;var m=this.getAdjacentMergeableTextNode(s.parentNode,!0);if(m&&(n||(n=new u(s),a.push(n)),n.textNodes.push(m)),a.length){for(f=0,p=a.length;p>f;++f)a[f].doMerge();e.setStart(l,h),e.setEnd(c,d)}},getAdjacentMergeableTextNode:function(e,n){var i,o=e.nodeType==t.TEXT_NODE,r=o?e.parentNode:e,s=n?"nextSibling":"previousSibling";if(o){if(i=e[s],i&&i.nodeType==t.TEXT_NODE)return i}else if(i=r[s],i&&this.areElementsMergeable(e,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&r(t,n)&&a(t,n)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),e},applyToTextNode:function(t){var n=t.parentNode;if(1==n.childNodes.length&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&i(n,this.cssClass,this.similarClassRegExp);else{var o=this.createContainer(e.dom.getDocument(t));t.parentNode.insertBefore(o,t),o.appendChild(t)}},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&t.lang.string(n.className).trim()==this.cssClass},undoToTextNode:function(t,e,n){if(!e.containsNode(n)){var i=e.cloneRange();i.selectNode(n),i.isPointInRange(e.endContainer,e.endOffset)&&l(e.endContainer,e.endOffset)&&(c(n,e.endContainer,e.endOffset),e.setEndAfter(n)),i.isPointInRange(e.startContainer,e.startOffset)&&l(e.startContainer,e.startOffset)&&(n=c(n,e.startContainer,e.startOffset))}this.similarClassRegExp&&o(n,this.similarClassRegExp),this.isRemovable(n)&&s(n)},applyToRange:function(e){var n=e.getNodes([t.TEXT_NODE]);if(!n.length)try{var i=this.createContainer(e.endContainer.ownerDocument);return e.surroundContents(i),this.selectNode(e,i),void 0}catch(o){}if(e.splitBoundaries(),n=e.getNodes([t.TEXT_NODE]),n.length){for(var r,s=0,a=n.length;a>s;++s)r=n[s],this.getAncestorWithClass(r)||this.applyToTextNode(r);e.setStart(n[0],0),r=n[n.length-1],e.setEnd(r,r.length),this.normalize&&this.postApply(n,e)}},undoToRange:function(e){var n,i,o=e.getNodes([t.TEXT_NODE]);if(o.length)e.splitBoundaries(),o=e.getNodes([t.TEXT_NODE]);else{var r=e.endContainer.ownerDocument,s=r.createTextNode(t.INVISIBLE_SPACE);e.insertNode(s),e.selectNode(s),o=[s]}for(var a=0,l=o.length;l>a;++a)n=o[a],i=this.getAncestorWithClass(n),i&&this.undoToTextNode(n,e,i);1==l?this.selectNode(e,o[0]):(e.setStart(o[0],0),n=o[o.length-1],e.setEnd(n,n.length),this.normalize&&this.postApply(o,e))},selectNode:function(e,n){var i=n.nodeType===t.ELEMENT_NODE,o="canHaveHTML"in n?n.canHaveHTML:!0,r=i?n.innerHTML:n.data,s=""===r||r===t.INVISIBLE_SPACE;if(s&&i&&o)try{n.innerHTML=t.INVISIBLE_SPACE}catch(a){}e.selectNodeContents(n),s&&i?e.collapse(!1):s&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=n.intersection(e),o=i?i.toString():"";return n.detach(),o},isAppliedToRange:function(e){var n,i=[],o=e.getNodes([t.TEXT_NODE]);if(!o.length)return n=this.getAncestorWithClass(e.startContainer),n?[n]:!1;for(var r,s=0,a=o.length;a>s;++s){if(r=this.getTextSelectedByRange(o[s],e),n=this.getAncestorWithClass(o[s]),""!=r&&!n)return!1;i.push(n)}return i},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)}},t.selection.HTMLApplier=h}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),o=n&&n.exec,r=null;if(this.editor.fire("beforecommand:composer"),o)i.unshift(this.composer),r=o.apply(n,i);else try{r=this.doc.execCommand(t,!1,e)}catch(s){}return this.editor.fire("aftercommand:composer"),r},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.state;if(i)return n.unshift(this.composer),i.apply(e,n);try{return this.doc.queryCommandState(t)}catch(o){return!1}},value:function(t){var e=wysihtml5.commands[t],n=e&&e.value;if(n)return n.call(e,this.composer,t);try{return this.doc.queryCommandValue(t)}catch(i){return null}}}),function(t){var e;t.commands.bold={exec:function(e,n){return t.commands.formatInline.exec(e,n,"b")},state:function(e,n){return t.commands.formatInline.state(e,n,"b")},value:function(){return e}}}(wysihtml5),function(t){function e(t,e){for(var n,i,o,s=e.length,a=0;s>a;a++)n=e[a],i=r.getParentElement(n,{nodeName:"code"}),o=r.getTextContent(n),o.match(r.autoLink.URL_REG_EXP)&&!i?i=r.renameElement(n,"code"):r.replaceWithChildNodes(n)}function n(e,n){var s,a,l,c,u,h,d,f,p,m=e.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(t.commands.formatInline.exec(e,i,o,g,v),a=m.querySelectorAll(o+"."+g),s=a.length;s>y;y++){l=a[y],l.removeAttribute("class");for(p in n)l.setAttribute(p,n[p])}h=l,1===s&&(d=r.getTextContent(l),c=!!l.querySelector("*"),u=""===d||d===t.INVISIBLE_SPACE,!c&&u&&(r.setTextContent(l,n.text||l.href),f=m.createTextNode(" "),e.selection.setAfter(l),e.selection.insertNode(f),h=f)),e.selection.setAfter(h)}var i,o="A",r=t.dom;t.commands.createLink={exec:function(t,i,o){var r=this.state(t,i);r?t.selection.executeAndRestore(function(){e(t,r)}):(o="object"==typeof o?o:{href:o},n(t,o))},state:function(e,n){return t.commands.formatInline.state(e,n,"A")},value:function(){return i}}}(wysihtml5),function(t){var e,n=/wysiwyg-font-size-[a-z\-]+/g;t.commands.fontSize={exec:function(e,i,o){return t.commands.formatInline.exec(e,i,"span","wysiwyg-font-size-"+o,n)},state:function(e,i,o){return t.commands.formatInline.state(e,i,"span","wysiwyg-font-size-"+o,n)},value:function(){return e}}}(wysihtml5),function(t){var e,n=/wysiwyg-color-[a-z]+/g;t.commands.foreColor={exec:function(e,i,o){return t.commands.formatInline.exec(e,i,"span","wysiwyg-color-"+o,n)},state:function(e,i,o){return t.commands.formatInline.state(e,i,"span","wysiwyg-color-"+o,n)},value:function(){return e}}}(wysihtml5),function(t){function e(t,e,i){t.className?(n(t,i),t.className+=" "+e):t.className=e}function n(t,e){t.className=t.className.replace(e,"")}function i(e){return e.nodeType===t.TEXT_NODE&&!t.lang.string(e.data).trim()}function o(t){for(var e=t.previousSibling;e&&i(e);)e=e.previousSibling;return e}function r(t){for(var e=t.nextSibling;e&&i(e);)e=e.nextSibling;return e}function s(t){var e=t.ownerDocument,n=r(t),i=o(t);n&&!u(n)&&t.parentNode.insertBefore(e.createElement("br"),n),i&&!u(i)&&t.parentNode.insertBefore(e.createElement("br"),t)}function a(t){var e=r(t),n=o(t);e&&c(e)&&e.parentNode.removeChild(e),n&&c(n)&&n.parentNode.removeChild(n)}function l(t){var e=t.lastChild;e&&c(e)&&e.parentNode.removeChild(e)}function c(t){return"BR"===t.nodeName}function u(t){return c(t)?!0:"block"===m.getStyle("display").from(t)?!0:!1}function h(e,n,i,o){if(o)var r=m.observe(e,"DOMNodeInserted",function(e){var n,i=e.target;i.nodeType===t.ELEMENT_NODE&&(n=m.getStyle("display").from(i),"inline"!==n.substr(0,6)&&(i.className+=" "+o))});e.execCommand(n,!1,i),r&&r.stop()}function d(t,e){t.selection.selectLine(),t.selection.surround(e),a(e),l(e),t.selection.selectNode(e)}function f(e){return!!t.lang.string(e.className).trim()}var p,m=t.dom,g="DIV",v=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",g];t.commands.formatBlock={exec:function(i,o,r,a,l){var c,u=i.doc,p=this.state(i,o,r,a,l);return r="string"==typeof r?r.toUpperCase():r,p?(i.selection.executeAndRestoreSimple(function(){l&&n(p,l);var t=f(p);t||p.nodeName!==(r||g)?t&&m.renameElement(p,g):(s(p),m.replaceWithChildNodes(p))}),void 0):(null===r||t.lang.array(v).contains(r))&&(c=i.selection.getSelectedNode(),p=m.getParentElement(c,{nodeName:v}))?(i.selection.executeAndRestoreSimple(function(){r&&(p=m.renameElement(p,r)),a&&e(p,a,l)}),void 0):i.commands.support(o)?(h(u,o,r||g,a),void 0):(p=u.createElement(r||g),a&&(p.className=a),d(i,p),void 0)},state:function(t,e,n,i,o){n="string"==typeof n?n.toUpperCase():n;var r=t.selection.getSelectedNode();return m.getParentElement(r,{nodeName:n,className:i,classRegExp:o})},value:function(){return p}}}(wysihtml5),function(t){function e(t){var e=o[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function n(n,i,o){var s=n+":"+i;return r[s]||(r[s]=new t.selection.HTMLApplier(e(n),i,o,!0)),r[s]}var i,o={strong:"b",em:"i",b:"strong",i:"em"},r={};t.commands.formatInline={exec:function(t,e,i,o,r){var s=t.selection.getRange();return s?(n(i,o,r).toggleRange(s),t.selection.setSelection(s),void 0):!1},state:function(e,i,r,s,a){var l,c=e.doc,u=o[r]||r;return t.dom.hasElementWithTagName(c,r)||t.dom.hasElementWithTagName(c,u)?s&&!t.dom.hasElementWithClassName(c,s)?!1:(l=e.selection.getRange(),l?n(r,s,a).isAppliedToRange(l):!1):!1},value:function(){return i}}}(wysihtml5),function(t){var e;t.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1},value:function(){return e}}}(wysihtml5),function(t){var e="IMG";t.commands.insertImage={exec:function(n,i,o){o="object"==typeof o?o:{src:o};var r,s,a,l=n.doc,c=this.state(n);if(c)return n.selection.setBefore(c),a=c.parentNode,a.removeChild(c),t.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(n.selection.setAfter(a),a.parentNode.removeChild(a)),t.quirks.redraw(n.element),void 0;c=l.createElement(e);for(s in o)c[s]=o[s];n.selection.insertNode(c),t.browser.hasProblemsSettingCaretAfterImg()?(r=l.createTextNode(t.INVISIBLE_SPACE),n.selection.insertNode(r),n.selection.setAfter(r)):n.selection.setAfter(c)},state:function(n){var i,o,r,s=n.doc;return t.dom.hasElementWithTagName(s,e)?(i=n.selection.getSelectedNode())?i.nodeName===e?i:i.nodeType!==t.ELEMENT_NODE?!1:(o=n.selection.getText(),(o=t.lang.string(o).trim())?!1:(r=n.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName}),1!==r.length?!1:r[0])):!1:!1},value:function(t){var e=this.state(t);return e&&e.src}}}(wysihtml5),function(t){var e,n="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(e,i){e.commands.support(i)?(e.doc.execCommand(i,!1,null),t.browser.autoScrollsToCaret()||e.selection.scrollIntoView()):e.commands.exec("insertHTML",n)},state:function(){return!1},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.insertOrderedList={exec:function(e,n){var i,o,r=e.doc,s=e.selection.getSelectedNode(),a=t.dom.getParentElement(s,{nodeName:"OL"}),l=t.dom.getParentElement(s,{nodeName:"UL"}),c="_wysihtml5-temp-"+(new Date).getTime();return e.commands.support(n)?(r.execCommand(n,!1,null),void 0):(a?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(a)}):l?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(l,"ol")}):(e.commands.exec("formatBlock","div",c),o=r.querySelector("."+c),i=""===o.innerHTML||o.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){a=t.dom.convertToList(o,"ol")}),i&&e.selection.selectNode(a.querySelector("li"))),void 0)},state:function(e){var n=e.selection.getSelectedNode();return t.dom.getParentElement(n,{nodeName:"OL"})},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.insertUnorderedList={exec:function(e,n){var i,o,r=e.doc,s=e.selection.getSelectedNode(),a=t.dom.getParentElement(s,{nodeName:"UL"}),l=t.dom.getParentElement(s,{nodeName:"OL"}),c="_wysihtml5-temp-"+(new Date).getTime();return e.commands.support(n)?(r.execCommand(n,!1,null),void 0):(a?e.selection.executeAndRestoreSimple(function(){t.dom.resolveList(a)}):l?e.selection.executeAndRestoreSimple(function(){t.dom.renameElement(l,"ul")
}):(e.commands.exec("formatBlock","div",c),o=r.querySelector("."+c),i=""===o.innerHTML||o.innerHTML===t.INVISIBLE_SPACE,e.selection.executeAndRestoreSimple(function(){a=t.dom.convertToList(o,"ul")}),i&&e.selection.selectNode(a.querySelector("li"))),void 0)},state:function(e){var n=e.selection.getSelectedNode();return t.dom.getParentElement(n,{nodeName:"UL"})},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.italic={exec:function(e,n){return t.commands.formatInline.exec(e,n,"i")},state:function(e,n){return t.commands.formatInline.state(e,n,"i")},value:function(){return e}}}(wysihtml5),function(t){var e,n="wysiwyg-text-align-center",i=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyCenter={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,n,i)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,n,i)},value:function(){return e}}}(wysihtml5),function(t){var e,n="wysiwyg-text-align-left",i=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyLeft={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,n,i)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,n,i)},value:function(){return e}}}(wysihtml5),function(t){var e,n="wysiwyg-text-align-right",i=/wysiwyg-text-align-[a-z]+/g;t.commands.justifyRight={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,n,i)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,n,i)},value:function(){return e}}}(wysihtml5),function(t){var e;t.commands.underline={exec:function(e,n){return t.commands.formatInline.exec(e,n,"u")},state:function(e,n){return t.commands.formatInline.state(e,n,"u")},value:function(){return e}}}(wysihtml5),function(t){function e(t){for(var e;e=t.querySelector("._wysihtml5-temp");)e.parentNode.removeChild(e)}var n=90,i=89,o=8,r=46,s=40,a='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",l='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+t.INVISIBLE_SPACE+"</span>",c=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var s,u=this,h=this.composer.sandbox.getDocument();if(c.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,o=e===n&&!t.shiftKey,r=e===n&&t.shiftKey||e===i;o?(u.undo(),t.preventDefault()):r&&(u.redo(),t.preventDefault())}}),c.observe(this.element,"keydown",function(t){var e=t.keyCode;e!==s&&(s=e,(e===o||e===r)&&u.transact())}),t.browser.hasUndoInContextMenu()){var d,f,p=function(){e(h),clearInterval(d)};c.observe(this.element,"contextmenu",function(){p(),u.composer.selection.executeAndRestoreSimple(function(){u.element.lastChild&&u.composer.selection.setAfter(u.element.lastChild),h.execCommand("insertHTML",!1,a),h.execCommand("insertHTML",!1,l),h.execCommand("undo",!1,null)}),d=setInterval(function(){h.getElementById("_wysihtml5-redo")?(p(),u.redo()):h.getElementById("_wysihtml5-undo")||(p(),u.undo())},400),f||(f=!0,c.observe(document,"mousedown",p),c.observe(h,["mousedown","paste","cut","copy"],p))})}this.editor.observe("newword:composer",function(){u.transact()}).observe("beforecommand:composer",function(){u.transact()})},transact:function(){var t=this.history[this.position-1],e=this.composer.getValue();if(e!=t){var n=this.history.length=this.position;n>s&&(this.history.shift(),this.position--),this.position++,this.history.push(e)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(t){this.composer.setValue(t),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.observe("beforeload",function(){t.parent.observe("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var n=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return e&&(n=this.parent.parse(n)),n=t.lang.string(n).replace(t.INVISIBLE_SPACE).by("")},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.innerHTML=t},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=e.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var t=this.element.innerHTML,e="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===t||t===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(e)},_initSandbox:function(){var t=this;this.sandbox=new e.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var n=document.createElement("input");n.type="hidden",n.name="_wysihtml5_mode",n.value=1;var i=this.textarea.element;e.insert(this.iframe).after(i),e.insert(n).after(i)},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new t.Selection(this.parent),this.commands=new t.Commands(this.parent),e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var o=this.config.name;o&&(e.addClass(this.element,o),e.addClass(this.iframe,o));var r="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");r&&e.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){i.focus()},100),t.quirks.insertLineBreakOnReturn(this),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),n.clearsListsInContentEditableCorrectly()||t.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,o=n.canDisableAutoLinking(),r=n.doesAutoLinkingInContentEditable();if(o&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!r||r&&o)&&this.parent.observe("newword:composer",function(){i.selection.executeAndRestore(function(t,n){e.autoLink(n.parentNode)})});var s=this.sandbox.getDocument().getElementsByTagName("a"),a=e.autoLink.URL_REG_EXP,l=function(n){var i=t.lang.string(e.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i};e.observe(this.element,"keydown",function(t){if(s.length){var n,o=i.selection.getSelectedNode(t.target.ownerDocument),r=e.getParentElement(o,{nodeName:"A"},4);r&&(n=l(r),setTimeout(function(){var t=l(r);t!==n&&t.match(a)&&r.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){var i=["width","height"],o=i.length,r=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?n.supportsEvent("resizeend")&&e.observe(r,"resizeend",function(e){for(var n,s=e.target||e.srcElement,a=s.style,l=0;o>l;l++)n=i[l],a[n]&&(s.setAttribute(n,parseInt(a[n],10)),a[n]="");t.quirks.redraw(r)}):n.supportsEvent("resizestart")&&e.observe(r,"resizestart",function(t){t.preventDefault()})},_initUndoManager:function(){new t.UndoManager(this.parent)}})}(wysihtml5),function(t){var e=t.dom,n=document,i=window,o=n.createElement("div"),r=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],s=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],a=["width","height","top","left","right","bottom"],l=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],c=function(t){if(t.setActive)try{t.setActive()}catch(o){}else{var r=t.style,s=n.documentElement.scrollTop||n.body.scrollTop,a=n.documentElement.scrollLeft||n.body.scrollLeft,l={position:r.position,top:r.top,left:r.left,WebkitUserSelect:r.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(l).on(t),i.scrollTo&&i.scrollTo(a,s)}};t.views.Composer.prototype.style=function(){var u=this,h=n.querySelector(":focus"),d=this.textarea.element,f=d.hasAttribute("placeholder"),p=f&&d.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||o.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||o.cloneNode(!1),f&&d.removeAttribute("placeholder"),d===h&&d.blur(),e.copyStyles(s).from(d).to(this.iframe).andTo(this.blurStylesHost),e.copyStyles(r).from(d).to(this.element).andTo(this.blurStylesHost),e.insertCSS(l).into(this.element.ownerDocument),c(d),e.copyStyles(s).from(d).to(this.focusStylesHost),e.copyStyles(r).from(d).to(this.focusStylesHost);var m=t.lang.array(s).without(["display"]);if(h?h.focus():d.blur(),f&&d.setAttribute("placeholder",p),!t.browser.hasCurrentStyleProperty())var g=e.observe(i,"resize",function(){if(!e.contains(document.documentElement,u.iframe))return g.stop(),void 0;var t=e.getStyle("display").from(d),n=e.getStyle("display").from(u.iframe);d.style.display="",u.iframe.style.display="none",e.copyStyles(a).from(d).to(u.iframe).andTo(u.focusStylesHost).andTo(u.blurStylesHost),u.iframe.style.display=n,d.style.display=t});return this.parent.observe("focus:composer",function(){e.copyStyles(m).from(u.focusStylesHost).to(u.iframe),e.copyStyles(r).from(u.focusStylesHost).to(u.element)}),this.parent.observe("blur:composer",function(){e.copyStyles(m).from(u.blurStylesHost).to(u.iframe),e.copyStyles(r).from(u.blurStylesHost).to(u.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,i={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var o=this,r=this.getValue(),s=this.sandbox.getIframe(),a=this.element,l=n.supportsEventsInIframeCorrectly()?a:this.sandbox.getWindow(),c=n.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];e.observe(s,"DOMNodeRemoved",function(){clearInterval(u),o.parent.fire("destroy:composer")});var u=setInterval(function(){e.contains(document.documentElement,s)||(clearInterval(u),o.parent.fire("destroy:composer"))},250);e.observe(l,"focus",function(){o.parent.fire("focus").fire("focus:composer"),setTimeout(function(){r=o.getValue()},0)}),e.observe(l,"blur",function(){r!==o.getValue()&&o.parent.fire("change").fire("change:composer"),o.parent.fire("blur").fire("blur:composer")}),t.browser.isIos()&&e.observe(a,"blur",function(){var t=a.ownerDocument.createElement("input"),e=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{o.selection.insertNode(t)}catch(i){a.appendChild(t)}t.focus(),t.parentNode.removeChild(t),window.scrollTo(n,e)}),e.observe(a,"dragenter",function(){o.parent.fire("unset_placeholder")}),n.firesOnDropOnlyWhenOnDragOverIsCancelled()&&e.observe(a,["dragover","dragenter"],function(t){t.preventDefault()}),e.observe(a,c,function(t){var e,i=t.dataTransfer;console.log("PASTED",t),i&&n.supportsDataTransfer()&&(e=i.getData("text/html")||i.getData("text/plain")),e?(a.focus(),o.commands.exec("insertHTML",e),o.parent.fire("paste").fire("paste:composer"),t.stopPropagation(),t.preventDefault()):setTimeout(function(){o.parent.fire("paste").fire("paste:composer")},0)}),e.observe(a,"keyup",function(e){var n=e.keyCode;(n===t.SPACE_KEY||n===t.ENTER_KEY)&&o.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){o.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(a,"mousedown",function(t){var e=t.target;"IMG"===e.nodeName&&(o.selection.selectNode(e),t.preventDefault())}),e.observe(a,"keydown",function(t){var e=t.keyCode,n=i[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&n&&(o.commands.exec(n),t.preventDefault())}),e.observe(a,"keydown",function(e){var n,i=o.selection.getSelectedNode(!0),r=e.keyCode;!i||"IMG"!==i.nodeName||r!==t.BACKSPACE_KEY&&r!==t.DELETE_KEY||(n=i.parentNode,n.removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){t.quirks.redraw(a)},0),e.preventDefault())});var h={IMG:"Image: ",A:"Link: "};e.observe(a,"mouseover",function(t){var e,n=t.target,i=n.nodeName;if("A"===i||"IMG"===i){var o=n.hasAttribute("title");o||(e=h[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",e))}})}}(wysihtml5),function(t){var e=400;t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue()).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue();e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var n,i=this,o=this.textarea.element.form,r=function(){n=setInterval(function(){i.fromComposerToTextarea()},e)},s=function(){clearInterval(n),n=null};r(),o&&(t.dom.observe(o,"submit",function(){i.sync(!0)}),t.dom.observe(o,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(t){"composer"!==t||n?"textarea"===t&&(i.fromComposerToTextarea(!0),s()):(i.fromTextareaToComposer(!0),r())}),this.editor.observe("destroy:composer",s)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value,i=!n;return t&&i||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.observe("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){var i=n[t.type]||t.type;e.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e=t.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",o="[data-wysihtml5-dialog-field]",r="data-wysihtml5-dialog-field";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var o=this,r=function(t){var e=o._serialize();e==o.elementToChange?o.fire("edit",e):o.fire("save",e),o.hide(),t.preventDefault(),t.stopPropagation()};e.observe(o.link,"click",function(){e.hasClass(o.link,n)&&setTimeout(function(){o.hide()},0)}),e.observe(this.container,"keydown",function(e){var n=e.keyCode;n===t.ENTER_KEY&&r(e),n===t.ESCAPE_KEY&&o.hide()}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){o.fire("cancel"),o.hide(),t.preventDefault(),t.stopPropagation()});for(var s=this.container.querySelectorAll(i),a=0,l=s.length,c=function(){clearInterval(o.interval)};l>a;a++)e.observe(s[a],"change",c);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll(o),n=e.length,i=0;n>i;i++)t[e[i].getAttribute(r)]=e[i].value;return t},_interpolate:function(t){for(var e,n,i,s=document.querySelector(":focus"),a=this.container.querySelectorAll(o),l=a.length,c=0;l>c;c++)e=a[c],e!==s&&(t&&"hidden"===e.type||(n=e.getAttribute(r),i=this.elementToChange?this.elementToChange[n]||"":e.defaultValue,e.value=i))},show:function(t){var o=this,r=this.container.querySelector(i);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){o._interpolate(!0)},500)),e.addClass(this.link,n),this.container.style.display="",this.fire("show"),r&&!t)try{r.focus()}catch(s){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},o={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},r={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(s,a){var l=document.createElement("input");if(!t.browser.supportsSpeechApiOn(l))return a.style.display="none",void 0;var c=document.createElement("div");t.lang.object(i).merge({width:a.offsetWidth+"px",height:a.offsetHeight+"px"}),e.insert(l).into(c),e.insert(c).into(a),e.setStyles(o).on(l),e.setAttributes(r).on(l),e.setStyles(i).on(c),e.setStyles(n).on(a);var u="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";e.observe(l,u,function(){s.execCommand("insertText",l.value),l.value=""}),e.observe(l,"click",function(t){e.hasClass(a,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}}(wysihtml5),function(t){var e="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",o="wysihtml5-action-active",r=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(e,n){this.editor=e,this.container="string"==typeof n?document.getElementById(n):n,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),o=i.length,r=0;o>r;r++)new t.toolbar.Speech(this,i[r])},_getLinks:function(e){for(var n,i,o,r,s,a=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=a.length,c=0,u=this[e+"Mapping"]={};l>c;c++)n=a[c],o=n.getAttribute("data-wysihtml5-"+e),r=n.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+o+"']"),s=this._getDialog(n,o),u[o+":"+r]={link:n,group:i,name:o,value:r,dialog:s,state:!1}},_getDialog:function(e,n){var i,o,r=this,s=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return s&&(i=new t.toolbar.Dialog(e,s),i.observe("show",function(){o=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:n,dialogContainer:s,commandLink:e})}),i.observe("save",function(t){o&&r.composer.selection.setBookmark(o),r._execCommand(n,t),r.editor.fire("save:dialog",{command:n,dialogContainer:s,commandLink:e})}),i.observe("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:n,dialogContainer:s,commandLink:e})})),i},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;switch(t){case"change_view":e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")}},_observe:function(){for(var t=this,e=this.editor,i=this.container,o=this.commandLinks.concat(this.actionLinks),s=o.length,a=0;s>a;a++)r.setAttributes({href:"javascript:;",unselectable:"on"}).on(o[a]);r.delegate(i,"[data-wysihtml5-command]","mousedown",function(t){t.preventDefault()}),r.delegate(i,"[data-wysihtml5-command]","click",function(e){var n=this,i=n.getAttribute("data-wysihtml5-command"),o=n.getAttribute("data-wysihtml5-command-value");t.execCommand(i,o),e.preventDefault()}),r.delegate(i,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),e.observe("focus:composer",function(){t.bookmark=null,clearInterval(t.interval),t.interval=setInterval(function(){t._updateLinkStates()},500)}),e.observe("blur:composer",function(){clearInterval(t.interval)}),e.observe("destroy:composer",function(){clearInterval(t.interval)}),e.observe("change_view",function(e){setTimeout(function(){t.commandsDisabled="composer"!==e,t._updateLinkStates(),t.commandsDisabled?r.addClass(i,n):r.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,s,a,l,c=(this.composer.element,this.commandMapping),u=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(s=!1,r.removeClass(l.link,i),l.group&&r.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(s=this.composer.commands.state(l.name,l.value),t.lang.object(s).isArray()&&(s=1===s.length?s[0]:!0),r.removeClass(l.link,e),l.group&&r.removeClass(l.group,e)),l.state!==s&&(l.state=s,s?(r.addClass(l.link,i),l.group&&r.addClass(l.group,i),l.dialog&&("object"==typeof s?l.dialog.show(s):l.dialog.hide())):(r.removeClass(l.link,i),l.group&&r.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in u)a=u[n],"change_view"===a.name&&(a.state=this.editor.currentView===this.editor.textarea,a.state?r.addClass(a.link,o):r.removeClass(a.link,o))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){var e,n={name:e,style:!0,toolbar:e,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:e,allowObjectResizing:!0,supportTouchDevices:!0};t.Editor=t.lang.Dispatcher.extend({constructor:function(e,i){if(this.textareaElement="string"==typeof e?document.getElementById(e):e,this.config=t.lang.object({}).merge(n).merge(i).get(),this.textarea=new t.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=t.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var o=this;return setTimeout(function(){o.fire("beforeload").fire("load")},0),void 0}t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(r){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t){return this.currentView.getValue(t)},setValue:function(t,e){return t?(this.currentView.setValue(t,e),this):this.clear()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e){var n=this.config.parser(e,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof e&&t.quirks.redraw(e),n},_initParser:function(){this.observe("paste:composer",function(){var e=!0,n=this;n.composer.selection.executeAndRestore(function(){t.quirks.cleanPastedHTML(n.composer.element),n.parse(n.composer.element)},e)}),this.observe("paste:textarea",function(){var t,e=this.textarea.getValue();t=this.parse(e),this.textarea.setValue(t)})}})}(wysihtml5),!function(t,e){"use strict";var n={"font-styles":function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li class='dropdown'><a class='btn btn-default btn"+n+" dropdown-toggle' data-toggle='dropdown' href='#'>"+"<i class='glyphicon glyphicon-font'></i>&nbsp;<span class='current-font'>"+t.font_styles.normal+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+t.font_styles.normal+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>"+t.font_styles.h1+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>"+t.font_styles.h2+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>"+t.font_styles.h3+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>"+t.font_styles.h4+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>"+t.font_styles.h5+"</a></li>"+"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>"+t.font_styles.h6+"</a></li>"+"</ul>"+"</li>"},emphasis:function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default btn"+n+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+t.emphasis.bold+"</a>"+"<a class='btn btn-default btn"+n+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+t.emphasis.italic+"</a>"+"<a class='btn btn-default btn"+n+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+t.emphasis.underline+"</a>"+"</div>"+"</li>"},lists:function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default btn"+n+"' data-wysihtml5-command='insertUnorderedList' title='"+t.lists.unordered+"' tabindex='-1'><i class='glyphicon glyphicon-list'></i></a>"+"<a class='btn btn-default btn"+n+"' data-wysihtml5-command='insertOrderedList' title='"+t.lists.ordered+"' tabindex='-1'><i class='glyphicon glyphicon-th-list'></i></a>"+"<a class='btn btn-default btn"+n+"' data-wysihtml5-command='Outdent' title='"+t.lists.outdent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-right'></i></a>"+"<a class='btn btn-default btn"+n+"' data-wysihtml5-command='Indent' title='"+t.lists.indent+"' tabindex='-1'><i class='glyphicon glyphicon-indent-left'></i></a>"+"</div>"+"</li>"},link:function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3 class='modal-title'>"+t.link.insert+"</h3>"+"</div>"+"<div class='modal-body'>"+"<input value='http://' class='bootstrap-wysihtml5-insert-link-url form-control'>"+"<label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>"+t.link.target+"</label>"+"</div>"+"<div class='modal-footer'>"+"<a href='#' class='btn btn-default' data-dismiss='modal'>"+t.link.cancel+"</a>"+"<a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.link.insert+"</a>"+"</div>"+"</div>"+"</div>"+"</div>"+"<a class='btn btn-default"+n+"' data-wysihtml5-command='createLink' title='"+t.link.insert+"' tabindex='-1'><i class='glyphicon glyphicon-share'></i></a>"+"</li>"},image:function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal fade'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3 class='modal-title'>"+t.image.insert+"</h3>"+"</div>"+"<div class='modal-body'>"+"<input value='http://' class='bootstrap-wysihtml5-insert-image-url form-control'>"+"</div>"+"<div class='modal-footer'>"+"<a href='#' class='btn btn-default' data-dismiss='modal'>"+t.image.cancel+"</a>"+"<a href='#' class='btn btn-primary' data-dismiss='modal'>"+t.image.insert+"</a>"+"</div>"+"</div>"+"</div>"+"</div>"+"<a class='btn btn-default btn"+n+"' data-wysihtml5-command='insertImage' title='"+t.image.insert+"' tabindex='-1'><i class='glyphicon glyphicon-picture'></i></a>"+"</li>"},html:function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li><div class='btn-group'><a class='btn btn-default btn"+n+"' data-wysihtml5-action='change_view' title='"+t.html.edit+"' tabindex='-1'><i class='glyphicon glyphicon-pencil'></i></a>"+"</div>"+"</li>"},color:function(t,e){var n=e&&e.size?" btn-"+e.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+n+"' data-toggle='dropdown' href='#' tabindex='-1'>"+"<span class='current-color'>"+t.colours.black+"</span>&nbsp;<b class='caret'></b>"+"</a>"+"<ul class='dropdown-menu'>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+t.colours.black+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+t.colours.silver+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+t.colours.gray+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+t.colours.maroon+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+t.colours.red+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+t.colours.purple+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+t.colours.green+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+t.colours.olive+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+t.colours.navy+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+t.colours.blue+"</a></li>"+"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+t.colours.orange+"</a></li>"+"</ul>"+"</li>"
}},i=function(t,e,i){return n[t](e,i)},o=function(e,i){this.el=e;var o=i||s;for(var r in o.customTemplates)n[r]=o.customTemplates[r];this.toolbar=this.createToolbar(e,o),this.editor=this.createEditor(i),window.editor=this.editor,t("iframe.wysihtml5-sandbox").each(function(e,n){t(n.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){t("li.dropdown").removeClass("open")}})})};o.prototype={constructor:o,createEditor:function(n){n=n||{},n=t.extend(!0,{},n),n.toolbar=this.toolbar[0];var i=new e.Editor(this.el[0],n);if(n&&n.events)for(var o in n.events)i.on(o,n.events[o]);return i},createToolbar:function(e,n){var o=this,r=t("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=n.locale||s.locale||"en";for(var c in s){var u=!1;void 0!==n[c]?n[c]===!0&&(u=!0):u=s[c],u===!0&&(r.append(i(c,a[l],n)),"html"===c&&this.initHtml(r),"link"===c&&this.initInsertLink(r),"image"===c&&this.initInsertImage(r))}if(n.toolbar)for(c in n.toolbar)r.append(n.toolbar[c]);return r.find("a[data-wysihtml5-command='formatBlock']").click(function(e){var n=e.target||e.srcElement,i=t(n);o.toolbar.find(".current-font").text(i.html())}),r.find("a[data-wysihtml5-command='foreColor']").click(function(e){var n=e.target||e.srcElement,i=t(n);o.toolbar.find(".current-color").text(i.html())}),this.el.before(r),r},initHtml:function(t){var e="a[data-wysihtml5-action='change_view']";t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},initInsertImage:function(e){var n,i=this,o=e.find(".bootstrap-wysihtml5-insert-image-modal"),r=o.find(".bootstrap-wysihtml5-insert-image-url"),s=o.find("a.btn-primary"),a=r.val(),l=function(){var t=r.val();r.val(a),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null),i.editor.composer.commands.exec("insertImage",t)};r.keypress(function(t){13==t.which&&(l(),o.modal("hide"))}),s.click(l),o.on("shown",function(){r.focus()}),o.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=insertImage]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),o.appendTo("body").modal("show"),o.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})},initInsertLink:function(e){var n,i=this,o=e.find(".bootstrap-wysihtml5-insert-link-modal"),r=o.find(".bootstrap-wysihtml5-insert-link-url"),s=o.find(".bootstrap-wysihtml5-insert-link-target"),a=o.find("a.btn-primary"),l=r.val(),c=function(){var t=r.val();r.val(l),i.editor.currentView.element.focus(),n&&(i.editor.composer.selection.setBookmark(n),n=null);var e=s.prop("checked");i.editor.composer.commands.exec("createLink",{href:t,target:e?"_blank":"_self",rel:e?"nofollow":""})};r.keypress(function(t){13==t.which&&(c(),o.modal("hide"))}),a.click(c),o.on("shown",function(){r.focus()}),o.on("hide",function(){i.editor.currentView.element.focus()}),e.find("a[data-wysihtml5-command=createLink]").click(function(){var e=t(this).hasClass("wysihtml5-command-active");return e?!0:(i.editor.currentView.element.focus(!1),n=i.editor.composer.selection.getBookmark(),o.appendTo("body").modal("show"),o.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()}),!1)})}};var r={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new o(n,e))})},shallowExtend:function(e){var n=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data()),i=this;return r.bypassDefaults.apply(i,[n])},deepExtend:function(e){var n=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{}),i=this;return r.bypassDefaults.apply(i,[n])},init:function(t){var e=this;return r.shallowExtend.apply(e,[t])}};t.fn.wysihtml5=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.wysihtml5"),void 0):r.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=o;var s=t.fn.wysihtml5.defaultOptions={"font-styles":!0,color:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url",target:"alt",rel:"alt"}},span:1,div:1,code:1,pre:1}},stylesheets:["http://clickandbuy.s3.amazonaws.com/assets/bootstrap-wysihtml5/wysiwyg-color-b3b83eda5336fa8e776bf58e3e125bce.css"],locale:"en"};"undefined"==typeof t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions));var a=t.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5),function(t,e){if(!("ontouchstart"in document)){var n=t();t.fn.dropdownHover=function(i){return n=n.add(this.parent()),this.each(function(){var o,r=t(this),s=r.parent(),a={delay:500,instantlyCloseOthers:!0},l={delay:t(this).data("delay"),instantlyCloseOthers:t(this).data("close-others")},c=t.extend(!0,{},a,i,l);s.hover(function(i){return s.hasClass("open")||r.is(i.target)?(c.instantlyCloseOthers===!0&&n.removeClass("open"),e.clearTimeout(o),s.addClass("open"),s.trigger(t.Event("show.bs.dropdown")),void 0):!0},function(){o=e.setTimeout(function(){s.removeClass("open"),s.trigger("hide.bs.dropdown")},c.delay)}),r.hover(function(){c.instantlyCloseOthers===!0&&n.removeClass("open"),e.clearTimeout(o),s.addClass("open"),s.trigger(t.Event("show.bs.dropdown"))}),s.find(".dropdown-submenu").each(function(){var n,i=t(this);i.hover(function(){e.clearTimeout(n),i.children(".dropdown-menu").show(),i.siblings().children(".dropdown-menu").hide()},function(){var t=i.children(".dropdown-menu");n=e.setTimeout(function(){t.hide()},c.delay)})})})},t(document).ready(function(){t('[data-hover="dropdown"]').dropdownHover()})}}(jQuery,this),function(){}.call(this),function(){}.call(this),jQuery.cookie=function(t,e,n){if(arguments.length>1&&"[object Object]"!==String(e)){if(n=jQuery.extend({},n),(null===e||void 0===e)&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,o=n.expires=new Date;o.setDate(o.getDate()+i)}return e=String(e),document.cookie=[encodeURIComponent(t),"=",n.raw?e:encodeURIComponent(e),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=e||{};var r,s=n.raw?function(t){return t}:decodeURIComponent;return(r=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?s(r[1]):null},jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(-Math.pow(2,-10*e/o)+1)+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*2*Math.PI/s))+n},easeOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*o-r)*2*Math.PI/s)+i+n},easeInOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(s||(s=o*.3*1.5),a<Math.abs(i)){a=i;var r=s/4}else var r=s/(2*Math.PI)*Math.asin(i/a);return 1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*2*Math.PI/s)+n:.5*a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-r)*2*Math.PI/s)+i+n},easeInBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*(e/=o)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),i*((e=e/o-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,i,o,r){return void 0==r&&(r=1.70158),(e/=o/2)<1?i/2*e*e*(((r*=1.525)+1)*e-r)+n:i/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*7.5625*e*e+n:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return o/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),function(t,e){"object"==typeof exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){var e=function(t,e){var n,i=document.createElement("canvas");t.appendChild(i),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var o=i.getContext("2d");i.width=i.height=e.size;var r=1;window.devicePixelRatio>1&&(r=window.devicePixelRatio,i.style.width=i.style.height=[e.size,"px"].join(""),i.width=i.height=e.size*r,o.scale(r,r)),o.translate(e.size/2,e.size/2),o.rotate((-0.5+e.rotate/180)*Math.PI);var s=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(s-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var a=function(t,e,n){n=Math.min(Math.max(-1,n||0),1);var i=0>=n?!0:!1;o.beginPath(),o.arc(0,0,s,0,2*Math.PI*n,i),o.strokeStyle=t,o.lineWidth=e,o.stroke()},l=function(){var t,n;o.lineWidth=1,o.fillStyle=e.scaleColor,o.save();for(var i=24;i>0;--i)0===i%6?(n=e.scaleLength,t=0):(n=.6*e.scaleLength,t=e.scaleLength-n),o.fillRect(-e.size/2+t,0,n,1),o.rotate(Math.PI/12);o.restore()},c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),u=function(){e.scaleColor&&l(),e.trackColor&&a(e.trackColor,e.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return o},this.clear=function(){o.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){e.scaleColor||e.trackColor?o.getImageData&&o.putImageData?n?o.putImageData(n,0,0):(u(),n=o.getImageData(0,0,e.size*r,e.size*r)):(this.clear(),u()):this.clear(),o.lineCap=e.lineCap;var i;i="function"==typeof e.barColor?e.barColor(t):e.barColor,a(i,e.lineWidth,t/100)}.bind(this),this.animate=function(t,n){var i=Date.now();e.onStart(t,n);var o=function(){var r=Math.min(Date.now()-i,e.animate.duration),s=e.easing(this,r,t,n-t,e.animate.duration);this.draw(s),e.onStep(t,n,s),r>=e.animate.duration?e.onStop(t,n):c(o)}.bind(this);c(o)}.bind(this)},n=function(t,n){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,n,i,o){return e/=o/2,1>e?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof e)i.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var o={},r=0,s=function(){this.el=t,this.options=o;for(var e in i)i.hasOwnProperty(e)&&(o[e]=n&&"undefined"!=typeof n[e]?n[e]:i[e],"function"==typeof o[e]&&(o[e]=o[e].bind(this)));o.easing="string"==typeof o.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[o.easing])?jQuery.easing[o.easing]:i.easing,"number"==typeof o.animate&&(o.animate={duration:o.animate,enabled:!0}),"boolean"!=typeof o.animate||o.animate||(o.animate={duration:1e3,enabled:o.animate}),this.renderer=new o.renderer(t,o),this.renderer.draw(r),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),o.animate.enabled?this.renderer.animate(r,t):this.renderer.draw(t),r=t,this}.bind(this),this.disableAnimation=function(){return o.animate.enabled=!1,this},this.enableAnimation=function(){return o.animate.enabled=!0,this},s()};t.fn.easyPieChart=function(e){return this.each(function(){var i;t.data(this,"easyPieChart")||(i=t.extend({},e,t(this).data()),t.data(this,"easyPieChart",new n(this,i)))})}}),function(t,e,n,i){var o=n("html"),r=n(t),s=n(e),a=n.fancybox=function(){a.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,u=e.createTouch!==i,h=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(t){return t&&"string"===n.type(t)},f=function(t){return d(t)&&0<t.indexOf("%")},p=function(t,e){var n=parseInt(t,10)||0;return e&&f(t)&&(n*=a.getViewport()[e]/100),Math.ceil(n)},m=function(t,e){return p(t,e)+"px"};n.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(n.isPlainObject(e)||(e={}),!1!==a.close(!0))?(n.isArray(t)||(t=h(t)?n(t).get():[t]),n.each(t,function(o,r){var s,l,c,u,f,p={};"object"===n.type(r)&&(r.nodeType&&(r=n(r)),h(r)?(p={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},n.metadata&&n.extend(!0,p,r.metadata())):p=r),s=e.href||p.href||(d(r)?r:null),l=e.title!==i?e.title:p.title||"",u=(c=e.content||p.content)?"html":e.type||p.type,!u&&p.isDom&&(u=r.data("fancybox-type"),u||(u=(u=r.prop("class").match(/fancybox\.(\w+)/))?u[1]:null)),d(s)&&(u||(a.isImage(s)?u="image":a.isSWF(s)?u="swf":"#"===s.charAt(0)?u="inline":d(r)&&(u="html",c=r)),"ajax"===u&&(f=s.split(/\s+/,2),s=f.shift(),f=f.shift())),c||("inline"===u?s?c=n(d(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):p.isDom&&(c=r):"html"===u?c=s:!u&&!s&&p.isDom&&(u="inline",c=r)),n.extend(p,{href:s,type:u,content:c,title:l,selector:f}),t[o]=p}),a.opts=n.extend(!0,{},a.defaults,e),e.keys!==i&&(a.opts.keys=e.keys?n.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index)):void 0},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&!0!==t?(a.isOpen=a.isOpened=!1,a.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},i=function(){e(),s.unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};!0===t||!a.player.isActive&&!1!==t?a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),a.trigger("onPlayStart")):i()},next:function(t){var e=a.current;e&&(d(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(d(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var o=a.current;o&&(t=p(t),a.direction=e||o.direction[t>=o.index?"next":"prev"],a.router=n||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==i&&(a.cancel(),a._start(t)))},reposition:function(t,e){var i,o=a.current,r=o?o.wrap:null;r&&(i=a._getPosition(e),t&&"scroll"===t.type?(delete i.position,r.stop(!0,!0).animate(i,200)):(r.css(i),o.pos=n.extend({},o.dim,i)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(c),c=null),a.isOpen&&!c&&(c=setTimeout(function(){var i=a.current;i&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&i.autoResize)&&a._setDimension(),"scroll"===e&&i.canShrink||a.reposition(t),a.trigger("onUpdate"),c=null)},n&&!u?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===n.type(t)?t:!a.current.fitToView,u&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){s.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),s.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,n={x:r.scrollLeft(),y:r.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=u&&t.innerWidth?t.innerWidth:r.width(),n.h=u&&t.innerHeight?t.innerHeight:r.height()),n},unbindEvents:function(){a.wrap&&h(a.wrap)&&a.wrap.unbind(".fb"),s.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(r.bind("orientationchange.fb"+(u?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),(t=e.keys)&&s.bind("keydown.fb",function(o){var r=o.which||o.keyCode,s=o.target||o.srcElement;return 27===r&&a.coming?!1:(!(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||s&&(s.type||n(s).is("[contenteditable]"))||!n.each(t,function(t,s){return 1<e.group.length&&s[r]!==i?(a[t](s[r]),o.preventDefault(),!1):-1<n.inArray(r,s)?(a[t](),o.preventDefault(),!1):void 0})),void 0)}),n.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,i,o,r){for(var s=n(t.target||null),l=!1;s.length&&!l&&!s.is(".fancybox-skin")&&!s.is(".fancybox-wrap");)l=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=n(s).parent();0!==i&&!l&&1<a.group.length&&!e.canShrink&&(r>0||o>0?a.prev(r>0?"down":"left"):(0>r||0>o)&&a.next(0>r?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var i,o=e||a.coming||a.current;if(o){if(n.isFunction(o[t])&&(i=o[t].apply(o,Array.prototype.slice.call(arguments,1))),!1===i)return!1;o.helpers&&n.each(o.helpers,function(e,i){i&&a.helpers[e]&&n.isFunction(a.helpers[e][t])&&a.helpers[e][t](n.extend(!0,{},a.helpers[e].defaults,i),o)}),s.trigger(t)}},isImage:function(t){return d(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return d(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,o={};if(t=p(t),e=a.group[t]||null,!e)return!1;if(o=n.extend(!0,{},a.opts,e),e=o.margin,i=o.padding,"number"===n.type(e)&&(o.margin=[e,e,e,e]),"number"===n.type(i)&&(o.padding=[i,i,i,i]),o.modal&&n.extend(!0,o,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),o.autoSize&&(o.autoWidth=o.autoHeight=!0),"auto"===o.width&&(o.autoWidth=!0),"auto"===o.height&&(o.autoHeight=!0),o.group=a.group,o.index=t,a.coming=o,!1===a.trigger("beforeLoad"))a.coming=null;else{if(i=o.type,e=o.href,!i)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=t,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===i||"swf"===i)&&(o.autoHeight=o.autoWidth=!1,o.scrolling="visible"),"image"===i&&(o.aspectRatio=!0),"iframe"===i&&u&&(o.scrolling="scroll"),o.wrap=n(o.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+o.wrapCSS).appendTo(o.parent||"body"),n.extend(o,{skin:n(".fancybox-skin",o.wrap),outer:n(".fancybox-outer",o.wrap),inner:n(".fancybox-inner",o.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){o.skin.css("padding"+e,m(o.padding[t]))}),a.trigger("onReady"),"inline"===i||"html"===i){if(!o.content||!o.content.length)return a._error("content")}else if(!e)return a._error("href");"image"===i?a._loadImage():"ajax"===i?a._loadAjax():"iframe"===i?a._loadIframe():a._afterLoad()}},_error:function(t){n.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width/a.opts.pixelRatio,a.coming.height=this.height/a.opts.pixelRatio,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,!0!==t.complete&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){n(this).data("ready",1),u||n(this).bind("load.fb",a.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,n=a.group,i=a.current,o=n.length,r=i.preload?Math.min(i.preload,o-1):0;for(e=1;r>=e;e+=1)t=n[(i.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,i,o,r,s=a.coming,l=a.current;if(a.hideLoading(),s&&!1!==a.isActive)if(!1===a.trigger("afterLoad",s,l))s.wrap.stop(!0).trigger("onReset").remove(),a.coming=null;else{switch(l&&(a.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=s.content,e=s.type,i=s.scrolling,n.extend(a,{wrap:s.wrap,skin:s.skin,outer:s.outer,inner:s.inner,current:s,previous:l}),o=s.href,e){case"inline":case"ajax":case"html":s.selector?t=n("<div>").html(t).find(s.selector):h(t)&&(t.data("fancybox-placeholder")||t.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(t).hide()),t=t.show().detach(),s.wrap.bind("onReset",function(){n(this).find(t).length&&t.hide().replaceAll(t.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":t=s.tpl.image.replace("{href}",o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',r="",n.each(s.swf,function(e,n){t+='<param name="'+e+'" value="'+n+'"></param>',r+=" "+e+'="'+n+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}(!h(t)||!t.parent().is(s.inner))&&s.inner.append(t),a.trigger("beforeShow"),s.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?l.prevMethod&&a.transitions[l.prevMethod]():n(".fancybox-wrap").not(s.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?s.nextMethod:s.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,i,o,r,s,l,c,u,h=a.getViewport(),d=0,g=!1,v=!1,g=a.wrap,y=a.skin,b=a.inner,C=a.current,v=C.width,w=C.height,S=C.minWidth,x=C.minHeight,_=C.maxWidth,T=C.maxHeight,D=C.scrolling,E=C.scrollOutside?C.scrollbarWidth:0,N=C.margin,I=p(N[1]+N[3]),k=p(N[0]+N[2]);if(g.add(y).add(b).width("auto").height("auto").removeClass("fancybox-tmp"),N=p(y.outerWidth(!0)-y.width()),t=p(y.outerHeight(!0)-y.height()),e=I+N,i=k+t,o=f(v)?(h.w-e)*p(v)/100:v,r=f(w)?(h.h-i)*p(w)/100:w,"iframe"===C.type){if(u=C.content,C.autoHeight&&1===u.data("ready"))try{u[0].contentWindow.document.location&&(b.width(o).height(9999),s=u.contents().find("body"),E&&s.css("overflow-x","hidden"),r=s.outerHeight(!0))}catch(P){}}else(C.autoWidth||C.autoHeight)&&(b.addClass("fancybox-tmp"),C.autoWidth||b.width(o),C.autoHeight||b.height(r),C.autoWidth&&(o=b.width()),C.autoHeight&&(r=b.height()),b.removeClass("fancybox-tmp"));if(v=p(o),w=p(r),c=o/r,S=p(f(S)?p(S,"w")-e:S),_=p(f(_)?p(_,"w")-e:_),x=p(f(x)?p(x,"h")-i:x),T=p(f(T)?p(T,"h")-i:T),s=_,l=T,C.fitToView&&(_=Math.min(h.w-e,_),T=Math.min(h.h-i,T)),e=h.w-I,k=h.h-k,C.aspectRatio?(v>_&&(v=_,w=p(v/c)),w>T&&(w=T,v=p(w*c)),S>v&&(v=S,w=p(v/c)),x>w&&(w=x,v=p(w*c))):(v=Math.max(S,Math.min(v,_)),C.autoHeight&&"iframe"!==C.type&&(b.width(v),w=b.height()),w=Math.max(x,Math.min(w,T))),C.fitToView)if(b.width(v).height(w),g.width(v+N),h=g.width(),I=g.height(),C.aspectRatio)for(;(h>e||I>k)&&v>S&&w>x&&!(19<d++);)w=Math.max(x,Math.min(T,w-10)),v=p(w*c),S>v&&(v=S,w=p(v/c)),v>_&&(v=_,w=p(v/c)),b.width(v).height(w),g.width(v+N),h=g.width(),I=g.height();else v=Math.max(S,Math.min(v,v-(h-e))),w=Math.max(x,Math.min(w,w-(I-k)));E&&"auto"===D&&r>w&&e>v+N+E&&(v+=E),b.width(v).height(w),g.width(v+N),h=g.width(),I=g.height(),g=(h>e||I>k)&&v>S&&w>x,v=C.aspectRatio?s>v&&l>w&&o>v&&r>w:(s>v||l>w)&&(o>v||r>w),n.extend(C,{dim:{width:m(h),height:m(I)},origWidth:o,origHeight:r,canShrink:g,canExpand:v,wPadding:N,hPadding:t,wrapSpace:I-y.outerHeight(!0),skinSpace:y.height()-w}),!u&&C.autoHeight&&w>x&&T>w&&!v&&b.height("auto")},_getPosition:function(t){var e=a.current,n=a.getViewport(),i=e.margin,o=a.wrap.width()+i[1]+i[3],r=a.wrap.height()+i[0]+i[2],i={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&r<=n.h&&o<=n.w?i.position="fixed":e.locked||(i.top+=n.y,i.left+=n.x),i.top=m(Math.max(i.top,i.top+(n.h-r)*e.topRatio)),i.left=m(Math.max(i.left,i.left+(n.w-o)*e.leftRatio)),i},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&1<a.group.length)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){!n(e.target).is("a")&&!n(e.target).parent().is("a")&&(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),a.close()}),t.arrows&&1<a.group.length&&((t.loop||0<t.index)&&n(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&n(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,n=t.orig,i={},o=50,r=50,s=t.hPadding,l=t.wPadding,c=a.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),h(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),r=n.outerHeight())):(i.top=c.y+(c.h-r)*t.topRatio,i.left=c.x+(c.w-o)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(i.top-=c.y,i.left-=c.x),i={top:m(i.top-s*t.topRatio),left:m(i.left-l*t.leftRatio),width:m(o+l),height:m(r+s)}},step:function(t,e){var n,i,o=e.prop;i=a.current;var r=i.wrapSpace,s=i.skinSpace;("width"===o||"height"===o)&&(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(n=1-n),i="width"===o?i.wPadding:i.hPadding,i=t-i,a.skin[o](p("width"===o?i:i-r*n)),a.inner[o](p("width"===o?i:i-r*n-s*n)))},zoomIn:function(){var t=a.current,e=t.pos,i=t.openEffect,o="elastic"===i,r=n.extend({opacity:1},e);delete r.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),a.wrap.css(e).animate(r,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),a.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,n=e.nextEffect,i=e.pos,o={opacity:1},r=a.direction;
i.opacity=.1,"elastic"===n&&(t="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(i[t]=m(p(i[t])-200),o[t]="+=200px"):(i[t]=m(p(i[t])+200),o[t]="-=200px")),"none"===n?a._afterZoomIn():a.wrap.css(i).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,i={opacity:.1},o=a.direction;"elastic"===e&&(i["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"=200px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(a.coming?a.coming.parent:t.parent),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){return n(t.target).hasClass("fancybox-overlay")?(a.isActive?a.close():e.close(),!1):void 0}),this.overlay.css(t.css).show()},close:function(){var t,e;r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),t=r.scrollTop(),e=r.scrollLeft(),this.el.removeClass("fancybox-lock"),r.scrollTop(t).scrollLeft(e)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),s.width()>t&&(n=s.width())):s.width()>r.width()&&(n=s.width()),this.overlay.width(n).height(s.height())},onReady:function(t,e){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(i||(this.margin=s.height()>r.height()?n("html").css("margin-right").replace("px",""):!1),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var i,o;e.locked&&(!1!==this.margin&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=r.scrollTop(),o=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(i).scrollLeft(o)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.coming&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=a.current,i=e.title,o=t.type;if(n.isFunction(i)&&(i=i.call(e.element,e)),d(i)&&""!==n.trim(i)){switch(e=n('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+i+"</div>"),o){case"inside":o=a.skin;break;case"outside":o=a.wrap;break;case"over":o=a.inner;break;default:o=a.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(p(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](o)}}},n.fn.fancybox=function(t){var e,i=n(this),o=this.selector||"",r=function(r){var s,l,c=n(this).blur(),u=e;!(r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||c.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",l=c.attr(s),l||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(c=o.length?n(o):i,c=c.filter("["+s+'="'+l+'"]'),u=c.index(this)),t.index=u,!1===a.open(c,t)||!r.preventDefault()))};return t=t||{},e=t.index||0,o&&!1!==t.live?s.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):i.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready(function(){var e,r;if(n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),n.support.fixedPosition===i){e=n.support,r=n('<div style="position:fixed;top:20px;"></div>').appendTo("body");var s=20===r[0].offsetTop||15===r[0].offsetTop;r.remove(),e.fixedPosition=s}n.extend(a.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),e=n(t).width(),o.addClass("fancybox-lock-test"),r=n(t).width(),o.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(r-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),$(window).load(function(){$(".slider").fractionSlider({fullWidth:!0,controls:!0,pager:!1,responsive:!0,dimensions:"1000,440",increase:!1,pauseOnHover:!0,slideTransitionSpeed:800,delay:0})}),function(t){var e=null,n={init:function(n){var o=t.extend({slideTransition:"none",slideTransitionSpeed:2e3,slideEndAnimation:!0,position:"0,0",transitionIn:"left",transitionOut:"left",fullWidth:!1,delay:0,timeout:2e3,speedIn:2500,speedOut:1e3,easeIn:"easeOutExpo",easeOut:"easeOutCubic",controls:!1,pager:!1,autoChange:!0,pauseOnHover:!1,backgroundAnimation:!1,backgroundElement:null,backgroundX:500,backgroundY:500,backgroundSpeed:2500,backgroundEase:"easeOutCubic",responsive:!1,increase:!1,dimensions:"",startCallback:null,startNextSlideCallback:null,stopCallback:null,pauseCallback:null,resumeCallback:null,nextSlideCallback:null,prevSlideCallback:null,pagerCallback:null},n);return this.each(function(){e=new i(this,o)})},pause:function(){e.pause(!0)},resume:function(){e.resume()},stop:function(){e.stop()},start:function(){e.start()},startNextSlide:function(){e.startNextSlide()}},i=function(e,n){function i(){if(n.controls&&(X.append('<a href="#" class="prev"></a><a href="#" class="next" ></a>'),X.find(".next").bind("click",function(){return m()}),X.find(".prev").bind("click",function(){return p()})),n.pauseOnHover&&X.bind({mouseenter:function(){a(!1)},mouseleave:function(){l()}}),n.fullWidth?X.css({overflow:"visible"}):X.css({overflow:"hidden"}),n.pager){var e="boolean"!=typeof n.pager;Y=e?n.pager:t('<div class="fs-pager-wrapper"></div>'),e?Y.addClass("fs-custom-pager-wrapper"):X.append(Y)}X.children(".slide").each(function(i){var o=t(this);if(o.children().attr("rel",i).addClass("fs_obj"),o.children("[data-fixed]").addClass("fs_fixed_obj"),n.pager||e){var r=t('<a rel="'+i+'" href="#"></a>').bind("click",function(){return f(this)});Y.append(r)}}),n.pager&&(Y=t(Y).children("a")),n.responsive&&R(),X.find(".fs_loader").length>0&&X.find(".fs_loader").remove(),o()}function o(){B.stop=!1,B.pause=!1,B.running=!0,g("slide"),d(n.startCallback)}function r(){B.stop=!1,B.pause=!1,B.running=!0,c(),d(n.startNextSlideCallback)}function s(){B.stop=!0,B.running=!1,X.find(".slide").stop(!0,!0),X.find(".fs_obj").stop(!0,!0).removeClass("fs-animation"),$(U),d(n.stopCallback)}function a(t){B.pause=!0,B.running=!1,t&&X.find(".fs-animation").finish(),d(n.pauseCallback)}function l(){B.stop=!1,B.pause=!1,B.running=!0,B.slideComplete?g("slide"):B.stepComplete?g("step"):B.finishedObjs<B.maxObjs||(B.currentStep<B.maxStep?g("step"):g("slide")),d(n.resumeCallback)}function c(){B.lastSlide=B.currentSlide,B.currentSlide+=1,B.stop=!1,B.pause=!1,B.running=!0,y(),d(n.nextSlideCallback)}function u(){B.lastSlide=B.currentSlide,B.currentSlide-=1,B.stop=!1,B.pause=!1,B.running=!0,y(),d(n.prevSlideCallback)}function h(t){B.lastSlide=B.currentSlide,B.currentSlide=t,B.stop=!1,B.pause=!1,B.running=!0,y(),d(n.pagerCallback)}function d(e){t.isFunction(e)&&e.call(this,X,B.currentSlide,B.lastSlide,B.currentStep)}function f(e){var n=parseInt(t(e).attr("rel"));return n!=B.currentSlide&&(s(),h(n)),!1}function p(){return s(),u(),!1}function m(){return s(),c(),!1}function g(t){if(!B.pause&&!B.stop&&B.running)switch(t){case"slide":B.slideComplete=!1,v();break;case"step":B.stepComplete=!1,_();break;case"obj":D()}}function v(){var t=n.timeout;B.init?(B.init=!1,y(!0)):U.push(setTimeout(function(){0==B.maxSlide&&1==B.running||(B.lastSlide=B.currentSlide,B.currentSlide+=1,y())},t))}function y(e){if(t(".active-slide").removeClass("active-slide"),B.currentSlide>B.maxSlide&&(B.currentSlide=0),B.currentSlide<0&&(B.currentSlide=B.maxSlide),z.currentSlide=X.children(".slide:eq("+B.currentSlide+")").addClass("active-slide"),0==z.currentSlide.length&&(B.currentSlide=0,z.currentSlide=X.children(".slide:eq("+B.currentSlide+")")),null!=B.lastSlide&&(B.lastSlide<0&&(B.lastSlide=B.maxSlide),z.lastSlide=X.children(".slide:eq("+B.lastSlide+")")),e?z.animation="none":(z.animation=z.currentSlide.attr("data-in"),null==z.animation&&(z.animation=n.slideTransition)),n.slideEndAnimation&&null!=B.lastSlide)N();else switch(z.animation){case"none":b(),w();break;case"scrollLeft":b(),w();break;case"scrollRight":b(),w();break;case"scrollTop":b(),w();break;case"scrollBottom":b(),w();break;default:b()}}function b(){n.backgroundAnimation&&L(),n.pager&&(Y.removeClass("active"),Y.eq(B.currentSlide).addClass("active")),x(),z.currentSlide.children().hide(),B.currentStep=0,B.currentObj=0,B.maxObjs=0,B.finishedObjs=0,z.currentSlide.children("[data-fixed]").show(),I()}function C(t){null!=z.lastSlide&&z.lastSlide.hide(),t.hasClass("active-slide")&&g("step")}function w(){null!=z.lastSlide&&"none"!=z.animation&&k()}function S(){}function x(){var e=z.currentSlide.children(),n=0;e.each(function(){var e=parseFloat(t(this).attr("data-step"));n=e>n?e:n}),B.maxStep=n}function _(){var t;t=0==B.currentStep?z.currentSlide.children('*:not([data-step]):not([data-fixed]), *[data-step="'+B.currentStep+'"]:not([data-fixed])'):z.currentSlide.children('*[data-step="'+B.currentStep+'"]:not([data-fixed])'),B.maxObjs=t.length,q=t,B.maxObjs>0?(B.currentObj=0,B.finishedObjs=0,g("obj")):T()}function T(){return B.stepComplete=!0,B.currentStep+=1,B.currentStep>B.maxStep?(n.autoChange&&(B.currentStep=0,B.slideComplete=!0,g("slide")),void 0):(g("step"),void 0)}function D(){var e=t(q[B.currentObj]);e.addClass("fs-animation");var i=e.attr("data-position"),o=e.attr("data-in"),r=e.attr("data-delay"),s=e.attr("data-time"),a=e.attr("data-ease-in"),l=e.attr("data-special");i=null==i?n.position.split(","):i.split(","),null==o&&(o=n.transitionIn),null==r&&(r=n.delay),null==a&&(a=n.easeIn),P(e,i,o,r,s,a,l),B.currentObj+=1,B.currentObj<B.maxObjs?g("obj"):B.currentObj=0}function E(t){t.removeClass("fs-animation"),t.attr("rel")==B.currentSlide&&(B.finishedObjs+=1,B.finishedObjs==B.maxObjs&&T())}function N(){var e=z.lastSlide.children(":not([data-fixed])");e.each(function(){var e=t(this),i=e.position(),o=e.attr("data-out"),r=e.attr("data-ease-out");null==o&&(o=n.transitionOut),null==r&&(r=n.easeOut),A(e,i,o,null,r)}).promise().done(function(){w(),b()})}function I(){var t=z.currentSlide,e={},i={},o=n.slideTransitionSpeed,r=z.animation;switch(unit=n.responsive?"%":"px",r){case"slideLeft":e.left=Q+unit,e.top="0"+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"slideTop":e.left="0"+unit,e.top=-Z+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"slideBottom":e.left="0"+unit,e.top=Z+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"slideRight":e.left=-Q+unit,e.top="0"+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"fade":e.left="0"+unit,e.top="0"+unit,e.display="block",e.opacity=0,i.opacity=1;break;case"none":e.left="0"+unit,e.top="0"+unit,e.display="block",o=0;break;case"scrollLeft":e.left=Q+unit,e.top="0"+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"scrollTop":e.left="0"+unit,e.top=-Z+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"scrollBottom":e.left="0"+unit,e.top=Z+unit,e.display="block",i.left="0"+unit,i.top="0"+unit;break;case"scrollRight":e.left=-Q+unit,e.top="0"+unit,e.display="block",i.left="0"+unit,i.top="0"+unit}t.css(e).animate(i,o,"linear",function(){C(t)})}function k(){var t={},e=n.slideTransitionSpeed,i=null,o=z.animation;switch(i=n.responsive?"%":"px",o){case"scrollLeft":t.left=-Q+i,t.top="0"+i;break;case"scrollTop":t.left="0"+i,t.top=Z+i;break;case"scrollBottom":t.left="0"+i,t.top=-Z+i;break;case"scrollRight":t.left=Q+i,t.top="0"+i;break;default:e=0}z.lastSlide.animate(t,e,"linear",function(){S()})}function P(e,i,o,r,s,a,l){var c={},u={},h=n.speedIn,d=null;switch(d=n.responsive?"%":"px",null!=s&&(h=s-r),c.opacity=1,o){case"left":c.top=i[0],c.left=Q;break;case"bottomLeft":c.top=Z,c.left=Q;break;case"topLeft":c.top=-1*e.outerHeight(),c.left=Q;break;case"top":c.top=-1*e.outerHeight(),c.left=i[1];break;case"bottom":c.top=Z,c.left=i[1];break;case"right":c.top=i[0],c.left=-J-e.outerWidth();break;case"bottomRight":c.top=Z,c.left=-J-e.outerWidth();break;case"topRight":c.top=-1*e.outerHeight(),c.left=-J-e.outerWidth();break;case"fade":c.top=i[0],c.left=i[1],c.opacity=0,u.opacity=1;break;case"none":c.top=i[0],c.left=i[1],c.display="none",h=0}u.top=i[0],u.left=i[1],u.left=u.left+d,u.top=u.top+d,c.left=c.left+d,c.top=c.top+d,U.push(setTimeout(function(){if("cycle"==l&&e.attr("rel")==B.currentSlide){var i=e.prev();if(i.length>0){var o=t(i).attr("data-position").split(",");o={top:o[0],left:o[1]};var r=t(i).attr("data-out");null==r&&(r=n.transitionOut),A(i,o,r,h)}}e.css(c).show().animate(u,h,a,function(){E(e)}).addClass("fs_obj_active")},r))}function A(t,e,i,o,r){var s={},a={},l=null;o=n.speedOut,l=n.responsive?"%":"px";var c=t.outerWidth(),u=t.outerHeight();switch(n.responsive&&(c=j(c,V),u=j(u,G)),i){case"left":a.left=-J-100-c;break;case"bottomLeft":a.top=Z,a.left=-J-100-c;break;case"topLeft":a.top=-u,a.left=-J-100-c;break;case"top":a.top=-u;break;case"bottom":a.top=Z;break;case"right":a.left=Q;break;case"bottomRight":a.top=Z,a.left=Q;break;case"topRight":a.top=-u,a.left=Q;break;case"fade":s.opacity=1,a.opacity=0;break;case"hide":a.display="none",o=0;break;default:a.display="none",o=0}"undefined"!=typeof a.top&&a.top.toString().indexOf("px")>0&&(a.top=a.top.substring(0,a.top.length-2),n.responsive&&(a.top=j(a.top,G))),"undefined"!=typeof a.left&&a.left.toString().indexOf("px")>0&&(a.left=a.left.substring(0,a.left.length-2),n.responsive&&(a.left=j(a.left,V))),a.left=a.left+l,a.top=a.top+l,t.css(s).animate(a,o,r,function(){t.hide()}).removeClass("fs_obj_active")}function L(){var e;e=null==n.backgroundElement||""==n.backgroundElement?X.parent():t(n.backgroundElement);var i=e.css("background-position");i=i.split(" ");var o=n.backgroundX,r=n.backgroundY,s=Number(i[0].replace(/[px,%]/g,""))+Number(o),a=Number(i[1].replace(/[px,%]/g,""))+Number(r);e.animate({backgroundPositionX:s+"px",backgroundPositionY:a+"px"},n.backgroundSpeed,n.backgroundEase)}function R(){var i=n.dimensions.split(","),o=W();V=i["0"],G=i["1"],n.increase||t(e).css({maxWidth:V+"px"});var r=X.children(".slide").find("*");r.each(function(){var e=t(this),n=null,i=null,r=null;if(null!=e.attr("data-position")){var s=e.attr("data-position").split(",");n=j(s[1],V),i=j(s[0],G),e.attr("data-position",i+","+n)}null!=e.attr("width")&&""!=e.attr("width")?(r=e.attr("width"),n=j(r,V),e.attr("width",n+"%"),e.css("width",n+"%")):"0px"!=e.css("width")?(r=e.css("width"),r.indexOf("px")>0&&(r=r.substring(0,r.length-2),n=j(r,V),e.css("width",n+"%"))):"img"==e.prop("tagName").toLowerCase()&&-1!=o?(r=O(e),n=j(r,V),e.css("width",n+"%").attr("width",n+"%")):"img"==e.prop("tagName").toLowerCase()&&(r=e.get(0).width,n=j(r,V),e.css("width",n+"%")),null!=e.attr("height")&&""!=e.attr("height")?(r=e.attr("height"),i=j(r,G),e.attr("height",i+"%"),e.css("height",i+"%")):"0px"!=e.css("height")?(r=e.css("height"),r.indexOf("px")>0&&(r=r.substring(0,r.length-2),i=j(r,G),e.css("height",i+"%"))):"img"==e.prop("tagName").toLowerCase()&&-1!=o?(r=M(e),i=j(r,G),e.css("height",i+"%").attr("height",i+"%")):"img"==e.prop("tagName").toLowerCase()&&(r=e.get(0).height,i=j(r,G),e.css("height",i+"%")),e.attr("data-fontsize",e.css("font-size"))}),X.css({width:"auto",height:"auto"}).append('<div class="fs-stretcher" style="width:'+V+"px; height:"+G+'px"></div>'),H(),t(window).bind("resize",function(){H()})}function O(t){var e=new Image;return e.src=t.attr("src"),e.width}function M(t){var e=new Image;return e.src=t.attr("src"),e.height}function H(){var e=X.innerWidth();if(X.innerHeight(),V>=e||n.increase){var i=V/G,o=e/i;X.find(".fs-stretcher").css({width:e+"px",height:o+"px"})}K=t("body").width();var r=X.width();J=j((K-r)/2,V),Q=100,n.fullWidth&&(Q=100+2*J),Z=100,(0==B.init||V>e)&&F()}function F(){var e=null,n=X.children(".slide").find("*");n.each(function(){obj=t(this);var n=obj.attr("data-fontsize");n.indexOf("px")>0&&(n=n.substring(0,n.length-2),e=j(n,G)*(X.find(".fs-stretcher").height()/100),obj.css("fontSize",e+"px"),obj.css("lineHeight","100%"))})}function j(t,e){return t/(e/100)}function $(e){var n=e.length;t.each(e,function(t){clearTimeout(this),t==n-1&&(e=[])})}function W(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=n.exec(e)&&(t=parseFloat(RegExp.$1))}return t}var B={init:!0,running:!1,pause:!1,stop:!1,slideComplete:!1,stepComplete:!1,controlsActive:!0,currentSlide:0,lastSlide:null,maxSlide:0,currentStep:0,maxStep:0,currentObj:0,maxObjs:0,finishedObjs:0},z={currentSlide:null,lastSlide:null,animationkey:"none"},U=[],q=null,V=null,G=null;t(e).wrapInner('<div class="fraction-slider" />');var X=t(e).find(".fraction-slider"),Y=null;B.maxSlide=X.children(".slide").length-1;var Q=X.width(),K=t("body").width(),J=0;n.fullWidth&&(J=(K-Q)/2,Q=K);var Z=X.height();i(),this.start=function(){o()},this.startNextSlide=function(){r()},this.stop=function(){s()},this.pause=function(){a(!1)},this.resume=function(){l()}};t.fn.fractionSlider=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.tooltip"),void 0):n.init.apply(this,arguments)};var o={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){o[e]=function(e){return Math.pow(e,t+2)}}),t.extend(o,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0==t||1==t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(o,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}(jQuery),$(function(){$("#Parks").mixitup({layoutMode:"list",listClass:"list",gridClass:"grid",effects:["fade","blur"],listEffects:["fade","rotateX"]}),$("#ToList").on("click",function(){$(".button").removeClass("active"),$(this).addClass("active"),$("#Parks").mixitup("toList")}),$("#ToGrid").on("click",function(){$(".button").removeClass("active"),$(this).addClass("active"),$("#Parks").mixitup("toGrid")});var t=$("#Filters").find("li"),e={region:"all",recreation:"all"};t.on("click",function(){var t=$(this),n=t.attr("data-dimension"),i=t.attr("data-filter"),o=e[n];if("all"==i)t.hasClass("active")?(t.removeClass("active"),o=""):(t.addClass("active").siblings().removeClass("active"),o="all");else if(t.siblings('[data-filter="all"]').removeClass("active"),o=o.replace("all",""),t.hasClass("active")){t.removeClass("active");var r=new RegExp("(\\s|^)"+i);o=o.replace(r,"")}else t.addClass("active"),o=""==o?i:o+" "+i;e[n]=o,console.info("dimension 1: "+e.region),console.info("dimension 2: "+e.recreation),$("#Parks").mixitup("filter",[e.region,e.recreation])})}),function(t){function e(e,i,s,a,l){function c(){g.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),i&&n(i,s,a,l),l.startOrder=[],l.newOrder=[],l.origSort=[],l.checkSort=[],m.removeStyle(l.prefix+"filter, filter, "+l.prefix+"transform, transform, opacity, display").css(l.clean).removeAttr("data-checksum"),window.atob||m.css({display:"none",opacity:"0"});var t=l.resizeContainer?"height":"";g.removeStyle(l.prefix+"transition, transition, "+l.prefix+"perspective, perspective, "+l.prefix+"perspective-origin, perspective-origin, "+t),"list"==l.layoutMode?(y.css({display:l.targetDisplayList,opacity:"1"}),l.origDisplay=l.targetDisplayList):(y.css({display:l.targetDisplayGrid,opacity:"1"}),l.origDisplay=l.targetDisplayGrid),l.origLayout=l.layoutMode,setTimeout(function(){if(m.removeStyle(l.prefix+"transition, transition"),l.mixing=!1,"function"==typeof l.onMixEnd){var t=l.onMixEnd.call(this,l);l=t?t:l}})}if(clearInterval(l.failsafe),l.mixing=!0,l.filter=e,"function"==typeof l.onMixStart){var u=l.onMixStart.call(this,l);l=u?u:l}for(var h=l.transitionSpeed,d=0;2>d;d++){var f=0==d?f=l.prefix:"";l.transition[f+"transition"]="all "+h+"ms linear",l.transition[f+"transform"]=f+"translate3d(0,0,0)",l.perspective[f+"perspective"]=l.perspectiveDistance+"px",l.perspective[f+"perspective-origin"]=l.perspectiveOrigin}var p=l.targetSelector,m=a.find(p);m.each(function(){this.data={}});var g=m.parent();g.css(l.perspective),l.easingFallback="ease-in-out","smooth"==l.easing&&(l.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==l.easing&&(l.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==l.easing&&(l.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",l.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==l.easing&&(l.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",l.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");var v="list"==l.layoutMode&&null!=l.listEffects?l.listEffects:l.effects;Array.prototype.indexOf&&(l.fade=v.indexOf("fade")>-1?"0":"",l.scale=v.indexOf("scale")>-1?"scale(.01)":"",l.rotateZ=v.indexOf("rotateZ")>-1?"rotate(180deg)":"",l.rotateY=v.indexOf("rotateY")>-1?"rotateY(90deg)":"",l.rotateX=v.indexOf("rotateX")>-1?"rotateX(90deg)":"",l.blur=v.indexOf("blur")>-1?"blur(8px)":"",l.grayscale=v.indexOf("grayscale")>-1?"grayscale(100%)":"");var y=t(),b=t(),C=[],w=!1;"string"==typeof e?C=r(e):(w=!0,t.each(e,function(t){C[t]=r(this)})),"or"==l.filterLogic?(""==C[0]&&C.shift(),C.length<1?b=b.add(a.find(p+":visible")):m.each(function(){var e=t(this);if(w){var n=0;t.each(C,function(){this.length?e.is("."+this.join(", ."))&&n++:n>0&&n++}),n==C.length?y=y.add(e):b=b.add(e)}else e.is("."+C.join(", ."))?y=y.add(e):b=b.add(e)})):(y=y.add(g.find(p+"."+C.join("."))),b=b.add(g.find(p+":not(."+C.join(".")+"):visible")));var S=y.length,x=t(),_=t(),T=t();if(b.each(function(){var e=t(this);"none"!=e.css("display")&&(x=x.add(e),T=T.add(e))}),y.filter(":visible").length==S&&!x.length&&!i){if(l.origLayout==l.layoutMode)return c(),!1;if(1==y.length)return"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass),T.css("display",l.targetDisplayList)):(a.addClass(l.gridClass),a.removeClass(l.listClass),T.css("display",l.targetDisplayGrid)),c(),!1}if(l.origHeight=g.height(),y.length){if(a.removeClass(l.failClass),y.each(function(){var e=t(this);"none"==e.css("display")?_=_.add(e):T=T.add(e)}),l.origLayout!=l.layoutMode&&0==l.animateGridList)return"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass),T.css("display",l.targetDisplayList)):(a.addClass(l.gridClass),a.removeClass(l.listClass),T.css("display",l.targetDisplayGrid)),c(),!1;if(!window.atob)return c(),!1;if(m.css(l.clean),T.each(function(){this.data.origPos=t(this).offset()}),"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass),_.css("display",l.targetDisplayList)):(a.addClass(l.gridClass),a.removeClass(l.listClass),_.css("display",l.targetDisplayGrid)),_.each(function(){this.data.showInterPos=t(this).offset()}),x.each(function(){this.data.hideInterPos=t(this).offset()}),T.each(function(){this.data.preInterPos=t(this).offset()}),"list"==l.layoutMode?T.css("display",l.targetDisplayList):T.css("display",l.targetDisplayGrid),i&&n(i,s,a,l),i&&o(l.origSort,l.checkSort))return c(),!1;x.hide(),_.each(function(){this.data.finalPos=t(this).offset()}),T.each(function(){this.data.finalPrePos=t(this).offset()}),l.newHeight=g.height(),i&&n("reset",null,a,l),_.hide(),T.css("display",l.origDisplay),"block"==l.origDisplay?(a.addClass(l.listClass),_.css("display",l.targetDisplayList)):(a.removeClass(l.listClass),_.css("display",l.targetDisplayGrid)),l.resizeContainer&&g.css("height",l.origHeight+"px");for(var D={},d=0;2>d;d++){var f=0==d?f=l.prefix:"";D[f+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,D[f+"filter"]=l.blur+" "+l.grayscale}_.css(D),T.each(function(){var e=this.data,n=t(this);n.hasClass("mix_tohide")?(e.preTX=e.origPos.left-e.hideInterPos.left,e.preTY=e.origPos.top-e.hideInterPos.top):(e.preTX=e.origPos.left-e.preInterPos.left,e.preTY=e.origPos.top-e.preInterPos.top);for(var i={},o=0;2>o;o++){var r=0==o?r=l.prefix:"";i[r+"transform"]="translate("+e.preTX+"px,"+e.preTY+"px)"}n.css(i)}),"list"==l.layoutMode?(a.addClass(l.listClass),a.removeClass(l.gridClass)):(a.addClass(l.gridClass),a.removeClass(l.listClass)),setTimeout(function(){if(l.resizeContainer){for(var e={},n=0;2>n;n++){var i=0==n?i=l.prefix:"";e[i+"transition"]="all "+h+"ms ease-in-out",e.height=l.newHeight+"px"}g.css(e)}x.css("opacity",l.fade),_.css("opacity",1),_.each(function(){var e=this.data;e.tX=e.finalPos.left-e.showInterPos.left,e.tY=e.finalPos.top-e.showInterPos.top;for(var n={},i=0;2>i;i++){var o=0==i?o=l.prefix:"";n[o+"transition-property"]=o+"transform, "+o+"filter, opacity",n[o+"transition-timing-function"]=l.easing+", linear, linear",n[o+"transition-duration"]=h+"ms",n[o+"transition-delay"]="0",n[o+"transform"]="translate("+e.tX+"px,"+e.tY+"px)",n[o+"filter"]="none"}t(this).css("-webkit-transition","all "+h+"ms "+l.easingFallback).css(n)}),T.each(function(){var e=this.data;e.tX=0!=e.finalPrePos.left?e.finalPrePos.left-e.preInterPos.left:0,e.tY=0!=e.finalPrePos.left?e.finalPrePos.top-e.preInterPos.top:0;for(var n={},i=0;2>i;i++){var o=0==i?o=l.prefix:"";n[o+"transition"]="all "+h+"ms "+l.easing,n[o+"transform"]="translate("+e.tX+"px,"+e.tY+"px)"}t(this).css("-webkit-transition","all "+h+"ms "+l.easingFallback).css(n)});for(var o={},n=0;2>n;n++){var i=0==n?i=l.prefix:"";o[i+"transition"]="all "+h+"ms "+l.easing+", "+i+"filter "+h+"ms linear, opacity "+h+"ms linear",o[i+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,o[i+"filter"]=l.blur+" "+l.grayscale,o.opacity=l.fade}x.css(o),g.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(e.originalEvent.propertyName.indexOf("transform")>-1||e.originalEvent.propertyName.indexOf("opacity")>-1)&&(p.indexOf(".")>-1?t(e.target).hasClass(p.replace(".",""))&&c():t(e.target).is(p)&&c())})},10),l.failsafe=setTimeout(function(){l.mixing&&c()},h+400)}else{if(l.resizeContainer&&g.css("height",l.origHeight+"px"),!window.atob)return c(),!1;x=b,setTimeout(function(){if(g.css(l.perspective),l.resizeContainer){for(var t={},e=0;2>e;e++){var n=0==e?n=l.prefix:"";t[n+"transition"]="height "+h+"ms ease-in-out",t.height=l.minHeight+"px"}g.css(t)}m.css(l.transition);var i=b.length;if(i){for(var o={},e=0;2>e;e++){var n=0==e?n=l.prefix:"";o[n+"transform"]=l.scale+" "+l.rotateX+" "+l.rotateY+" "+l.rotateZ,o[n+"filter"]=l.blur+" "+l.grayscale,o.opacity=l.fade}x.css(o),g.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(t){(t.originalEvent.propertyName.indexOf("transform")>-1||t.originalEvent.propertyName.indexOf("opacity")>-1)&&(a.addClass(l.failClass),c())})}else l.mixing=!1},10)}}function n(e,n,i,o){function r(t,n){var i=isNaN(1*t.attr(e))?t.attr(e).toLowerCase():1*t.attr(e),o=isNaN(1*n.attr(e))?n.attr(e).toLowerCase():1*n.attr(e);return o>i?-1:i>o?1:0}function s(t){"asc"==n?l.prepend(t).prepend(" "):l.append(t).append(" ")}function a(t){for(var e=t.slice(),n=e.length,i=n;i--;){var o=parseInt(Math.random()*n),r=e[i];e[i]=e[o],e[o]=r}return e}i.find(o.targetSelector).wrapAll('<div class="mix_sorter"/>');var l=i.find(".mix_sorter");if(o.origSort.length||l.find(o.targetSelector+":visible").each(function(){t(this).wrap("<s/>"),o.origSort.push(t(this).parent().html().replace(/\s+/g,"")),t(this).unwrap()}),l.empty(),"reset"==e)t.each(o.startOrder,function(){l.append(this).append(" ")});else if("default"==e)t.each(o.origOrder,function(){s(this)});else if("random"==e)o.newOrder.length||(o.newOrder=a(o.startOrder)),t.each(o.newOrder,function(){l.append(this).append(" ")});else if("custom"==e)t.each(n,function(){s(this)});else{if("undefined"==typeof o.origOrder[0].attr(e))return console.log("No such attribute found. Terminating"),!1;o.newOrder.length||(t.each(o.origOrder,function(){o.newOrder.push(t(this))}),o.newOrder.sort(r)),t.each(o.newOrder,function(){s(this)})}o.checkSort=[],l.find(o.targetSelector+":visible").each(function(e){var n=t(this);0==e&&n.attr("data-checksum","1"),n.wrap("<s/>"),o.checkSort.push(n.parent().html().replace(/\s+/g,"")),n.unwrap()}),i.find(o.targetSelector).unwrap()}function i(t){for(var e=["Webkit","Moz","O","ms"],n=0;n<e.length;n++)if(e[n]+"Transition"in t.style)return e[n];return"transition"in t.style?"":!1}function o(t,e){if(t.length!=e.length)return!1;for(var n=0;n<e.length;n++){if(t[n].compare&&!t[n].compare(e[n]))return!1;if(t[n]!==e[n])return!1}return!0}function r(e){e=e.replace(/\s{2,}/g," ");var n=e.split(" ");return t.each(n,function(t){"all"==this&&(n[t]="mix_all")}),""==n[0]&&n.shift(),n}var s={init:function(o){return this.each(function(){var r={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};o&&t.extend(r,o),this.config=r,t.support.touch="ontouchend"in document,t.support.touch&&(r.isTouch=!0,r.resetDelay=350),r.container=t(this);var s=r.container;if(r.prefix=i(s[0]),r.prefix=r.prefix?"-"+r.prefix.toLowerCase()+"-":"",s.find(r.targetSelector).each(function(){r.origOrder.push(t(this))}),r.sortOnLoad){var a,l;t.isArray(r.sortOnLoad)?(a=r.sortOnLoad[0],l=r.sortOnLoad[1],t(r.sortSelector+"[data-sort="+r.sortOnLoad[0]+"][data-order="+r.sortOnLoad[1]+"]").addClass("active")):(t(r.sortSelector+"[data-sort="+r.sortOnLoad+"]").addClass("active"),a=r.sortOnLoad,r.sortOnLoad="desc"),n(a,l,s,r)}for(var c=0;2>c;c++){var u=0==c?u=r.prefix:"";r.transition[u+"transition"]="all "+r.transitionSpeed+"ms ease-in-out",r.perspective[u+"perspective"]=r.perspectiveDistance+"px",r.perspective[u+"perspective-origin"]=r.perspectiveOrigin}for(var c=0;2>c;c++){var u=0==c?u=r.prefix:"";r.clean[u+"transition"]="none"}"list"==r.layoutMode?(s.addClass(r.listClass),r.origDisplay=r.targetDisplayList):(s.addClass(r.gridClass),r.origDisplay=r.targetDisplayGrid),r.origLayout=r.layoutMode;var h=r.showOnLoad.split(" ");t.each(h,function(){t(r.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),s.find(r.targetSelector).addClass("mix_all"),"all"==h[0]&&(h[0]="mix_all",r.showOnLoad="mix_all");var d=t();t.each(h,function(){d=d.add(t("."+this))}),d.each(function(){var e=t(this);"list"==r.layoutMode?e.css("display",r.targetDisplayList):e.css("display",r.targetDisplayGrid),e.css(r.transition)}),setTimeout(function(){r.mixing=!0,d.css("opacity","1"),setTimeout(function(){if("list"==r.layoutMode?d.removeStyle(r.prefix+"transition, transition").css({display:r.targetDisplayList,opacity:1}):d.removeStyle(r.prefix+"transition, transition").css({display:r.targetDisplayGrid,opacity:1}),r.mixing=!1,"function"==typeof r.onMixLoad){var t=r.onMixLoad.call(this,r);r=t?t:r}},r.transitionSpeed)},10),r.filter=r.showOnLoad,t(r.sortSelector).bind(r.buttonEvent,function(){if(!r.mixing){var n=t(this),i=n.attr("data-sort"),o=n.attr("data-order");if(n.hasClass("active")){if("random"!=i)return!1}else t(r.sortSelector).removeClass("active"),n.addClass("active");s.find(r.targetSelector).each(function(){r.startOrder.push(t(this))}),e(r.filter,i,o,s,r)}}),t(r.filterSelector).bind(r.buttonEvent,function(){if(!r.mixing){var n=t(this);if(0==r.multiFilter)t(r.filterSelector).removeClass("active"),n.addClass("active"),r.filter=n.attr("data-filter"),t(r.filterSelector+'[data-filter="'+r.filter+'"]').addClass("active");
else{var i=n.attr("data-filter");if(n.hasClass("active")){n.removeClass("active");var o=new RegExp("(\\s|^)"+i);r.filter=r.filter.replace(o,"")}else n.addClass("active"),r.filter=r.filter+" "+i}e(r.filter,null,null,s,r)}})})},toGrid:function(){return this.each(function(){var n=this.config;"grid"!=n.layoutMode&&(n.layoutMode="grid",e(n.filter,null,null,t(this),n))})},toList:function(){return this.each(function(){var n=this.config;"list"!=n.layoutMode&&(n.layoutMode="list",e(n.filter,null,null,t(this),n))})},filter:function(n){return this.each(function(){var i=this.config;i.mixing||(t(i.filterSelector).removeClass("active"),t(i.filterSelector+'[data-filter="'+n+'"]').addClass("active"),e(n,null,null,t(this),i))})},sort:function(n){return this.each(function(){var i=this.config,o=t(this);if(!i.mixing){if(t(i.sortSelector).removeClass("active"),t.isArray(n)){var r=n[0],s=n[1];t(i.sortSelector+'[data-sort="'+n[0]+'"][data-order="'+n[1]+'"]').addClass("active")}else{t(i.sortSelector+'[data-sort="'+n+'"]').addClass("active");var r=n,s="desc"}o.find(i.targetSelector).each(function(){i.startOrder.push(t(this))}),e(i.filter,r,s,o,i)}})},multimix:function(n){return this.each(function(){var i=this.config,o=t(this);multiOut={filter:i.filter,sort:null,order:"desc",layoutMode:i.layoutMode},t.extend(multiOut,n),i.mixing||(t(i.filterSelector).add(i.sortSelector).removeClass("active"),t(i.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!=typeof multiOut.sort&&(t(i.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),o.find(i.targetSelector).each(function(){i.startOrder.push(t(this))})),i.layoutMode=multiOut.layoutMode,e(multiOut.filter,multiOut.sort,multiOut.order,o,i))})},remix:function(n){return this.each(function(){var i=this.config,o=t(this);i.origOrder=[],o.find(i.targetSelector).each(function(){var e=t(this);e.addClass("mix_all"),i.origOrder.push(e)}),i.mixing||"undefined"==typeof n||(t(i.filterSelector).removeClass("active"),t(i.filterSelector+'[data-filter="'+n+'"]').addClass("active"),e(n,null,null,o,i))})}};t.fn.mixitup=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:s.init.apply(this,arguments)},t.fn.removeStyle=function(e){return this.each(function(){var n=t(this);e=e.replace(/\s+/g,"");var i=e.split(",");t.each(i,function(){var t=new RegExp(this.toString()+"[^;]+;?","g");n.attr("style",function(e,n){return n?n.replace(t,""):void 0})})})}}(jQuery),function(t){t.widget("mjs.nestedSortable",t.extend({},t.ui.sortable.prototype,{options:{tabSize:20,disableNesting:"mjs-nestedSortable-no-nesting",errorClass:"mjs-nestedSortable-error",doNotClear:!1,listType:"ol",maxLevels:0,protectRoot:!1,rootID:null,rtl:!1,isAllowed:function(){return!0}},_create:function(){if(this.element.data("sortable",this.element.data("nestedSortable")),!this.element.is(this.options.listType))throw new Error("nestedSortable: Please check the listType option is set to your actual list type");return t.ui.sortable.prototype._create.apply(this,arguments)},destroy:function(){return this.element.removeData("nestedSortable").unbind(".nestedSortable"),t.ui.sortable.prototype.destroy.apply(this,arguments)},_mouseDrag:function(e){this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);var n=this.options;if(this.options.scroll){var i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-t(document).scrollTop()<n.scrollSensitivity?i=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(i=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed)),e.pageX-t(document).scrollLeft()<n.scrollSensitivity?i=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(i=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed))),i!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute");var o=this.placeholder.offset().top;this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var s=this.items[r],a=s.item[0],l=this._intersectsWithPointer(s);if(l&&a!=this.currentItem[0]&&this.placeholder[1==l?"next":"prev"]()[0]!=a&&!t.contains(this.placeholder[0],a)&&("semi-dynamic"==this.options.type?!t.contains(this.element[0],a):!0)){if(t(a).mouseenter(),this.direction=1==l?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(s))break;t(a).mouseleave(),this._rearrange(e,s),this._clearEmpty(a),this._trigger("change",e,this._uiHash());break}}var c=this.placeholder[0].parentNode.parentNode&&t(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length?t(this.placeholder[0].parentNode.parentNode):null,u=this._getLevel(this.placeholder),h=this._getChildLevels(this.helper),d=this.placeholder[0].previousSibling?t(this.placeholder[0].previousSibling):null;if(null!=d)for(;"li"!=d[0].nodeName.toLowerCase()||d[0]==this.currentItem[0]||d[0]==this.helper[0];){if(!d[0].previousSibling){d=null;break}d=t(d[0].previousSibling)}var f=this.placeholder[0].nextSibling?t(this.placeholder[0].nextSibling):null;if(null!=f)for(;"li"!=f[0].nodeName.toLowerCase()||f[0]==this.currentItem[0]||f[0]==this.helper[0];){if(!f[0].nextSibling){f=null;break}f=t(f[0].nextSibling)}var p=document.createElement(n.listType);return this.beyondMaxLevels=0,null!=c&&null==f&&(n.rtl&&this.positionAbs.left+this.helper.outerWidth()>c.offset().left+c.outerWidth()||!n.rtl&&this.positionAbs.left<c.offset().left)?(c.after(this.placeholder[0]),this._clearEmpty(c[0]),this._trigger("change",e,this._uiHash())):null!=d&&(n.rtl&&this.positionAbs.left+this.helper.outerWidth()<d.offset().left+d.outerWidth()-n.tabSize||!n.rtl&&this.positionAbs.left>d.offset().left+n.tabSize)?(this._isAllowed(d,u,u+h+1),d.children(n.listType).length||d[0].appendChild(p),o&&o<=d.offset().top?d.children(n.listType).prepend(this.placeholder):d.children(n.listType)[0].appendChild(this.placeholder[0]),this._trigger("change",e,this._uiHash())):this._isAllowed(c,u,u+h),this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e){this.beyondMaxLevels&&(this.placeholder.removeClass(this.options.errorClass),this.domPosition.prev?t(this.domPosition.prev).after(this.placeholder):t(this.domPosition.parent).prepend(this.placeholder),this._trigger("revert",e,this._uiHash()));for(var n=this.items.length-1;n>=0;n--){var i=this.items[n].item[0];this._clearEmpty(i)}t.ui.sortable.prototype._mouseStop.apply(this,arguments)},serialize:function(e){var n=t.extend({},this.options,e),i=this._getItemsAsjQuery(n&&n.connected),o=[];return t(i).each(function(){var e=(t(n.item||this).attr(n.attribute||"id")||"").match(n.expression||/(.+)[-=_](.+)/),i=(t(n.item||this).parent(n.listType).parent(n.items).attr(n.attribute||"id")||"").match(n.expression||/(.+)[-=_](.+)/);e&&o.push((n.key||e[1])+"["+(n.key&&n.expression?e[1]:e[2])+"]"+"="+(i?n.key&&n.expression?i[1]:i[2]:n.rootID))}),!o.length&&n.key&&o.push(n.key+"="),o.join("&")},toHierarchy:function(e){function n(e){var o=(t(e).attr(i.attribute||"id")||"").match(i.expression||/(.+)[-=_](.+)/);if(o){var r={id:o[2]};return t(e).children(i.listType).children(i.items).length>0&&(r.children=[],t(e).children(i.listType).children(i.items).each(function(){var t=n(this);r.children.push(t)})),r}}var i=t.extend({},this.options,e),o=(i.startDepthCount||0,[]);return t(this.element).children(i.items).each(function(){var t=n(this);o.push(t)}),o},toArray:function(e){function n(e,s,a){var l,c,u=a+1;if(t(e).children(i.listType).children(i.items).length>0&&(s++,t(e).children(i.listType).children(i.items).each(function(){u=n(t(this),s,u)}),s--),l=t(e).attr(i.attribute||"id").match(i.expression||/(.+)[-=_](.+)/),s===o+1)c=i.rootID;else{var h=t(e).parent(i.listType).parent(i.items).attr(i.attribute||"id").match(i.expression||/(.+)[-=_](.+)/);c=h[2]}return l&&r.push({item_id:l[2],parent_id:c,depth:s,left:a,right:u}),a=u+1}var i=t.extend({},this.options,e),o=i.startDepthCount||0,r=[],s=2;return r.push({item_id:i.rootID,parent_id:"none",depth:o,left:"1",right:2*(t(i.items,this.element).length+1)}),t(this.element).children(i.items).each(function(){s=n(this,o+1,s)}),r=r.sort(function(t,e){return t.left-e.left})},_clearEmpty:function(e){var n=t(e).children(this.options.listType);!n.length||n.children().length||this.options.doNotClear||n.remove()},_getLevel:function(t){var e=1;if(this.options.listType)for(var n=t.closest(this.options.listType);n&&n.length>0&&!n.is(".ui-sortable");)e++,n=n.parent().closest(this.options.listType);return e},_getChildLevels:function(e,n){var i=this,o=this.options,r=0;return n=n||0,t(e).children(o.listType).children(o.items).each(function(t,e){r=Math.max(i._getChildLevels(e,n+1),r)}),n?r+1:r},_isAllowed:function(e,n,i){var o=this.options,r=t(this.domPosition.parent).hasClass("ui-sortable")?!0:!1,s=this.placeholder.closest(".ui-sortable").nestedSortable("option","maxLevels");!o.isAllowed(this.currentItem,e)||e&&e.hasClass(o.disableNesting)||o.protectRoot&&(null==e&&!r||r&&n>1)?(this.placeholder.addClass(o.errorClass),this.beyondMaxLevels=i>s&&0!=s?i-s:1):i>s&&0!=s?(this.placeholder.addClass(o.errorClass),this.beyondMaxLevels=i-s):(this.placeholder.removeClass(o.errorClass),this.beyondMaxLevels=0)}})),t.mjs.nestedSortable.prototype.options=t.extend({},t.ui.sortable.prototype.options,t.mjs.nestedSortable.prototype.options)}(jQuery),function(t){function e(e){var n=e||window.event,i=[].slice.call(arguments,1),o=0,r=0,s=0,e=t.event.fix(n);return e.type="mousewheel",n.wheelDelta&&(o=n.wheelDelta/120),n.detail&&(o=-n.detail/3),s=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(s=0,r=-1*o),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(r=-1*n.wheelDeltaX/120),i.unshift(e,o,r,s),(t.event.dispatch||t.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var i=n.length;i;)t.event.fixHooks[n[--i]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t){t.fn.UItoTop=function(e){var n={text:"To Top",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear"},i=t.extend(n,e),o="#"+i.containerID,r="#"+i.containerHoverID;t("body").append('<a href="#" id="'+i.containerID+'">'+i.text+"</a>"),t(o).hide().on("click.UItoTop",function(){return t("html, body").animate({scrollTop:0},i.scrollSpeed,i.easingType),t("#"+i.containerHoverID,this).stop().animate({opacity:0},i.inDelay,i.easingType),!1}).prepend('<span id="'+i.containerHoverID+'"></span>').hover(function(){t(r,this).stop().animate({opacity:1},600,"linear")},function(){t(r,this).stop().animate({opacity:0},700,"linear")}),t(window).scroll(function(){var e=t(window).scrollTop();"undefined"==typeof document.body.style.maxHeight&&t(o).css({position:"absolute",top:e+t(window).height()-50}),e>i.min?t(o).fadeIn(i.inDelay):t(o).fadeOut(i.Outdelay)})}}(jQuery),$(document).on("ready page:load",function(){$("body").addClass("wp-theme-3"),$(".carousel").carousel({interval:5e3,pause:"hover"}),$("#ulSorList").mixitup(),$(".theater").fancybox(),$(".ext-source").fancybox({transitionIn:"none",transitionOut:"none",autoScale:!1,type:"iframe",width:"50%",height:"60%",scrolling:"no"});var t=document.querySelector("#masonryWr");new Masonry(t,{itemSelector:".item"}),$().UItoTop({easingType:"easeOutQuart"}),$.fn.waypoint.defaults={context:window,continuous:!0,enabled:!0,horizontal:!1,offset:300,triggerOnce:!1},$(function(){$(".chart").easyPieChart({size:150,barColor:"#59b2e5",delay:3e3,trackColor:"rgba(255,255,255,0.2)",scaleColor:!1,lineWidth:16,lineCap:"butt"})}),$("#btnSignIn").click(function(){return $("#dropdownForm").hide(),$("#dropdownProfile").fadeIn(300),!1}),$("#cmdAsideMenu, #btnHideAsideMenu, .navbar-toggle-aside-menu").click(function(){return $("#asideMenu").is(":visible")?($("#asideMenu").hide(),$("body").removeClass("aside-menu-in")):($("body").addClass("aside-menu-in"),$("#asideMenu").show()),!1})}),function(t){"use strict";function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[o])&&"_"!==o.charAt(0)){var h=u[o].apply(u,s);if(void 0!==h)return h}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; "+"attempted to call '"+o+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){n(e),o(t,e)}}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],n):n(t.jQuery)}(window),function(t){var e=document.documentElement,n=function(){};e.addEventListener?n=function(t,e,n){t.addEventListener(e,n,!1)}:e.attachEvent&&(n=function(e,n,i){e[n+i]=i.handleEvent?function(){var e=t.event;e.target=e.target||e.srcElement,i.handleEvent.call(i,e)}:function(){var n=t.event;n.target=n.target||n.srcElement,i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var i=function(){};e.removeEventListener?i=function(t,e,n){t.removeEventListener(e,n,!1)}:e.detachEvent&&(i=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var o={bind:n,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==o.readyState;if(!e.isReady&&!n){e.isReady=!0;for(var i=0,s=r.length;s>i;i++){var a=r[i];a()}}}function i(i){return i.bind(o,"DOMContentLoaded",n),i.bind(o,"readystatechange",n),i.bind(t,"load",n),e}var o=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],i)):t.docReady=i(t.eventie)}(this),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],n.once===!0&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=n.length;r>o;o++)if(e=n[o]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),n=-1===t.indexOf("%")&&!isNaN(e);return n&&e}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=a.length;n>e;e++){var i=a[e];t[i]=0}return t}function i(t){function i(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=s(t);if("none"===i.display)return n();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var u=r.isBorderBox=!(!c||!i[c]||"border-box"!==i[c]),h=0,d=a.length;d>h;h++){var f=a[h],p=i[f];p=o(t,p);var m=parseFloat(p);r[f]=isNaN(m)?0:m}var g=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,y=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,C=r.borderLeftWidth+r.borderRightWidth,w=r.borderTopWidth+r.borderBottomWidth,S=u&&l,x=e(i.width);x!==!1&&(r.width=x+(S?0:g+C));var _=e(i.height);return _!==!1&&(r.height=_+(S?0:v+w)),r.innerWidth=r.width-(g+C),r.innerHeight=r.height-(v+w),r.outerWidth=r.width+y,r.outerHeight=r.height+b,r}}function o(t,e){if(r||-1===e.indexOf("%"))return e;var n=t.style,i=n.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),n.left=e,e=n.pixelLeft,n.left=i,s&&(o.left=s),e}var l,c=t("boxSizing");return function(){if(c){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[c]="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=s(t);l=200===e(i.width),n.removeChild(t)}}(),i}var o=document.defaultView,r=o&&o.getComputedStyle,s=r?function(t){return o.getComputedStyle(t,null)}:function(t){return t.currentStyle},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("get-style-property")):t.getSize=i(t.getStyleProperty)}(window),function(t,e){function n(t,e){return t[a](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function o(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;r>o;o++)if(n[o]===t)return!0;return!1}function r(t,e){return i(t),n(t,e)}var s,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var o=t[n],r=o+"MatchesSelector";if(e[r])return r}}();if(a){var l=document.createElement("div"),c=n(l,"div");s=c?n:r}else s=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){for(var e in t)return!1;return e=null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),c=r("transform"),u=l&&c,h=!!r("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],f=["transform","transition","transitionDuration","transitionProperty"],p=function(){for(var t={},e=0,n=f.length;n>e;e++){var i=f[e],o=r(i);o&&o!==i&&(t[i]=o)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transition={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var n in t){var i=p[n]||n;e[i]=t[n]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,o=parseInt(t[n?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var a=this.layout.size;o-=n?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={};e.isOriginLeft?(n.left=this.position.x+t.paddingLeft+"px",n.right=""):(n.right=this.position.x+t.paddingRight+"px",n.left=""),e.isOriginTop?(n.top=this.position.y+t.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+t.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var m=h?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=t-n,l=e-i,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(t),void 0;var e=this._transition;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=c&&i(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transition,i=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=document.defaultView,s=r&&r.getComputedStyle?function(t){return r.getComputedStyle(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return"[object Array]"===h.call(t)}function i(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function o(t,e){var n=f(e,t);-1!==n&&e.splice(n,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}function s(n,s,h,f,p,m){function g(t,n){if("string"==typeof t&&(t=a.querySelector(t)),!t||!d(t))return l&&l.error("Bad "+this.settings.namespace+" element: "+t),void 0;this.element=t,this.options=e({},this.options),this.option(n);var i=++y;this.element.outlayerGUID=i,b[i]=this,this._create(),this.options.isInitLayout&&this.layout()}function v(t,n){t.prototype[n]=e({},g.prototype[n])}var y=0,b={};return g.prototype.settings={namespace:"outlayer",item:m},g.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,h.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.settings.item,i=[],o=0,r=e.length;r>o;o++){var s=e[o],a=new n(s,this);i.push(a)}return i},g.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,n=[],o=0,r=t.length;r>o;o++){var s=t[o];if(d(s))if(e){p(s,e)&&n.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)n.push(a[l])}else n.push(s)}return n},g.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=f(this.element)},g.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):d(i)&&(n=i),this[t]=n?f(n)[e]:i):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n];o.isIgnored||e.push(o)}return e},g.prototype._layoutItems=function(t,e){if(!t||!t.length)return this.emitEvent("layoutComplete",[this,t]),void 0;this._itemsOn(t,"layout",function(){this.emitEvent("layoutComplete",[this,t])});for(var n=[],i=0,o=t.length;o>i;i++){var r=t[i],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=e,n.push(s)}this._processLayoutQueue(n)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},g.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},g.prototype._postLayout=function(){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},g.prototype._getContainerSize=u,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,n){function i(){return o++,o===r&&n.call(s),!0}for(var o=0,r=t.length,s=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,i)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.ignore(i)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var i=t[e];o(i,this.stamps),this.unignore(i)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=u,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=f(t),o={left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom};return o},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(n.bind(t,"resize",this),this.isResizeBound=!0)
},g.prototype.unbindResize=function(){n.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){var t=f(this.element),e=this.size&&t;e&&t.innerWidth===this.size.innerWidth||this.layout()},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},g.prototype.reveal=function(t){if(t&&t.length)for(var e=0,n=t.length;n>e;e++){var i=t[e];i.reveal()}},g.prototype.hide=function(t){if(t&&t.length)for(var e=0,n=t.length;n>e;e++){var i=t[e];i.hide()}},g.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n],r=this.getItem(o);r&&e.push(r)}return e}},g.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var n=0,r=e.length;r>n;n++){var s=e[n];s.remove(),o(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];i.destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.settings.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&b[e]},g.create=function(t,n){function i(){g.apply(this,arguments)}return e(i.prototype,g.prototype),v(i,"options"),v(i,"settings"),e(i.prototype.options,n),i.prototype.settings.namespace=t,i.data=g.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,i.prototype.settings.item=i.Item,s(function(){for(var e=r(t),n=a.querySelectorAll(".js-"+e),o="data-"+e+"-options",s=0,u=n.length;u>s;s++){var h,d=n[s],f=d.getAttribute(o);try{h=f&&JSON.parse(f)}catch(p){l&&l.error("Error parsing "+o+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+p);continue}var m=new i(d,h);c&&c.data(d,t,m)}}),c&&c.bridget&&c.bridget(t,i),i},g.Item=m,g}var a=t.document,l=t.console,c=t.jQuery,u=function(){},h=Object.prototype.toString,d="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},f=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=Math.ceil(t.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var i=this._getColGroup(e),o=Math.min.apply(Math,i),r=n(i,o),s={x:this.columnWidth*r,y:o},a=o+t.size.outerHeight,l=this.cols+1-i.length,c=0;l>c;c++)this.colYs[r+c]=a;return s},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this.options.isOriginLeft?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.resize=function(){var t=this.containerWidth;this.getContainerWidth(),t!==this.containerWidth&&this.layout()},i}var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++){var o=t[n];if(o===e)return n}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(){}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return e(n,t)}):e(t.jQuery,t)}(this,function(n,i){var o,r,s,a,l,c,u,h,d,f,p,m,g,v,y,b;return o=n(i),h=t.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,u={},c="waypoints-context-id",p="resize.waypoints",m="scroll.waypoints",g=1,v="waypoints-waypoint-ids",y="waypoint",b="waypoints",r=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(c,this.id),u[this.id]=this,t.bind(m,function(){var t;return e.didScroll||h?void 0:(e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,n[b].settings.scrollThrottle))}),t.bind(p,function(){var t;return e.didResize?void 0:(e.didResize=!0,t=function(){return n[b]("refresh"),e.didResize=!1},i.setTimeout(t,n[b].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!h||t.vertical.oldScroll&&t.vertical.newScroll||n[b]("refresh"),n.each(t,function(t,i){var o,r,s;return s=[],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward,n.each(e.waypoints[t],function(t,e){var n,o;return i.oldScroll<(n=e.offset)&&n<=i.newScroll?s.push(e):i.newScroll<(o=e.offset)&&o<=i.oldScroll?s.push(e):void 0}),s.sort(function(t,e){return t.offset-e.offset}),r||s.reverse(),n.each(s,function(t,e){return e.options.continuous||t===s.length-1?e.trigger([o]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,o=this;return i=n.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(t,function(t,e){return n.each(o.waypoints[t],function(t,i){var o,r,s,a,l;return o=i.options.offset,s=i.offset,r=n.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(e.contextDimension*o/100))),i.offset=r-e.contextOffset+e.contextScroll-o,i.options.onlyOnScroll&&null!=s||!i.enabled?void 0:null!==s&&s<(a=e.oldScroll)&&a<=i.offset?i.trigger([e.backward]):null!==s&&s>(l=e.oldScroll)&&l>=i.offset?i.trigger([e.forward]):null===s&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([p,m].join(" ")),delete u[this.id]):void 0},t}(),s=function(){function t(t,e,i){var o,r;i=n.extend({},n.fn[y].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=n[b]("viewportHeight"),n.isWindow(e.element)||(t=e.$element.height()),t-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+g++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,o=null!=(r=t.data(v))?r:[],o.push(this.id),t.data(v,o)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=n(t).data(v))?(e=n.extend({},a.horizontal,a.vertical),n.map(i,function(t){return e[t]})):[]},t}(),f={init:function(t,e){var i;return null==e&&(e={}),null==(i=e.handler)&&(e.handler=t),this.each(function(){var t,i,o,a;return t=n(this),o=null!=(a=e.context)?a:n.fn[y].defaults.context,n.isWindow(o)||(o=t.closest(o)),o=n(o),i=u[o.data(c)],i||(i=new r(o)),new s(t,i,e)}),n[b]("refresh"),this},disable:function(){return f._invoke(this,"disable")},enable:function(){return f._invoke(this,"enable")},destroy:function(){return f._invoke(this,"destroy")},prev:function(t,e){return f._traverse.call(this,t,e,function(t,e,n){return e>0?t.push(n[e-1]):void 0})},next:function(t,e){return f._traverse.call(this,t,e,function(t,e,n){return e<n.length-1?t.push(n[e+1]):void 0})},_traverse:function(t,e,o){var r,s;return null==t&&(t="vertical"),null==e&&(e=i),s=d.aggregate(e),r=[],this.each(function(){var e;return e=n.inArray(this,s[t]),o(r,e,s[t])}),this.pushStack(r)},_invoke:function(t,e){return t.each(function(){var t;return t=s.getWaypointsByElement(this),n.each(t,function(t,n){return n[e](),!0})}),this}},n.fn[y]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],f[i]?f[i].apply(this,t):n.isFunction(i)?f.init.apply(this,arguments):n.isPlainObject(i)?f.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[y].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},d={refresh:function(){return n.each(u,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:o.height()},aggregate:function(t){var e,i,o;return e=a,t&&(e=null!=(o=u[n(t).data(c)])?o.waypoints:void 0),e?(i={horizontal:[],vertical:[]},n.each(i,function(t,o){return n.each(e[t],function(t,e){return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),i[t]=n.map(o,function(t){return t.element}),i[t]=n.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),d._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),d._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),d._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),d._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return d._invoke("enable")},disable:function(){return d._invoke("disable")},destroy:function(){return d._invoke("destroy")},extendFn:function(t,e){return f[t]=e},_invoke:function(t){var e;return e=n.extend({},a.vertical,a.horizontal),n.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,i){var o,r;return(o=u[n(t).data(c)])?(r=[],n.each(o.waypoints[e],function(t,e){return i(o,e)?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),n.map(r,function(t){return t.element})):[]}},n[b]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],d[n]?d[n].apply(null,t):d.aggregate.call(null,n)},n[b].settings={resizeThrottle:100,scrollThrottle:30},o.load(function(){return n[b]("refresh")})})}.call(this);